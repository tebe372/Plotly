/* Copyright Plotly Inc. 
All material herein is subject to copyright and 1-year license terms as described at 
https://plot.ly/licensing. Using or modifying this file is strictly prohibited without
purchasing a license or receiving written permission from Plotly Inc */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Plotly=e()}}(function(){var e;return function e(t,r,n){function a(i,l){if(!r[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){var r=t[i][1][e];return a(r?r:e)},u,u.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],i(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,l=new Array(a-1),s=1;a>s;s++)l[s-1]=arguments[s];r.apply(this,l)}else if(o(r)){for(a=arguments.length,l=new Array(a-1),s=1;a>s;s++)l[s-1]=arguments[s];for(c=r.slice(),a=c.length,s=0;a>s;s++)c[s].apply(this,l)}return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var a;a=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,a,i,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(l=i;l-->0;)if(r[l]===t||r[l].listener&&r[l].listener===t){a=l;break}if(0>a)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){function r(){if(!i){i=!0;for(var e,t=o.length;t;){e=o,o=[];for(var r=-1;++r<t;)e[r]();t=o.length}i=!1}}function n(){}var a=t.exports={},o=[],i=!1;a.nextTick=function(e){o.push(e),i||setTimeout(r,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=n,a.addListener=n,a.once=n,a.off=n,a.removeListener=n,a.removeAllListeners=n,a.emit=n,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],3:[function(e){"use strict";var t=e("../src/plotly"),r={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;",Y:"position:fixed;top:50px;right:20px;z-index:10000;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in r){var a=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");t.Lib.addStyleRule(a,r[n])}},{"../src/plotly":48}],4:[function(e,t){"use strict";t.exports={ascent:850,descent:-150,undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z"},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z"},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z"},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z"},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z"},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z"},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z"},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z"},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z"},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z"},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z"},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z"},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z"},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z"},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z"}}},{}],5:[function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t=r.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!a)return!1;var o;for(o in e);return"undefined"==typeof o||r.call(e,o)};t.exports=function e(){var t,r,n,i,l,s,c=arguments[0],u=1,d=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},u=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});d>u;++u)if(t=arguments[u],null!=t)for(r in t)n=c[r],i=t[r],c!==i&&(f&&i&&(o(i)||(l=a(i)))?(l?(l=!1,s=n&&a(n)?n:[]):s=n&&o(n)?n:{},c[r]=e(f,s,i)):"undefined"!=typeof i&&(c[r]=i));return c}},{}],6:[function(e,t){function r(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=r+r,l=n+n,s=a+a,c=r*i,u=n*i,d=n*l,f=a*i,h=a*l,p=a*s,g=o*i,m=o*l,y=o*s;return e[0]=1-d-p,e[1]=u+y,e[2]=f-m,e[3]=0,e[4]=u-y,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=f+m,e[9]=h-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],7:[function(e,t){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=Object.assign||function(e){for(var t,n,a=r(e),o=1;o<arguments.length;o++){t=arguments[o],n=Object.keys(Object(t));for(var i=0;i<n.length;i++)a[n[i]]=t[n[i]]}return a}},{}],8:[function(t,r){!function(){function t(e,r){if(e=e?e:"",r=r||{},e instanceof t)return e;if(!(this instanceof t))return new t(e,r);var a=n(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=H(100*this._a)/100,this._format=r.format||a.format,this._gradientType=r.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=a.ok,this._tc_id=B++}function n(e){var t={r:0,g:0,b:0},r=1,n=!1,o=!1;return"string"==typeof e&&(e=I(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=a(e.r,e.g,e.b),n=!0,o="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=D(e.s),e.v=D(e.v),t=s(e.h,e.s,e.v),n=!0,o="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=D(e.s),e.l=D(e.l),t=i(e.h,e.s,e.l),n=!0,o="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=M(r),{ok:n,format:e.format||o,r:V(255,q(t.r,0)),g:V(255,q(t.g,0)),b:V(255,q(t.b,0)),a:r}}function a(e,t,r){return{r:255*L(e,255),g:255*L(t,255),b:255*L(r,255)}}function o(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,a,o=q(e,t,r),i=V(e,t,r),l=(o+i)/2;if(o==i)n=a=0;else{var s=o-i;switch(a=l>.5?s/(2-o-i):s/(o+i),o){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:a,l:l}}function i(e,t,r){function n(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var a,o,i;if(e=L(e,360),t=L(t,100),r=L(r,100),0===t)a=o=i=r;else{var l=.5>r?r*(1+t):r+t-r*t,s=2*r-l;a=n(s,l,e+1/3),o=n(s,l,e),i=n(s,l,e-1/3)}return{r:255*a,g:255*o,b:255*i}}function l(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,a,o=q(e,t,r),i=V(e,t,r),l=o,s=o-i;if(a=0===o?0:s/o,o==i)n=0;else{switch(o){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:a,v:l}}function s(e,t,r){e=6*L(e,360),t=L(t,100),r=L(r,100);var n=F.floor(e),a=e-n,o=r*(1-t),i=r*(1-a*t),l=r*(1-(1-a)*t),s=n%6,c=[r,i,o,o,l,r][s],u=[l,r,r,i,o,o][s],d=[o,o,l,r,r,i][s];return{r:255*c,g:255*u,b:255*d}}function c(e,t,r,n){var a=[O(H(e).toString(16)),O(H(t).toString(16)),O(H(r).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function u(e,t,r,n){var a=[O(T(n)),O(H(e).toString(16)),O(H(t).toString(16)),O(H(r).toString(16))];return a.join("")}function d(e,r){r=0===r?0:r||10;var n=t(e).toHsl();return n.s-=r/100,n.s=z(n.s),t(n)}function f(e,r){r=0===r?0:r||10;var n=t(e).toHsl();return n.s+=r/100,n.s=z(n.s),t(n)}function h(e){return t(e).desaturate(100)}function p(e,r){r=0===r?0:r||10;var n=t(e).toHsl();return n.l+=r/100,n.l=z(n.l),t(n)}function g(e,r){r=0===r?0:r||10;var n=t(e).toRgb();return n.r=q(0,V(255,n.r-H(255*-(r/100)))),n.g=q(0,V(255,n.g-H(255*-(r/100)))),n.b=q(0,V(255,n.b-H(255*-(r/100)))),t(n)}function m(e,r){r=0===r?0:r||10;var n=t(e).toHsl();return n.l-=r/100,n.l=z(n.l),t(n)}function y(e,r){var n=t(e).toHsl(),a=(H(n.h)+r)%360;return n.h=0>a?360+a:a,t(n)}function v(e){var r=t(e).toHsl();return r.h=(r.h+180)%360,t(r)}function x(e){var r=t(e).toHsl(),n=r.h;return[t(e),t({h:(n+120)%360,s:r.s,l:r.l}),t({h:(n+240)%360,s:r.s,l:r.l})]}function b(e){var r=t(e).toHsl(),n=r.h;return[t(e),t({h:(n+90)%360,s:r.s,l:r.l}),t({h:(n+180)%360,s:r.s,l:r.l}),t({h:(n+270)%360,s:r.s,l:r.l})]}function w(e){var r=t(e).toHsl(),n=r.h;return[t(e),t({h:(n+72)%360,s:r.s,l:r.l}),t({h:(n+216)%360,s:r.s,l:r.l})]}function _(e,r,n){r=r||6,n=n||30;var a=t(e).toHsl(),o=360/n,i=[t(e)];for(a.h=(a.h-(o*r>>1)+720)%360;--r;)a.h=(a.h+o)%360,i.push(t(a));return i}function k(e,r){r=r||6;for(var n=t(e).toHsv(),a=n.h,o=n.s,i=n.v,l=[],s=1/r;r--;)l.push(t({h:a,s:o,v:i})),i=(i+s)%1;return l}function A(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function M(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function L(e,t){S(e)&&(e="100%");var r=P(e);return e=V(t,q(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),F.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function z(e){return V(1,q(0,e))}function C(e){return parseInt(e,16)}function S(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function P(e){return"string"==typeof e&&-1!=e.indexOf("%")}function O(e){return 1==e.length?"0"+e:""+e}function D(e){return 1>=e&&(e=100*e+"%"),e}function T(e){return Math.round(255*parseFloat(e)).toString(16)}function E(e){return C(e)/255}function I(e){e=e.replace(N,"").replace(R,"").toLowerCase();var t=!1;if(Z[e])e=Z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Y.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Y.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Y.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Y.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Y.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Y.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Y.hex8.exec(e))?{a:E(r[1]),r:C(r[2]),g:C(r[3]),b:C(r[4]),format:t?"name":"hex8"}:(r=Y.hex6.exec(e))?{r:C(r[1]),g:C(r[2]),b:C(r[3]),format:t?"name":"hex"}:(r=Y.hex3.exec(e))?{r:C(r[1]+""+r[1]),g:C(r[2]+""+r[2]),b:C(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function j(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:t,size:r}}var N=/^[\s,#]+/,R=/\s+$/,B=0,F=Math,H=F.round,V=F.min,q=F.max,G=F.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n,a,o,i=this.toRgb();return e=i.r/255,t=i.g/255,r=i.b/255,n=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),a=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4),o=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*n+.7152*a+.0722*o},setAlpha:function(e){return this._a=M(e),this._roundA=H(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=H(360*e.h),r=H(100*e.s),n=H(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=H(360*e.h),r=H(100*e.s),n=H(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return u(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*L(this._r,255))+"%",g:H(100*L(this._g,255))+"%",b:H(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*L(this._r,255))+"%, "+H(100*L(this._g,255))+"%, "+H(100*L(this._b,255))+"%)":"rgba("+H(100*L(this._r,255))+"%, "+H(100*L(this._g,255))+"%, "+H(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:U[c(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+u(this._r,this._g,this._b,this._a),n=r,a=this._gradientType?"GradientType = 1, ":"";if(e){var o=t(e);n=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,a=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return a?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},t.fromRatio=function(e,r){if("object"==typeof e){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]="a"===a?e[a]:D(e[a]));e=n}return t(e,r)},t.equals=function(e,r){return e&&r?t(e).toRgbString()==t(r).toRgbString():!1},t.random=function(){return t.fromRatio({r:G(),g:G(),b:G()})},t.mix=function(e,r,n){n=0===n?0:n||50;var a,o=t(e).toRgb(),i=t(r).toRgb(),l=n/100,s=2*l-1,c=i.a-o.a;a=s*c==-1?s:(s+c)/(1+s*c),a=(a+1)/2;var u=1-a,d={r:i.r*a+o.r*u,g:i.g*a+o.g*u,b:i.b*a+o.b*u,a:i.a*l+o.a*(1-l)};return t(d)},t.readability=function(e,r){var n=t(e),a=t(r);return(Math.max(n.getLuminance(),a.getLuminance())+.05)/(Math.min(n.getLuminance(),a.getLuminance())+.05)},t.isReadable=function(e,r,n){var a,o,i=t.readability(e,r);switch(o=!1,a=j(n),a.level+a.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},t.mostReadable=function(e,r,n){var a,o,i,l,s=null,c=0;n=n||{},o=n.includeFallbackColors,i=n.level,l=n.size;for(var u=0;u<r.length;u++)a=t.readability(e,r[u]),a>c&&(c=a,s=t(r[u]));return t.isReadable(e,s,{level:i,size:l})||!o?s:(n.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],n))};var Z=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=t.hexNames=A(Z),Y=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof r&&r.exports?r.exports=t:"function"==typeof e&&e.amd?e(function(){return t}):window.tinycolor=t}()},{}],9:[function(t,r){!function(){function t(e,t){function r(t){var r,n=e.arcs[0>t?~t:t],a=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],0>t?[r,a]:[a,r]}function n(e,t){for(var r in e){var n=e[r];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){a[0>e?~e:e]=1}),l.push(n)}}var a={},o={},i={},l=[],s=-1;return t.forEach(function(r,n){var a,o=e.arcs[0>r?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(a=t[++s],t[s]=r,t[n]=a)}),t.forEach(function(e){var t,n,a=r(e),l=a[0],s=a[1];if(t=i[l])if(delete i[t.end],t.push(e),t.end=s,n=o[s]){delete o[n.start];var c=n===t?t:t.concat(n);o[c.start=t.start]=i[c.end=n.end]=c}else o[t.start]=i[t.end]=t;else if(t=o[s])if(delete o[t.start],t.unshift(e),t.start=l,n=i[l]){delete i[n.end];var u=n===t?t:n.concat(t);o[u.start=n.start]=i[u.end=t.end]=u}else o[t.start]=i[t.end]=t;else t=[e],o[t.start=l]=i[t.end=s]=t}),n(i,o),n(o,i),t.forEach(function(e){a[0>e?~e:e]||l.push([e])}),l}function a(e,r,n){function a(e){var t=0>e?~e:e;(u[t]||(u[t]=[])).push({i:e,g:c})}function o(e){e.forEach(a)}function i(e){e.forEach(o)}function l(e){"GeometryCollection"===e.type?e.geometries.forEach(l):e.type in d&&(c=e,d[e.type](e.arcs))}var s=[];if(arguments.length>1){var c,u=[],d={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(e){e.forEach(i)}};l(r),u.forEach(arguments.length<3?function(e){s.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&s.push(e[0].i)})}else for(var f=0,h=e.arcs.length;h>f;++f)s.push(f);return{type:"MultiLineString",arcs:t(e,s)}}function o(e,r){function a(e){e.forEach(function(t){t.forEach(function(t){(i[t=0>t?~t:t]||(i[t]=[])).push(e)})}),l.push(e)}function o(t){return h(s(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var i={},l=[],c=[];return r.forEach(function(e){"Polygon"===e.type?a(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(a)}),l.forEach(function(e){if(!e._){var t=[],r=[e];for(e._=1,c.push(t);e=r.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){i[0>e?~e:e].forEach(function(e){e._||(e._=1,r.push(e))})})})}}),l.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:c.map(function(r){var a=[];if(r.forEach(function(e){e.forEach(function(e){e.forEach(function(e){i[0>e?~e:e].length<2&&a.push(e)})})}),a=t(e,a),(n=a.length)>1)for(var l,s=o(r[0][0]),c=0;c<n;++c)if(s===o(a[c])){l=a[0],a[0]=a[c],a[c]=l;break}return a})}}function i(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return l(e,t)})}:l(e,t)}function l(e,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:s(e,t)};return null==t.id&&delete r.id,r}function s(e,t){function r(e,t){t.length&&t.pop();for(var r,n=u[0>e?~e:e],a=0,o=n.length;o>a;++a)t.push(r=n[a].slice()),s(r,a);0>e&&c(t,o)}function n(e){return e=e.slice(),s(e,0),e}function a(e){for(var t=[],n=0,a=e.length;a>n;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function o(e){for(var t=a(e);t.length<4;)t.push(t[0].slice());return t}function i(e){return e.map(o)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in d?{type:t,coordinates:d[t](e)}:null
}var s=y(e.transform),u=e.arcs,d={Point:function(e){return n(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(n)},LineString:function(e){return a(e.arcs)},MultiLineString:function(e){return e.arcs.map(a)},Polygon:function(e){return i(e.arcs)},MultiPolygon:function(e){return e.arcs.map(i)}};return l(t)}function c(e,t){for(var r,n=e.length,a=n-t;a<--n;)r=e[a],e[a++]=e[n],e[n]=r}function u(e,t){for(var r=0,n=e.length;n>r;){var a=r+n>>>1;e[a]<t?r=a+1:n=a}return r}function d(e){function t(e,t){e.forEach(function(e){0>e&&(e=~e);var r=a[e];r?r.push(t):a[e]=[t]})}function r(e,r){e.forEach(function(e){t(e,r)})}function n(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){n(e,t)}):e.type in i&&i[e.type](e.arcs,t)}var a={},o=e.map(function(){return[]}),i={LineString:t,MultiLineString:r,Polygon:r,MultiPolygon:function(e,t){e.forEach(function(e){r(e,t)})}};e.forEach(n);for(var l in a)for(var s=a[l],c=s.length,d=0;c>d;++d)for(var f=d+1;c>f;++f){var h,p=s[d],g=s[f];(h=o[p])[l=u(h,g)]!==g&&h.splice(l,0,g),(h=o[g])[l=u(h,p)]!==p&&h.splice(l,0,p)}return o}function f(e,t){function r(e){o.remove(e),e[1][2]=t(e),o.push(e)}var n=y(e.transform),a=v(e.transform),o=m();return t||(t=p),e.arcs.forEach(function(e){for(var i,l,s=[],c=0,u=0,d=e.length;d>u;++u)l=e[u],n(e[u]=[l[0],l[1],1/0],u);for(var u=1,d=e.length-1;d>u;++u)i=e.slice(u-1,u+2),i[1][2]=t(i),s.push(i),o.push(i);for(var u=0,d=s.length;d>u;++u)i=s[u],i.previous=s[u-1],i.next=s[u+1];for(;i=o.pop();){var f=i.previous,h=i.next;i[1][2]<c?i[1][2]=c:c=i[1][2],f&&(f.next=h,f[2]=i[2],r(f)),h&&(h.previous=f,h[0]=i[0],r(h))}e.forEach(a)}),e}function h(e){for(var t,r=-1,n=e.length,a=e[n-1],o=0;++r<n;)t=a,a=e[r],o+=t[0]*a[1]-t[1]*a[0];return.5*o}function p(e){var t=e[0],r=e[1],n=e[2];return Math.abs((t[0]-n[0])*(r[1]-t[1])-(t[0]-r[0])*(n[1]-t[1]))}function g(e,t){return e[1][2]-t[1][2]}function m(){function e(e,t){for(;t>0;){var r=(t+1>>1)-1,a=n[r];if(g(e,a)>=0)break;n[a._=t]=a,n[e._=t=r]=e}}function t(e,t){for(;;){var r=t+1<<1,o=r-1,i=t,l=n[i];if(a>o&&g(n[o],l)<0&&(l=n[i=o]),a>r&&g(n[r],l)<0&&(l=n[i=r]),i===t)break;n[l._=t]=l,n[e._=t=i]=e}}var r={},n=[],a=0;return r.push=function(t){return e(n[t._=a]=t,a++),a},r.pop=function(){if(!(0>=a)){var e,r=n[0];return--a>0&&(e=n[a],t(n[e._=0]=e,0)),r}},r.remove=function(r){var o,i=r._;if(n[i]===r)return i!==--a&&(o=n[a],(g(o,r)<0?e:t)(n[o._=i]=o,i)),i},r}function y(e){if(!e)return x;var t,r,n=e.scale[0],a=e.scale[1],o=e.translate[0],i=e.translate[1];return function(e,l){l||(t=r=0),e[0]=(t+=e[0])*n+o,e[1]=(r+=e[1])*a+i}}function v(e){if(!e)return x;var t,r,n=e.scale[0],a=e.scale[1],o=e.translate[0],i=e.translate[1];return function(e,l){l||(t=r=0);var s=(e[0]-o)/n|0,c=(e[1]-i)/a|0;e[0]=s-t,e[1]=c-r,t=s,r=c}}function x(){}var b={version:"1.6.19",mesh:function(e){return s(e,a.apply(this,arguments))},meshArcs:a,merge:function(e){return s(e,o.apply(this,arguments))},mergeArcs:o,feature:i,neighbors:d,presimplify:f};"function"==typeof e&&e.amd?e(b):"object"==typeof r&&r.exports?r.exports=b:this.topojson=b}()},{}],10:[function(e,t){"use strict";function r(e,t){function r(t,r){return i.Lib.coerce(e,n,o.layoutAttributes,t,r)}var n={};r("opacity"),r("align"),r("bgcolor");var a=r("bordercolor"),l=i.Color.opacity(a);r("borderpad");var s=r("borderwidth"),c=r("showarrow");c&&(r("arrowcolor",l?n.bordercolor:i.Color.defaultLine),r("arrowhead"),r("arrowsize"),r("arrowwidth",2*(l&&s||1)),r("ax"),r("ay"),i.Lib.noneOrAll(e,n,["ax","ay"])),r("text",c?"&nbsp;":"new text"),r("textangle"),r("font",t.font);for(var u=["x","y"],d=0;2>d;d++){var f=u[d],h={_fullLayout:t},p=i.Axes.coerceRef(e,n,h,f),g=.5;if("paper"!==p){var m=i.Axes.getFromId(h,p);if(g=m.range[0]+g*(m.range[1]-m.range[0]),-1!==["date","category"].indexOf(m.type)&&"string"==typeof e[f]){var y;"date"===m.type?(y=i.Lib.dateTime2ms(e[f]),y!==!1&&(e[f]=y)):(m._categories||[]).length&&(y=m._categories.indexOf(e[f]),-1!==y&&(e[f]=y))}}r(f,g),c||r(f+"anchor")}return i.Lib.noneOrAll(e,n,["x","y"]),n}function n(e){var t=e._fullLayout;t.annotations.forEach(function(t){var r=i.Axes.getFromId(e,t.xref),n=i.Axes.getFromId(e,t.yref);if(r||n){var a=(t._xsize||0)/2,o=t._xshift||0,l=(t._ysize||0)/2,s=t._yshift||0,c=a-o,u=a+o,d=l-s,f=l+s;if(t.showarrow){var h=3*t.arrowsize*t.arrowwidth;c=Math.max(c,h),u=Math.max(u,h),d=Math.max(d,h),f=Math.max(f,h)}r&&r.autorange&&i.Axes.expand(r,[r.l2c(t.x)],{ppadplus:u,ppadminus:c}),n&&n.autorange&&i.Axes.expand(n,[n.l2c(t.y)],{ppadplus:f,ppadminus:d})}})}function a(e,t,r,n,a,o,i,l){var s=r-e,c=a-e,u=i-a,d=n-t,f=o-t,h=l-o,p=s*h-u*d;if(0===p)return null;var g=(c*h-u*f)/p,m=(c*d-s*f)/p;return 0>m||m>1||0>g||g>1?null:{x:e+s*g,y:t+d*g}}var o=t.exports={},i=e("./plotly"),l=e("./isnumeric");o.ARROWPATHS=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}],o.layoutAttributes={_isLinkedToArray:!0,text:{type:"string",blankOk:!1},textangle:{type:"angle",dflt:0},font:{type:"font"},opacity:{type:"number",min:0,max:1,dflt:1},align:{type:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{type:"color",dflt:"rgba(0,0,0,0)"},bordercolor:{type:"color",dflt:"rgba(0,0,0,0)"},borderpad:{type:"number",min:0,dflt:1},borderwidth:{type:"number",min:0,dflt:1},showarrow:{type:"boolean",dflt:!0},arrowcolor:{type:"color"},arrowhead:{type:"integer",min:0,max:o.ARROWPATHS.length,dflt:1},arrowsize:{type:"number",min:.3,dflt:1},arrowwidth:{type:"number",min:.1},ax:{type:"number",dflt:-10},ay:{type:"number",dflt:-30},xref:{type:"enumerated"},x:{type:"number"},xanchor:{type:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{type:"enumerated"},y:{type:"number"},yanchor:{type:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}},o.supplyLayoutDefaults=function(e,t){for(var n=e.annotations||[],a=t.annotations=[],o=0;o<n.length;o++)a.push(r(n[o]||{},t))},o.drawAll=function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++)o.draw(e,r);return i.Plots.previousPromises(e)},o.add=function(e){var t=e._fullLayout.annotations.length;i.relayout(e,"annotations["+t+"]","add")},o.draw=function(e,t,n,s){function c(e){return e.call(i.Drawing.font,Z).attr({"text-anchor":{left:"start",right:"end"}[T.align]||"middle"}),i.util.convertToTspans(e,u),e}function u(){function r(e,t){return"auto"===t&&(t=1/3>e?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}U.selectAll("tspan.line").attr({y:0,x:0});var n=F.select(".annotation-math-group"),l=!n.empty(),s=i.Drawing.bBox((l?n:U).node()),c=s.width,u=s.height,d=Math.round(c+2*q),f=Math.round(u+2*q);T._w=c,T._h=u;var p=!1;if(["x","y"].forEach(function(t){var n,a=i.Axes.getFromId(e,T[t+"ref"]||t),o=(N+("x"===t?0:90))*Math.PI/180,l=d*Math.abs(Math.cos(o))+f*Math.abs(Math.sin(o)),s=T[t+"anchor"];if(a){if(!a.autorange&&(T[t]-a.range[0])*(T[t]-a.range[1])>0)return void(p=!0);j[t]=a._offset+a.l2p(T[t]),n=.5}else n=T[t],"y"===t&&(n=1-n),j[t]="x"===t?w.l+w.w*n:w.t+w.h*n;var c=0;c=T.showarrow?T["a"+t]:l*r(n,s),j[t]+=c,T["_"+t+"type"]=a&&a.type,T["_"+t+"size"]=l,T["_"+t+"shift"]=c}),p)return void F.remove();var g,m;T.showarrow&&(g=i.Lib.constrain(j.x-T.ax,1,h.width-1),m=i.Lib.constrain(j.y-T.ay,1,h.height-1)),j.x=i.Lib.constrain(j.x,1,h.width-1),j.y=i.Lib.constrain(j.y,1,h.height-1);var y=q-s.top,v=q-s.left;l?n.select("svg").attr({x:q-1,y:q}):(U.attr({x:v,y:y}),U.selectAll("tspan.line").attr({y:y,x:v})),G.call(i.Drawing.setRect,H/2,H/2,d-H,f-H),F.call(i.Drawing.setRect,Math.round(j.x-d/2),Math.round(j.y-f/2),d,f);var x="annotations["+t+"]",b=function(r,n){$(e).find('.annotation-arrow-g[data-index="'+t+'"]').remove();var l=j.x+r,s=j.y+n,c=i.Lib.rotationXYMatrix(N,l,s),u=i.Lib.apply2DTransform(c),d=i.Lib.apply2DTransform2(c),f=G.attr("width")/2,h=G.attr("height")/2,p=[[l-f,s-h,l-f,s+h],[l-f,s+h,l+f,s+h],[l+f,s+h,l+f,s-h],[l+f,s-h,l-f,s-h]].map(d);if(!p.reduce(function(e,t){return e^!!a(g,m,g+1e6,m+1e6,t[0],t[1],t[2],t[3])},!1)){p.forEach(function(e){var t=a(l,s,g,m,e[0],e[1],e[2],e[3]);t&&(l=t.x,s=t.y)});var y=T.arrowwidth,v=T.arrowcolor,b=R.append("g").style({opacity:i.Color.opacity(v)}).classed("annotation-arrow-g",!0).attr("data-index",String(t)),_=b.append("path").attr("d","M"+l+","+s+"L"+g+","+m).style("stroke-width",y+"px").call(i.Color.stroke,i.Color.rgb(v));o.arrowhead(_,T.arrowhead,"end",T.arrowsize);var k=b.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(t),d:"M3,3H-3V-3H3ZM0,0L"+(l-g)+","+(s-m),transform:"translate("+g+","+m+")"}).style("stroke-width",y+6+"px").call(i.Color.stroke,"rgba(0,0,0,0)").call(i.Color.fill,"rgba(0,0,0,0)");if(e._context.editable){var A,M,L;i.Fx.dragElement({element:k.node(),prepFn:function(){M=Number(F.attr("x")),L=Number(F.attr("y")),A={},E&&E.autorange&&(A[E._name+".autorange"]=!0),I&&I.autorange&&(A[I._name+".autorange"]=!0)},moveFn:function(e,t){b.attr("transform","translate("+e+","+t+")");var r=u(M,L),n=r[0]+e,a=r[1]+t;F.call(i.Drawing.setPosition,n,a),A[x+".x"]=E?T.x+e/E._m:(g+e-w.l)/w.w,A[x+".y"]=I?T.y+t/I._m:1-(m+t-w.t)/w.h,B.attr({transform:"rotate("+N+","+n+","+a+")"})},doneFn:function(t){if(t){i.relayout(e,A);var r=document.querySelector(".js-notes-box-panel");r&&r.redraw(r.selectedObj)}}})}}};T.showarrow&&b(0,0);var _=i.Lib.rotationXYMatrix(N,j.x,j.y),k=i.Lib.apply2DTransform(_);if(e._context.editable){var A,M,L;i.Fx.dragElement({element:F.node(),prepFn:function(){A=Number(F.attr("x")),M=Number(F.attr("y")),L={}},moveFn:function(e,t){F.call(i.Drawing.setPosition,A+e,M+t);var r="pointer";if(T.showarrow)L[x+".ax"]=T.ax+e,L[x+".ay"]=T.ay+t,b(e,t);else{if(E)L[x+".x"]=T.x+e/E._m;else{var n=T._xsize/w.w,a=T.x+T._xshift/w.w-n/2;L[x+".x"]=i.Fx.dragAlign(a+e/w.w,n,0,1,T.xanchor)}if(I)L[x+".y"]=T.y+t/I._m;else{var o=T._ysize/w.h,l=T.y-T._yshift/w.h-o/2;L[x+".y"]=i.Fx.dragAlign(l-t/w.h,o,0,1,T.yanchor)}E&&I||(r=i.Fx.dragCursors(E?.5:L[x+".x"],I?.5:L[x+".y"],T.xanchor,T.yanchor))}var s=k(A,M),c=s[0]+e,u=s[1]+t;F.call(i.Drawing.setPosition,c,u),B.attr({transform:"rotate("+N+","+c+","+u+")"}),i.Fx.setCursor(F,r)},doneFn:function(t){if(i.Fx.setCursor(F),t){i.relayout(e,L);var r=document.querySelector(".js-notes-box-panel");r&&r.redraw(r.selectedObj)}}})}}var d,f=e.layout,h=e._fullLayout;if(!l(t)||-1===t){if(!t&&Array.isArray(s))return f.annotations=s,o.supplyLayoutDefaults(f,h),void o.drawAll(e);if("remove"===s)return delete f.annotations,h.annotations=[],void o.drawAll(e);if(n&&"add"!==s){for(d=0;d<h.annotations.length;d++)o.draw(e,d,n,s);return}t=h.annotations.length,h.annotations.push({})}if(!n&&s){if("remove"===s){for(h._infolayer.selectAll('.annotation[data-index="'+t+'"]').remove(),h.annotations.splice(t,1),f.annotations.splice(t,1),d=t;d<h.annotations.length;d++)h._infolayer.selectAll('.annotation[data-index="'+(d+1)+'"]').attr("data-index",String(d)),o.draw(e,d);return}if("add"===s||$.isPlainObject(s)){h.annotations.splice(t,0,{});var p=$.isPlainObject(s)?$.extend({},s):{text:"New text"};for(f.annotations?f.annotations.splice(t,0,p):f.annotations=[p],d=h.annotations.length-1;d>t;d--)h._infolayer.selectAll('.annotation[data-index="'+(d-1)+'"]').attr("data-index",String(d)),o.draw(e,d)}}h._infolayer.selectAll('.annotation[data-index="'+t+'"]').remove();var g=f.annotations[t],m=h.annotations[t];if(g){var y={xref:g.xref,yref:g.yref},v={};"string"==typeof n&&n?v[n]=s:$.isPlainObject(n)&&(v=n);var x=Object.keys(v);for(d=0;d<x.length;d++){var b=x[d];i.Lib.nestedProperty(g,b).set(v[b])}var w=h._size,_=["x","y"];for(d=0;2>d;d++){var k=_[d];if(void 0===v[k]&&void 0!==g[k]){var A=i.Axes.getFromId(e,i.Axes.coerceRef(y,{},e,k)),M=i.Axes.getFromId(e,i.Axes.coerceRef(g,{},e,k)),L=g[k],z=m["_"+k+"type"];if(void 0!==v[k+"ref"]){var C="auto"===g[k+"anchor"],S="x"===k?w.w:w.h,P=(m["_"+k+"size"]||0)/(2*S);if(A&&M)L=(L-A.range[0])/(A.range[1]-A.range[0]),L=M.range[0]+L*(M.range[1]-M.range[0]);else if(A){if(L=(L-A.range[0])/(A.range[1]-A.range[0]),L=A.domain[0]+L*(A.domain[1]-A.domain[0]),C){var O=L+P,D=L-P;2/3>L+D?L=D:L+O>4/3&&(L=O)}}else M&&(C&&(1/3>L?L+=P:L>2/3&&(L-=P)),L=(L-M.domain[0])/(M.domain[1]-M.domain[0]),L=M.range[0]+L*(M.range[1]-M.range[0]))}M&&M===A&&z&&("log"===z&&"log"!==M.type?L=Math.pow(10,L):"log"!==z&&"log"===M.type&&(L=L>0?Math.log(L)/Math.LN10:void 0)),g[k]=L}}var T=r(g,h);h.annotations[t]=T;var E=i.Axes.getFromId(e,T.xref),I=i.Axes.getFromId(e,T.yref),j={x:0,y:0},N=+T.textangle||0,R=h._infolayer.append("g").classed("annotation",!0).attr("data-index",String(t)).style("opacity",T.opacity).on("click",function(){e._dragging=!1,$(e).trigger("plotly_clickannotation",{index:t,annotation:g,fullAnnotation:T})}),B=R.append("g").classed("annotation-text-g",!0).attr("data-index",String(t)),F=B.append("svg").call(i.Drawing.setPosition,0,0),H=T.borderwidth,V=T.borderpad,q=H+V,G=F.append("rect").attr("class","bg").style("stroke-width",H+"px").call(i.Color.stroke,T.bordercolor).call(i.Color.fill,T.bgcolor),Z=T.font,U=F.append("text").classed("annotation",!0).attr("data-unformatted",T.text).text(T.text);e._context.editable?U.call(i.util.makeEditable,F).call(c).on("edit",function(r){T.text=r,this.attr({"data-unformatted":T.text}),this.call(c);var n={};n["annotations["+t+"].text"]=T.text,E&&E.autorange&&(n[E._name+".autorange"]=!0),I&&I.autorange&&(n[I._name+".autorange"]=!0),i.relayout(e,n)}):U.call(c),B.attr({transform:"rotate("+N+","+j.x+","+j.y+")"}).call(i.Drawing.setPosition,j.x,j.y)}},o.arrowhead=function(e,t,r,n){l(n)||(n=1);var a=e.node(),s=o.ARROWPATHS[t||0];if(s){"string"==typeof r&&r||(r="end");var c,u,d,f,h=(i.Drawing.getPx(e,"stroke-width")||1)*n,p=e.style("stroke")||i.Color.defaultLine,g=e.style("stroke-opacity")||1,m=r.indexOf("start")>=0,y=r.indexOf("end")>=0,v=s.backoff*h;if("line"===a.nodeName){if(c={x:+e.attr("x1"),y:+e.attr("y1")},u={x:+e.attr("x2"),y:+e.attr("y2")},d=Math.atan2(c.y-u.y,c.x-u.x),f=d+Math.PI,v){var x=v*Math.cos(d),b=v*Math.sin(d);m&&(c.x-=x,c.y-=b,e.attr({x1:c.x,y1:c.y})),y&&(u.x+=x,u.y+=b,e.attr({x2:u.x,y2:u.y}))}}else if("path"===a.nodeName){var w=a.getTotalLength(),_="";if(m){var k=a.getPointAtLength(0),A=a.getPointAtLength(.1);d=Math.atan2(k.y-A.y,k.x-A.x),c=a.getPointAtLength(Math.min(v,w)),v&&(_="0px,"+v+"px,")}if(y){var M=a.getPointAtLength(w),L=a.getPointAtLength(w-.1);if(f=Math.atan2(M.y-L.y,M.x-L.x),u=a.getPointAtLength(Math.max(0,w-v)),v){var z=_?2*v:v;_+=w-z+"px,"+w+"px"}}else _&&(_+=w+"px");_&&e.style("stroke-dasharray",_)}var C=function(r,n){t>5&&(n=0),d3.select(a.parentElement).append("path").attr({class:e.attr("class"),d:s.path,transform:"translate("+r.x+","+r.y+")rotate("+180*n/Math.PI+")scale("+h+")"}).style({fill:p,opacity:g,"stroke-width":0})};m&&C(c,d),y&&C(u,f)}},o.calcAutorange=function(e){var t=e._fullLayout,r=t.annotations;if(r.length&&e._fullData.length){var a={};r.forEach(function(e){a[e.xref]=!0,a[e.yref]=!0});var l=i.Axes.list(e).filter(function(e){return e.autorange&&a[e._id]});if(l.length)return i.Lib.syncOrAsync([o.drawAll,n],e)}}},{"./isnumeric":41,"./plotly":48}],11:[function(e,t){"use strict";function r(e,t){if("-"===e.type){var r=e._id,i=r.charAt(0);-1!==r.indexOf("scene")&&(r=i);var l=o(t,r,i);if(l){if("histogram"===l.type&&i==={v:"y",h:"x"}[l.orientation||"v"])return void(e.type="linear");if(a(l,i)){for(var s,c=n(l),u=[],d=0;d<t.length;d++)s=t[d],M.Plots.traceIs(s,"box")&&(s[i+"axis"]||i)===r&&u.push(void 0!==s[c]?s[c][0]:void 0!==s.name?s.name:"text");e.type=A.autoType(u)}else e.type=A.autoType(l[i]||[l[i+"0"]])}}}function n(e){return{v:"x",h:"y"}[e.orientation||"v"]}function a(e,t){var r=n(e);return M.Plots.traceIs(e,"box")&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}function o(e,t,r){for(var n,o=0;o<e.length;o++)if(n=e[o],(n[r+"axis"]||r)===t){if(a(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}function i(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(L(e[t]))return!0;return!1}function l(e){var t,r,n=e.tickvals,a=e.ticktext,o=new Array(n.length),i=1.0001*e.range[0]-1e-4*e.range[1],l=1.0001*e.range[1]-1e-4*e.range[0],s=Math.min(i,l),c=Math.max(i,l),u=0;for(Array.isArray(a)||(a=[]),r=0;r<n.length;r++)t=e.d2l(n[r]),t>s&&c>t&&(o[u]=void 0===a[r]?A.tickText(e,t):d(e,t,String(a[r])),u++);return u<n.length&&o.splice(u,n.length-u),o}function s(e,t,r){return t*M.Lib.roundUp(e/t,r)}function c(e){var t,r=e.dtick;if(e._tickexponent=0,L(r)||"string"==typeof r||(r=1),"category"===e.type)e._tickround=null;else if(L(r)||"L"===r.charAt(0))if("date"===e.type)e._tickround=r>=864e5?"d":r>=36e5?"H":r>=6e4?"M":r>=1e3?"S":3-Math.round(Math.log(r/2)/Math.LN10);else{L(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01),t="log"===e.type?Math.pow(10,Math.max(e.range[0],e.range[1])):Math.max(Math.abs(e.range[0]),Math.abs(e.range[1]));var n=Math.floor(Math.log(t)/Math.LN10+.01);Math.abs(n)>3&&(e._tickexponent="SI"===e.exponentformat||"B"===e.exponentformat?3*Math.round((n-1)/3):n)}else e._tickround="M"===r.charAt(0)?2===r.length?"m":"y":null}function u(e,t){var r=e.match(G),n=new Date(t);if(r){var a=Math.min(+r[1]||6,6),o=String(t/1e3%1+2.0000005).substr(2,a).replace(/0+$/,"")||"0";return d3.time.format(e.replace(G,o))(n)}return d3.time.format(e)(n)}function d(e,t,r){var n=e.tickfont||e._td._fullLayout.font;return{x:t,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontColor:n.color}}function f(e,t,r,n){var a,o=t.x,i=e._tickround,l=new Date(o),s="";r&&e.hoverformat?a=u(e.hoverformat,o):e.tickformat?a=u(e.tickformat,o):(n&&(L(i)?i+=2:i={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[i]),"y"===i?a=R(l):"m"===i?a=B(l):(o!==e._tmin||r||(s="<br>"+R(l)),"d"===i?a=F(l):"H"===i?a=H(l):(o!==e._tmin||r||(s="<br>"+F(l)+", "+R(l)),a=V(l),"M"!==i&&(a+=q(l),"S"!==i&&(a+=m(k(o/1e3,1),e,"none",r).substr(1)))))),t.text=a+s}function h(e,t,r,n,a){var o=e.dtick,i=t.x;if(!n||"string"==typeof o&&"L"===o.charAt(0)||(o="L3"),e.tickformat||"string"==typeof o&&"L"===o.charAt(0))t.text=m(Math.pow(10,i),e,a,n);else if(L(o)||"D"===o.charAt(0)&&k(i+.01,1)<.1)if(-1!==["e","E","power"].indexOf(e.exponentformat)){var l=Math.round(i);t.text=0===l?1:1===l?"10":l>1?"10<sup>"+l+"</sup>":"10<sup>\u2212"+-l+"</sup>",t.fontSize*=1.25}else t.text=m(Math.pow(10,i),e,"","fakehover"),"D1"===o&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6);else{if("D"!==o.charAt(0))throw"unrecognized dtick "+String(o);t.text=String(Math.round(Math.pow(10,k(i,1)))),t.fontSize*=.75}if("D1"===e.dtick){var s=String(t.text).charAt(0);("0"===s||"1"===s)&&("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(0>i?.5:.25)))}}function p(e,t){var r=e._categories[Math.round(t.x)];void 0===r&&(r=""),t.text=String(r)}function g(e,t,r,n,a){"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(a="hide"),t.text=m(t.x,e,a,n)}function m(e,t,r,n){var a=0>e,o=t._tickround,i=r||t.exponentformat||"B",l=t._tickexponent,s=t.tickformat;if(n){var u={exponentformat:t.exponentformat,dtick:"none"===t.showexponent?t.dtick:L(e)?Math.abs(e)||1:1,range:"none"===t.showexponent?t.range:[0,e||1]};c(u),o=(Number(u._tickround)||0)+4,l=u._tickexponent,t.hoverformat&&(s=t.hoverformat)}if(s)return d3.format(s)(e).replace(/-/g,"\u2212");var d=Math.pow(10,-o)/2;if("none"===i&&(l=0),e=Math.abs(e),d>e)e="0",a=!1;else{if(e+=d,l&&(e*=Math.pow(10,-l),o+=l),0===o)e=String(Math.floor(e));else if(0>o){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var f=o;0>f;f++)e+="0"}else{e=String(e);var h=e.indexOf(".")+1;h&&(e=e.substr(0,h+o).replace(/\.?0+$/,""))}e=y(e,t._td._fullLayout.separators)}if(l&&"hide"!==i){var p;p=0>l?"\u2212"+-l:"power"!==i?"+"+l:String(l),"e"===i||("SI"===i||"B"===i)&&(l>12||-15>l)?e+="e"+p:"E"===i?e+="E"+p:"power"===i?e+="&times;10<sup>"+p+"</sup>":"B"===i&&9===l?e+="B":("SI"===i||"B"===i)&&(e+=Z[l/3+5])}return a?"\u2212"+e:e}function y(e,t){var r=t.charAt(0),n=t.charAt(1),a=e.split("."),o=a[0],i=a.length>1?r+a[1]:"";if(n&&(a.length>1||o.length>4))for(;U.test(o);)o=o.replace(U,"$1"+n+"$2");return o+i}function v(e,t,r){function n(e){return Object.keys(e).filter(function(e){return t&&e.charAt(0)!==t?!1:e.match(/^[xyz]axis[0-9]*/g)}).sort()}var a=e._fullLayout;if(!a)return[];var o=n(a);if(r)return o;var i=[],l=M.Plots.getSubplotIds(a,"gl3d");return l&&l.forEach(function(e){i=i.concat(n(a[e]).map(function(t){return e+"."+t}))}),o.concat(i)}function x(e,t){var r,n,a=[];for(r=0;r<t.length;r++){var o=[],i=e._fullData[t[r]].xaxis,l=e._fullData[t[r]].yaxis;if(i&&l){for(n=0;n<a.length;n++)(-1!==a[n].x.indexOf(i)||-1!==a[n].y.indexOf(l))&&o.push(n);if(o.length){var s,c=a[o[0]];if(o.length>1)for(n=1;n<o.length;n++)s=a[o[n]],b(c.x,s.x),b(c.y,s.y);b(c.x,[i]),b(c.y,[l])}else a.push({x:[i],y:[l]})}}return a}function b(e,t){for(var r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r])}function w(e,t,r){var n,a,o=[],i=[],l=e.layout;for(n=0;n<t.length;n++)o.push(A.getFromId(e,t[n]));for(n=0;n<r.length;n++)i.push(A.getFromId(e,r[n]));var s=Object.keys(o[0]),c=["anchor","domain","overlaying","position","side","tickangle"],u=["linear","log"];for(n=0;n<s.length;n++){var d=s[n],f=o[0][d],h=i[0][d],p=!0,g=!1,m=!1;if("_"!==d.charAt(0)&&"function"!=typeof f&&-1===c.indexOf(d)){for(a=1;a<o.length&&p;a++){var y=o[a][d];"type"===d&&-1!==u.indexOf(f)&&-1!==u.indexOf(y)&&f!==y?g=!0:y!==f&&(p=!1)}for(a=1;a<i.length&&p;a++){var v=i[a][d];"type"===d&&-1!==u.indexOf(h)&&-1!==u.indexOf(v)&&h!==v?m=!0:i[a][d]!==h&&(p=!1)}p&&(g&&(l[o[0]._name].type="linear"),m&&(l[i[0]._name].type="linear"),_(l,d,o,i))}}for(n=0;n<e._fullLayout.annotations.length;n++){var x=e._fullLayout.annotations[n];-1!==t.indexOf(x.xref)&&-1!==r.indexOf(x.yref)&&M.Lib.swapAttrs(l.annotations[n],["?"])}}function _(e,t,r,n){var a,o=M.Lib.nestedProperty,i=o(e[r[0]._name],t).get(),l=o(e[n[0]._name],t).get();for("title"===t&&("Click to enter X axis title"===i&&(i="Click to enter Y axis title"),"Click to enter Y axis title"===l&&(l="Click to enter X axis title")),a=0;a<r.length;a++)o(e,r[a]._name+"."+t).set(l);for(a=0;a<n.length;a++)o(e,n[a]._name+"."+t).set(i)}function k(e,t){return(e%t+t)%t}var A=t.exports={},M=e("./plotly"),L=e("./isnumeric");A.layoutAttributes={title:{type:"string"},titlefont:{type:"font"},type:{type:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{type:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{type:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:[{type:"number"},{type:"number"}],fixedrange:{type:"boolean",dflt:!1},tickmode:{type:"enumerated",values:["auto","linear","array"]},nticks:{type:"integer",min:0,dflt:0},tick0:{type:"number",dflt:0},dtick:{type:"any",dflt:1},tickvals:{type:"data_array"},ticktext:{type:"data_array"},ticks:{type:"enumerated",values:["outside","inside",""]},mirror:{type:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{type:"number",min:0,dflt:5},tickwidth:{type:"number",min:0,dflt:1},tickcolor:{type:"color",dflt:M.Color.defaultLine},showticklabels:{type:"boolean",dflt:!0},tickfont:{type:"font"},tickangle:{type:"angle",dflt:"auto"},tickprefix:{type:"string",dflt:""},showtickprefix:{type:"enumerated",values:["all","first","last","none"],dflt:"all"},ticksuffix:{type:"string",dflt:""},showticksuffix:{type:"enumerated",values:["all","first","last","none"],dflt:"all"},showexponent:{type:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{type:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},tickformat:{type:"string",dflt:""},hoverformat:{type:"string",dflt:""},showline:{type:"boolean",dflt:!1},linecolor:{type:"color",dflt:M.Color.defaultLine},linewidth:{type:"number",min:0,dflt:1},showgrid:{type:"boolean"},gridcolor:{type:"color",dflt:M.Color.lightLine},gridwidth:{type:"number",min:0,dflt:1},zeroline:{type:"boolean"},zerolinecolor:{type:"color",dflt:M.Color.defaultLine},zerolinewidth:{type:"number",dflt:1},anchor:{type:"enumerated"},side:{type:"enumerated"},overlaying:{type:"enumerated"},domain:[{type:"number",min:0,max:1,dflt:0},{type:"number",min:0,max:1,dflt:1}],position:{type:"number",min:0,max:1,dflt:0}};var z=/^xaxis[0-9]*$/,C=/^yaxis[0-9]*$/;A.supplyLayoutDefaults=function(e,t,r){function n(e,t){var r=Number(e.substr(5)||1),n=Number(t.substr(5)||1);return r-n}var a,o=Object.keys(e),i=[],l=[],s={},c={};for(a=0;a<o.length;a++){var u=o[a];z.test(u)?i.push(u):C.test(u)&&l.push(u)}for(a=0;a<r.length;a++){var d=r[a],f=A.id2name(d.xaxis),h=A.id2name(d.yaxis);if(f&&-1===i.indexOf(f)&&i.push(f),h&&-1===l.indexOf(h)&&l.push(h),M.Plots.traceIs(d,"2dMap")&&(s[f]=!0,s[h]=!0),M.Plots.traceIs(d,"oriented")){var p="h"===d.orientation?h:f;c[p]=!0}}(t._hasCartesian||!r.length)&&(i.length?i.sort(n):i=["xaxis"],l.length?l.sort(n):l=["yaxis"]),i.concat(l).forEach(function(n){function a(e,t){return M.Lib.coerce(u,d,A.layoutAttributes,e,t)}var o=n.charAt(0),u=e[n]||{},d={},f={letter:o,font:t.font,outerTicks:s[n],showGrid:!c[n],name:n,data:r},h={letter:o,counterAxes:{x:l,y:i}[o].map(A.name2id),overlayableAxes:{x:i,y:l}[o].filter(function(t){return t!==n&&!(e[t]||{}).overlaying}).map(A.name2id)};A.handleAxisDefaults(u,d,a,f),A.handleAxisPositioningDefaults(u,d,a,h),t[n]=d,e[n]||"-"===u.type||(e[n]={type:u.type})}),i.length&&l.length&&M.Lib.coerce(e,t,M.Plots.layoutAttributes,"plot_bgcolor")},A.handleAxisDefaults=function(e,t,n,a){var o=a.letter,i=a.font||{},l="Click to enter "+(a.title||o.toUpperCase()+" axis")+" title";a.name&&(t._name=a.name,t._id=A.name2id(a.name));var s=n("type");"-"===s&&(r(t,a.data),"-"===t.type?t.type="linear":s=e.type=t.type),A.setConvert(t),n("title",l),n("titlefont",{family:i.family,size:Math.round(1.2*i.size),color:i.color});var c=2===(e.range||[]).length&&L(e.range[0])&&L(e.range[1]),u=n("autorange",!c);u&&n("rangemode");var d=n("range[0]",-1),f=n("range[1]","x"===o?6:4);d===f&&(t.range=[d-1,d+1]),M.Lib.noneOrAll(e.range,t.range,[0,1]),n("fixedrange"),A.handleTickValueDefaults(e,t,n,s),A.handleTickDefaults(e,t,n,s,a);var h=n("showline");h&&(n("linecolor"),n("linewidth")),(h||t.ticks)&&n("mirror");var p=n("showgrid",a.showGrid);p&&(n("gridcolor"),n("gridwidth"));var g=n("zeroline",a.showGrid);return g&&(n("zerolinecolor"),n("zerolinewidth")),t},A.handleTickDefaults=function(e,t,r,n,a){var o=r("ticks",a.outerTicks?"outside":"");o&&(r("ticklen"),r("tickwidth"),r("tickcolor"));var i=r("showticklabels");if(i){r("tickfont",a.font||{}),r("tickangle");var l=A.getShowAttrDflt(e);if("category"!==n){var s=r("tickformat");a.noHover||r("hoverformat"),s||"date"===n||(r("showexponent",l),r("exponentformat"))}var c=r("tickprefix");c&&r("showtickprefix",l);var u=r("ticksuffix");u&&r("showticksuffix",l)}},A.handleTickValueDefaults=function(e,t,r,n){var a="auto";"array"!==e.tickmode||"log"!==n&&"date"!==n||(e.tickmode="auto"),Array.isArray(e.tickvals)?a="array":e.dtick&&L(e.dtick)&&(a="linear");var o=r("tickmode",a);if("auto"===o)r("nticks");else if("linear"===o)r("tick0"),r("dtick");else{var i=r("tickvals");void 0===i?t.tickmode="auto":r("ticktext")}},A.handleAxisPositioningDefaults=function(e,t,r,n){var a=n.counterAxes||[],o=n.overlayableAxes||[],i=n.letter,l=M.Lib.coerce(e,t,{anchor:{type:"enumerated",values:["free"].concat(a),dflt:L(e.position)?"free":a[0]||"free"}},"anchor");"free"===l&&r("position"),M.Lib.coerce(e,t,{side:{type:"enumerated",values:"x"===i?["bottom","top"]:["left","right"],dflt:"x"===i?"bottom":"left"}},"side");var s=!1;if(o.length&&(s=M.Lib.coerce(e,t,{overlaying:{type:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!s){var c=r("domain[0]"),u=r("domain[1]");c>u-.01&&(t.domain=[0,1]),M.Lib.noneOrAll(e.domain,t.domain,[0,1])}return t},A.coerceRef=function(e,t,r,n){var a=A.listIds(r,n),o=n+"ref",i={};return i[o]={type:"enumerated",values:a.concat(["paper"]),dflt:a[0]||"paper"},M.Lib.coerce(e,t,i,o)},A.clearTypes=function(e,t){Array.isArray(t)&&t.length||(t=e._fullData.map(function(e,t){return t})),t.forEach(function(t){var r=e.data[t];delete(A.getFromId(e,r.xaxis)||{}).type,delete(A.getFromId(e,r.yaxis)||{}).type})};var S=/^[xyz][0-9]*$/,P=/^[xyz]axis[0-9]*$/;A.id2name=function(e){if("string"==typeof e&&e.match(S)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},A.name2id=function(e){if(e.match(P)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},A.cleanId=function(e,t){if(e.match(S)&&(!t||e.charAt(0)===t)){var r=e.substr(1).replace(/^0+/,"");return"1"===r&&(r=""),e.charAt(0)+r}},A.cleanName=function(e,t){if(e.match(S)&&(!t||e.charAt(0)===t)){var r=e.substr(5).replace(/^0+/,"");return"1"===r&&(r=""),e.charAt(0)+"axis"+r}},A.counterLetter=function(e){return{x:"y",y:"x"}[e.charAt(0)]},A.autoType=function(e){return A.moreDates(e)?"date":A.category(e)?"category":i(e)?"linear":"-"},A.getShowAttrDflt=function(e){var t=["showexponent","showtickprefix","showticksuffix"],r=t.filter(function(t){return void 0!==e[t]}),n=function(t){return e[t]===e[r[0]]};return r.every(n)||1===r.length?e[r[0]]:void 0},A.moreDates=function(e){for(var t,r=0,n=0,a=Math.max(1,(e.length-1)/1e3),o=0;o<e.length;o+=a)t=e[Math.round(o)],M.Lib.isDateTime(t)&&(r+=1),L(t)&&(n+=1);return r>2*n},A.category=function(e){for(var t,r=Math.max(1,(e.length-1)/1e3),n=0,a=0,o=0;o<e.length;o+=r)t=A.cleanDatum(e[Math.round(o)]),L(t)?n++:"string"==typeof t&&""!==t&&"None"!==t&&a++;return a>2*n},A.cleanDatum=function(e){try{if("object"==typeof e&&null!==e&&e.getTime)return M.Lib.ms2DateTime(e);if("string"!=typeof e&&!L(e))return"";e=e.toString().replace(/['"%,$# ]/g,"")}catch(t){console.log(t,e)}return e},A.BADNUM=void 0,A.setConvert=function(e){function t(t,r){if(t>0)return Math.log(t)/Math.LN10;if(0>=t&&r&&e.range&&2===e.range.length){var n=e.range[0],o=e.range[1];return.5*(n+o-3*a*Math.abs(n-o))}return A.BADNUM}function r(e){return Math.pow(10,e)}function n(e){return L(e)?Number(e):A.BADNUM}var a=10;if(e.c2l="log"===e.type?t:n,e.l2c="log"===e.type?r:n,e.l2d=function(t){return e.c2d(e.l2c(t))},e.setScale=function(){var t,r=e._td._fullLayout._size;if(e._categories||(e._categories=[]),e.overlaying){var n=A.getFromId(e._td,e.overlaying);e.domain=n.domain}for(e.range&&2===e.range.length&&e.range[0]!==e.range[1]||(e.range=[-1,1]),t=0;2>t;t++)L(e.range[t])||(e.range[t]=L(e.range[1-t])?e.range[1-t]*(t?10:.1):t?1:-1),e.range[t]<-(Number.MAX_VALUE/2)?e.range[t]=-(Number.MAX_VALUE/2):e.range[t]>Number.MAX_VALUE/2&&(e.range[t]=Number.MAX_VALUE/2);if("y"===e._id.charAt(0)?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(e.range[0]-e.range[1]),e._b=-e._m*e.range[1]):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(e.range[1]-e.range[0]),e._b=-e._m*e.range[0]),!isFinite(e._m)||!isFinite(e._b))throw M.Lib.notifier("Something went wrong with axis scaling","long"),e._td._replotting=!1,new Error("axis scaling")},e.l2p=function(t){return L(t)?d3.round(M.Lib.constrain(e._b+e._m*t,-a*e._length,(1+a)*e._length),2):A.BADNUM},e.p2l=function(t){return(t-e._b)/e._m},e.c2p=function(t,r){return e.l2p(e.c2l(t,r))},e.p2c=function(t){return e.l2c(e.p2l(t))},-1!==["linear","log","-"].indexOf(e.type))e.c2d=n,e.d2c=function(e){return e=A.cleanDatum(e),L(e)?Number(e):A.BADNUM},e.d2l=function(t,r){return"log"===e.type?e.c2l(e.d2c(t),r):e.d2c(t)};else if("date"===e.type){if(e.c2d=function(e){return L(e)?M.Lib.ms2DateTime(e):A.BADNUM},e.d2c=function(e){return L(e)?Number(e):M.Lib.dateTime2ms(e)},e.d2l=e.d2c,e.range&&e.range.length>1)try{var o=e.range.map(M.Lib.dateTime2ms);!L(e.range[0])&&L(o[0])&&(e.range[0]=o[0]),!L(e.range[1])&&L(o[1])&&(e.range[1]=o[1])}catch(t){console.log(t,e.range)}}else"category"===e.type&&(e.c2d=function(t){return e._categories[Math.round(t)]},e.d2c=function(t){-1===e._categories.indexOf(t)&&e._categories.push(t);var r=e._categories.indexOf(t);return-1===r?A.BADNUM:r},e.d2l=e.d2c);e.makeCalcdata=function(t,r){var n,a,o;if(r in t)for(n=t[r],a=new Array(n.length),o=0;o<n.length;o++)a[o]=e.d2c(n[o]);
else{var i=r+"0"in t?e.d2c(t[r+"0"]):0,l=t["d"+r]?Number(t["d"+r]):1;for(n=t[{x:"y",y:"x"}[r]],a=new Array(n.length),o=0;o<n.length;o++)a[o]=i+o*l}return a},e._min=[],e._max=[],e._minDtick=null,e._forceTick0=null},A.minDtick=function(e,t,r,n){-1===["log","category"].indexOf(e.type)&&n?null===e._minDtick?(e._minDtick=t,e._forceTick0=r):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((r-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=r):((t/e._minDtick+1e-6)%1>2e-6||((r-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},A.doAutoRange=function(e){if(e._length||e.setScale(),e.autorange&&e._min&&e._max&&e._min.length&&e._max.length){var t,r=e._min[0].val,n=e._max[0].val;for(t=1;t<e._min.length&&r===n;t++)r=Math.min(r,e._min[t].val);for(t=1;t<e._max.length&&r===n;t++)n=Math.max(n,e._max[t].val);var a,o,i,l,s,c,u,d=0,f=e.range&&e.range[1]<e.range[0];for("reversed"===e.autorange&&(f=!0,e.autorange=!0),t=0;t<e._min.length;t++)for(o=e._min[t],a=0;a<e._max.length;a++)i=e._max[a],u=i.val-o.val,c=e._length-o.pad-i.pad,u>0&&c>0&&u/c>d&&(l=o,s=i,d=u/c);r===n?e.range=f?[r+1,r-1]:[r-1,r+1]:d&&(("linear"===e.type||"-"===e.type)&&("tozero"===e.rangemode&&l.val>=0?l={val:0,pad:0}:"nonnegative"===e.rangemode&&(l.val-d*l.pad<0&&(l={val:0,pad:0}),s.val<0&&(s={val:1,pad:0})),d=(s.val-l.val)/(e._length-l.pad-s.pad)),e.range=[l.val-d*l.pad,s.val+d*s.pad],e.range[0]===e.range[1]&&(e.range=[e.range[0]-1,e.range[0]+1]),f&&e.range.reverse());var h=e._td.layout[e._name];h||(e._td.layout[e._name]=h={}),h!==e&&(h.range=e.range.slice(),h.autorange=e.autorange)}},A.saveRangeInitial=function(e,t){for(var r,n,a,o=M.Axes.list(e,"",!0),i=!1,l=0;l<o.length;l++)r=o[l],n=void 0===r._rangeInitial,a=n||!(r.range[0]===r._rangeInitial[0]&&r.range[1]===r._rangeInitial[1]),(n&&r.autorange===!1||t&&a)&&(r._rangeInitial=r.range.slice(),i=!0);return i};var O=Number.MAX_VALUE/2;A.expand=function(e,t,r){function n(e){if(Array.isArray(e))return function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}function a(r){function n(e){return L(e)&&Math.abs(e)<O}if(s=t[r],L(s)){if(d=x(r)+y,f=b(r)+y,p=s-_(r),g=s+w(r),"log"===e.type&&g/10>p&&(p=g/10),c=e.c2l(p),u=e.c2l(g),v&&(c=Math.min(0,c),u=Math.max(0,u)),n(c)){for(h=!0,i=0;i<e._min.length&&h;i++)l=e._min[i],l.val<=c&&l.pad>=f?h=!1:l.val>=c&&l.pad<=f&&(e._min.splice(i,1),i--);h&&e._min.push({val:c,pad:v&&0===c?0:f})}if(n(u)){for(h=!0,i=0;i<e._max.length&&h;i++)l=e._max[i],l.val>=u&&l.pad>=d?h=!1:l.val<=u&&l.pad<=d&&(e._max.splice(i,1),i--);h&&e._max.push({val:u,pad:v&&0===u?0:d})}}}if(e.autorange&&t){e._min||(e._min=[]),e._max||(e._max=[]),r||(r={}),e._m||e.setScale();var o,i,l,s,c,u,d,f,h,p,g,m=t.length,y=r.padded?.05*e._length:0,v=r.tozero&&("linear"===e.type||"-"===e.type),x=n((e._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),b=n((e._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),w=n(r.vpadplus||r.vpad),_=n(r.vpadminus||r.vpad);for(o=0;6>o;o++)a(o);for(o=m-1;o>5;o--)a(o)}},A.autoBin=function(e,t,r,n){function a(e){return(1+100*(e-h)/d.dtick)%100<2}var o=M.Lib.aggNums(Math.min,null,e),i=M.Lib.aggNums(Math.max,null,e);if("category"===t.type)return{start:o-.5,end:i+.5,size:1};var l;if(r)l=(i-o)/r;else{var s=M.Lib.distinctVals(e),c=Math.pow(10,Math.floor(Math.log(s.minDiff)/Math.LN10)),u=c*M.Lib.roundUp(s.minDiff/c,[.9,1.9,4.9,9.9],!0);l=Math.max(u,2*M.Lib.stdev(e)/Math.pow(e.length,n?.25:.4))}var d={type:"log"===t.type?"linear":t.type,range:[o,i]};A.autoTicks(d,l);var f,h=A.tickIncrement(A.tickFirst(d),d.dtick,"reverse");if("number"==typeof d.dtick){for(var p=0,g=0,m=0,y=0,v=0;v<e.length;v++)e[v]%1===0?m++:L(e[v])||y++,a(e[v])&&p++,a(e[v]+d.dtick/2)&&g++;var x=e.length-y;if(m===x&&"date"!==t.type)d.dtick<1?h=o-.5*d.dtick:h-=.5;else if(.1*x>g&&(p>.3*x||a(o)||a(i))){var b=d.dtick/2;h+=o>h+b?b:-b}var w=1+Math.floor((i-h)/d.dtick);f=h+w*d.dtick}else for(f=h;i>=f;)f=A.tickIncrement(f,d.dtick);return{start:h,end:f,size:d.dtick}},A.calcTicks=function(e){if("array"===e.tickmode)return l(e);if("auto"===e.tickmode||!e.dtick){var t,r=e.nticks;r||("category"===e.type?(t=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/t):(t="y"===e._id.charAt(0)?40:80,r=M.Lib.constrain(e._length/t,4,9)+1)),A.autoTicks(e,Math.abs(e.range[1]-e.range[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e._forceTick0)}e.tick0||(e.tick0="date"===e.type?new Date(2e3,0,1).getTime():0),c(e),e._tmin=A.tickFirst(e);var n=e.range[1]<e.range[0],a=[],o=1.0001*e.range[1]-1e-4*e.range[0];"category"===e.type&&(o=n?Math.max(-.5,o):Math.min(e._categories.length-.5,o));for(var i=e._tmin;(n?i>=o:o>=i)&&(a.push(i),!(a.length>1e3));i=A.tickIncrement(i,e.dtick,n));e._tmax=a[a.length-1];for(var s=new Array(a.length),u=0;u<a.length;u++)s[u]=A.tickText(e,a[u]);return s};var D=[2,5,10],T=[1,2,3,6,12],E=[1,2,5,10,15,30],I=[1,2,3,7,14],j=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],N=[-.301,0,.301,.699,1];A.autoTicks=function(e,t){var r;if("date"===e.type)e.tick0=new Date(2e3,0,1).getTime(),t>157788e5?(t/=315576e5,r=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="M"+12*s(t,r,D)):t>12096e5?(t/=26298e5,e.dtick="M"+s(t,1,T)):t>432e5?(e.dtick=s(t,864e5,I),e.tick0=new Date(2e3,0,2).getTime()):t>18e5?e.dtick=s(t,36e5,T):t>3e4?e.dtick=s(t,6e4,E):t>500?e.dtick=s(t,1e3,E):(r=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=s(t,r,D));else if("log"===e.type)if(e.tick0=0,t>.7)e.dtick=Math.ceil(t);else if(Math.abs(e.range[1]-e.range[0])<1){var n=1.5*Math.abs((e.range[1]-e.range[0])/t);t=Math.abs(Math.pow(10,e.range[1])-Math.pow(10,e.range[0]))/n,r=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="L"+s(t,r,D)}else e.dtick=t>.3?"D2":"D1";else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):(e.tick0=0,r=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=s(t,r,D));if(0===e.dtick&&(e.dtick=1),!L(e.dtick)&&"string"!=typeof e.dtick){var a=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(a)}},A.tickIncrement=function(e,t,r){var n=r?-1:1;if(L(t))return e+n*t;var a=t.charAt(0),o=n*Number(t.substr(1));if("M"===a){var i=new Date(e);return i.setMonth(i.getMonth()+o)}if("L"===a)return Math.log(Math.pow(10,e)+o)/Math.LN10;if("D"===a){var l="D2"===t?N:j,s=e+.01*n,c=M.Lib.roundUp(k(s,1),l,r);return Math.floor(s)+Math.log(d3.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(t)},A.tickFirst=function(e){var t=e.range[1]<e.range[0],r=t?Math.floor:Math.ceil,n=1.0001*e.range[0]-1e-4*e.range[1],a=e.dtick,o=e.tick0;if(L(a)){var i=r((n-o)/a)*a+o;return"category"===e.type&&(i=M.Lib.constrain(i,0,e._categories.length-1)),i}var l,s,c,u=a.charAt(0),d=Number(a.substr(1));if("M"===u){for(l=new Date(o),n=new Date(n),s=12*(n.getFullYear()-l.getFullYear())+n.getMonth()-l.getMonth(),c=l.setMonth(l.getMonth()+(Math.round(s/d)+(t?1:-1))*d);t?c>n:n>c;)c=A.tickIncrement(c,a,t);return c}if("L"===u)return Math.log(r((Math.pow(10,n)-o)/d)*d+o)/Math.LN10;if("D"===u){var f="D2"===a?N:j,h=M.Lib.roundUp(k(n,1),f,t);return Math.floor(n)+Math.log(d3.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(a)};var R=d3.time.format("%Y"),B=d3.time.format("%b %Y"),F=d3.time.format("%b %-d"),H=d3.time.format("%b %-d %Hh"),V=d3.time.format("%H:%M"),q=d3.time.format(":%S"),G=/%(\d?)f/g;A.tickText=function(e,t,r){function n(n){var a;return void 0===n?!0:r?"none"===n:(a={first:e._tmin,last:e._tmax}[n],"all"!==n&&t!==a)}var a,o=d(e,t),i="array"===e.tickmode,l=r||i;if(i&&Array.isArray(e.ticktext)){for(var s=Math.abs(e.range[1]-e.range[0])/1e4,c=0;c<e.ticktext.length&&!(Math.abs(t-e.d2l(e.tickvals[c]))<s);c++);if(c<e.ticktext.length)return o.text=String(e.ticktext[c]),o}return a="none"!==e.exponentformat&&n(e.showexponent)?"hide":"","date"===e.type?f(e,o,r,l):"log"===e.type?h(e,o,r,l,a):"category"===e.type?p(e,o):g(e,o,r,l,a),e.tickprefix&&!n(e.showtickprefix)&&(o.text=e.tickprefix+o.text),e.ticksuffix&&!n(e.showticksuffix)&&(o.text+=e.ticksuffix),o};var Z=["f","p","n","&mu;","m","","k","M","G","T"],U=/(\d+)(\d{3})/;A.list=function(e,t,r){return v(e,t,r).map(function(t){return M.Lib.nestedProperty(e._fullLayout,t).get()})},A.listIds=function(e,t){return v(e,t,!0).map(A.name2id)},A.getFromId=function(e,t,r){var n=e._fullLayout;return"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),n[A.id2name(t)]},A.getFromTrace=function(e,t,r){var n=e._fullLayout,a=null;if(M.Plots.traceIs(t,"gl3d")){var o=t.scene;"scene"===o.substr(0,5)&&(a=n[o][r+"axis"])}else a=A.getFromId(e,t[r+"axis"]||r);return a},A.getSubplots=function(e,t){var r=e.data,n=[];(r||[]).forEach(function(e){if(e.visible!==!1&&"legendonly"!==e.visible&&M.Plots.traceIs(e,"cartesian")){var t=e.xaxis||"x",r=e.yaxis||"y",a=t+r;-1===n.indexOf(a)&&n.push(a)}}),A.list(e,"",!0).forEach(function(t){function r(e){return-1!==e.indexOf(t._id)}var a=t._id.charAt(0),o="free"===t.anchor?{x:"y",y:"x"}[a]:t.anchor,i=A.getFromId(e,o);if("free"!==t.anchor||!n.some(r)){if(!i)return void console.log("warning: couldnt find anchor "+o+" for axis "+t._id);var l="x"===a?t._id+i._id:i._id+t._id;-1===n.indexOf(l)&&n.push(l)}});var a=/^x([0-9]*)y([0-9]*)$/,o=n.filter(function(e){return e.match(a)}).sort(function(e,t){var r=e.match(a),n=t.match(a);return r[1]===n[1]?+(r[2]||1)-(n[2]||1):+(r[1]||0)-(n[1]||0)});if(t){var i=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$");return o.filter(function(e){return e.match(i)})}return o},A.makeClipPaths=function(e){var t,r,n=e._fullLayout,a=n._defs,o={_offset:0,_length:n.width,_id:""},i={_offset:0,_length:n.height,_id:""},l=A.list(e,"x",!0),s=A.list(e,"y",!0),c=[];for(t=0;t<l.length;t++)for(c.push({x:l[t],y:i}),r=0;r<s.length;r++)0===t&&c.push({x:o,y:s[r]}),c.push({x:l[t],y:s[r]});var u=a.selectAll("g.clips").data([0]);u.enter().append("g").classed("clips",!0);var d=u.selectAll(".axesclip").data(c,function(e){return e.x._id+e.y._id});d.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+n._uid+e.x._id+e.y._id}).append("rect"),d.exit().remove(),d.each(function(e){d3.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})},A.doTicks=function(e,t,r){function n(e){var t=s.l2p(e.x);return t>1&&t<s._length-1}function a(e,t){var r=e.selectAll("path."+b).data("inside"===s.ticks?T:v,x);t&&s.ticks?(r.enter().append("path").classed(b,1).classed("ticks",1).classed("crisp",1).call(M.Color.stroke,s.tickcolor).style("stroke-width",P+"px").attr("d",t),r.attr("transform",f),r.exit().remove()):r.remove()}function o(n,a){function o(e,t){e.each(function(e){var r=h(t),n=d3.select(this),a=n.select(".text-math-group"),o=f(e)+(L(t)&&0!==+t?" rotate("+t+","+u(e)+","+(d(e)-e.fontSize/2)+")":"");if(a.empty()){var i=n.select("text").attr({transform:o,"text-anchor":r});i.empty()||i.selectAll("tspan.line").attr({x:i.attr("x"),y:i.attr("y")})}else{var l=M.Drawing.bBox(a.node()).width*{end:-.5,start:.5}[r];a.attr("transform",o+(l?"translate("+l+",0)":""))}})}function i(){return A.length&&Promise.all(A)}function l(){if(o(c,s.tickangle),"x"===m&&!L(s.tickangle)&&("log"!==s.type||"D"!==String(s.dtick).charAt(0))){var n=[];for(c.each(function(e){var t=d3.select(this),r=t.select(".text-math-group"),a=s.l2p(e.x);r.empty()&&(r=t.select("text"));var o=M.Drawing.bBox(r.node());n.push({top:0,bottom:10,height:10,left:a-o.width/2,right:a+o.width/2+2,width:o.width+2})}),g=0;g<n.length-1;g++)if(M.Lib.bBoxIntersect(n[g],n[g+1])){_=30;break}if(_){var a=Math.abs((v[v.length-1].x-v[0].x)*s._m)/(v.length-1);2.5*w>a&&(_=90),o(c,_)}s._lastangle=_}return r||M.Plots.titles(e,t+"title"),t+" done"}var c=n.selectAll("g."+b).data(v,x);if(!s.showticklabels||!L(a))return c.remove(),void M.Plots.titles(e,t+"title");var u,d,h,p;if("x"===m){var y="bottom"===O?1:-1;u=function(e){return e.dx},p=a+(z+k)*y,d=function(e){return e.dy+p+e.fontSize*("bottom"===O?1:-.5)},h=function(e){return L(e)&&0!==e&&180!==e?0>e*y?"end":"start":"middle"}}else d=function(e){return e.dy+e.fontSize/2},u=function(e){return e.dx+a+(z+k+(90===Math.abs(s.tickangle)?e.fontSize/2:0))*("right"===O?1:-1)},h=function(e){return L(e)&&90===Math.abs(e)?"middle":"right"===O?"start":"end"};var w=0,_=0,A=[];c.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(t){var r=d3.select(this),n=e._promises.length;r.call(M.Drawing.setPosition,u(t),d(t)).call(M.Drawing.font,t.font,t.fontSize,t.fontColor).text(t.text).call(M.util.convertToTspans),n=e._promises[n],n?A.push(e._promises.pop().then(function(){o(r,s.tickangle)})):o(r,s.tickangle)}),c.exit().remove(),c.each(function(e){w=Math.max(w,e.fontSize)}),o(c,s._lastangle||s.tickangle);var C=M.Lib.syncOrAsync([i,l]);return C&&C.then&&e._promises.push(C),C}function i(e,t){return e.visible!==!0||e.xaxis+e.yaxis!==t?!1:M.Plots.traceIs(e,"bar")&&e.orientation==={x:"h",y:"v"}[m]?!0:e.fill&&e.fill.charAt(e.fill.length-1)===m}function l(t,r,a){var o=t.gridlayer,l=t.zerolinelayer,c=t["hidegrid"+m]?[]:T,u="M0,0"+("x"===m?"v":"h")+r._length,d=o.selectAll("path."+w).data(s.showgrid===!1?[]:c,x);d.enter().append("path").classed(w,1).classed("crisp",1).attr("d",u).each(function(e){s.zeroline&&("linear"===s.type||"-"===s.type)&&Math.abs(e.x)<s.dtick/100&&d3.select(this).remove()}),d.attr("transform",f).call(M.Color.stroke,s.gridcolor||"#ddd").style("stroke-width",C+"px"),d.exit().remove();for(var h=!1,p=0;p<e._fullData.length;p++)if(i(e._fullData[p],a)){h=!0;break}var g=s.range[0]*s.range[1]<=0&&s.zeroline&&("linear"===s.type||"-"===s.type)&&c.length&&(h||n({x:0})||!s.showline),y=l.selectAll("path."+_).data(g?[{x:0}]:[]);y.enter().append("path").classed(_,1).classed("zl",1).classed("crisp",1).attr("d",u),y.attr("transform",f).call(M.Color.stroke,s.zerolinecolor||M.Color.defaultLine).style("stroke-width",S+"px"),y.exit().remove()}var s,c=e._fullLayout,u=!1;if("object"==typeof t)s=t,t=s._id,u=!0;else if(s=A.getFromId(e,t),"redraw"===t&&c._paper.selectAll("g.subplot").each(function(e){var t=c._plots[e],r=t.x(),n=t.y();t.plot.attr("viewBox","0 0 "+r._length+" "+n._length),t.xaxislayer.selectAll("."+r._id+"tick").remove(),t.yaxislayer.selectAll("."+n._id+"tick").remove(),t.gridlayer.selectAll("path").remove(),t.zerolinelayer.selectAll("path").remove()}),!t||"redraw"===t)return M.Lib.syncOrAsync(A.list(e,"",!0).map(function(r){return function(){if(r._id){var n=A.doTicks(e,r._id);return"redraw"===t&&(r._r=r.range.slice()),n}}}));s.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(s.exponentformat)&&(s.exponentformat="e"),-1===["all","first","last","none"].indexOf(s.showexponent)&&(s.showexponent="all")),s.range=[+s.range[0],+s.range[1]],s.setScale();var d,f,h,p,g,m=t.charAt(0),y=A.counterLetter(t),v=A.calcTicks(s),x=function(e){return e.text+e.x+s.mirror},b=t+"tick",w=t+"grid",_=t+"zl",k=(s.linewidth||1)/2,z=("outside"===s.ticks?s.ticklen:1)+(s.linewidth||0),C=M.Drawing.crispRound(e,s.gridwidth,1),S=M.Drawing.crispRound(e,s.zerolinewidth,C),P=M.Drawing.crispRound(e,s.tickwidth,1);if("x"===m)d=["bottom","top"],f=function(e){return"translate("+s.l2p(e.x)+",0)"},h="M0,",p="v";else{if("y"!==m)return void console.log("unrecognized doTicks axis",t);d=["left","right"],f=function(e){return"translate(0,"+s.l2p(e.x)+")"},h="M",p=",0h"}var O=s.side||d[0],D=[-1,1,O===d[1]?1:-1];"inside"!==s.ticks==("x"===m)&&(D=D.map(function(e){return-e}));var T=v.filter(n);if(u)return a(s._axislayer,h+(s._pos+k*D[2])+p+D[2]*s.ticklen),o(s._axislayer,s._pos);var E=A.getSubplots(e,s).map(function(e){var t=c._plots[e],r=t[m+"axislayer"],n=s._linepositions[e]||[],i=t[y](),u=i._id===s.anchor,f=[!1,!1,!1],v="";if("allticks"===s.mirror?f=[!0,!0,!1]:u&&("ticks"===s.mirror?f=[!0,!0,!1]:f[d.indexOf(O)]=!0),s.mirrors)for(g=0;2>g;g++){var x=s.mirrors[i._id+d[g]];("ticks"===x||"labels"===x)&&(f[g]=!0)}return void 0!==n[2]&&(f[2]=!0),f.forEach(function(e,t){var r=n[t],a=D[t];e&&L(r)&&(v+=h+(r+k*a)+p+a*s.ticklen)}),a(r,v),l(t,i,e),o(r,n[3])}).filter(function(e){return e&&e.then});return E.length?Promise.all(E):0},A.swap=function(e,t){for(var r=x(e,t),n=0;n<r.length;n++)w(e,r[n].x,r[n].y)}},{"./isnumeric":41,"./plotly":48}],12:[function(e,t){"use strict";var r=t.exports={},n=e("./plotly"),a=e("./isnumeric");n.Plots.register(r,"bar",["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"]);var o=n.Scatter.attributes,i=o.marker,l=i.line;r.attributes={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,text:o.text,orientation:{type:"enumerated",values:["v","h"]},marker:{color:i.color,colorscale:i.colorscale,cauto:i.cauto,cmax:i.cmax,cmin:i.cmin,autocolorscale:i.autocolorscale,reversescale:i.reversescale,showscale:i.showscale,line:{color:l.color,colorscale:l.colorscale,cauto:l.cauto,cmax:l.cmax,cmin:l.cmin,width:l.width,autocolorscale:l.autocolorscale,reversescale:l.reversescale}},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_composedModules:{histogram:"Histogram"}},r.layoutAttributes={barmode:{type:"enumerated",values:["stack","group","overlay"],dflt:"group"},barnorm:{type:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{type:"number",min:0,max:1},bargroupgap:{type:"number",min:0,max:1,dflt:0}},r.supplyDefaults=function(e,t,a,o){function i(a,o){return n.Lib.coerce(e,t,r.attributes,a,o)}if("histogram"===t.type){if(n.Histogram.supplyDefaults(e,t),!t.visible)return}else{var l=n.Scatter.handleXYDefaults(e,t,i);if(!l)return void(t.visible=!1);i("orientation",t.x&&!t.y?"h":"v")}i("marker.color",a),n.Colorscale.hasColorscale(e,"marker")&&n.Colorscale.handleDefaults(e,t,o,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",n.Color.defaultLine),n.Colorscale.hasColorscale(e,"marker.line")&&n.Colorscale.handleDefaults(e,t,o,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",0),i("text"),n.ErrorBars&&(n.ErrorBars.supplyDefaults(e,t,n.Color.defaultLine,{axis:"y"}),n.ErrorBars.supplyDefaults(e,t,n.Color.defaultLine,{axis:"x",inherit:"y"}))},r.supplyLayoutDefaults=function(e,t,a){function o(a,o){return n.Lib.coerce(e,t,r.layoutAttributes,a,o)}var i,l,s,c=!1,u=!1,d=!1,f={};for(i=0;i<a.length;i++)if(l=a[i],n.Plots.traceIs(l,"bar")&&(c=!0,"overlay"!==e.barmode&&"stack"!==e.barmode&&(s=l.xaxis+l.yaxis,f[s]&&(d=!0),f[s]=!0),l.visible&&"histogram"===l.type)){var h=n.Axes.getFromId({_fullLayout:t},l["v"===l.orientation?"xaxis":"yaxis"]);"category"!==h.type&&(u=!0)}if(c){var p=o("barmode");"overlay"!==p&&o("barnorm"),o("bargap",u&&!d?0:.2),o("bargroupgap")}},r.colorbar=n.Scatter.colorbar,r.calc=function(e,t){if("histogram"===t.type)return n.Histogram.calc(e,t);var r,o,i,l=n.Axes.getFromId(e,t.xaxis||"x"),s=n.Axes.getFromId(e,t.yaxis||"y"),c=t.orientation||(t.x&&!t.y?"h":"v");"h"===c?(o=l.makeCalcdata(t,"x"),r=s.makeCalcdata(t,"y")):(o=s.makeCalcdata(t,"y"),r=l.makeCalcdata(t,"x"));var u=Math.min(r.length,o.length),d=[];for(i=0;u>i;i++)a(r[i])&&a(o[i])&&d.push({p:r[i],s:o[i],b:0});return n.Colorscale.hasColorscale(t,"marker")&&n.Colorscale.calc(t,t.marker.color,"marker","c"),n.Colorscale.hasColorscale(t,"marker.line")&&n.Colorscale.calc(t,t.marker.line.color,"marker.line","c"),d},r.setPositions=function(e,t){var r,o,i=e._fullLayout,l=t.x(),s=t.y();["v","h"].forEach(function(c){function u(t){function r(e){e[f]=e.p+h}var a=[];t.forEach(function(t){e.calcdata[t].forEach(function(e){a.push(e.p)})});var o=n.Lib.distinctVals(a),l=o.vals,s=o.minDiff,c=!1,u=[];"group"===i.barmode&&t.forEach(function(t){c||(e.calcdata[t].forEach(function(e){c||u.forEach(function(t){Math.abs(e.p-t)<s&&(c=!0)})}),c||e.calcdata[t].forEach(function(e){u.push(e.p)}))}),n.Axes.minDtick(p,s,l[0],c),n.Axes.expand(p,l,{vpad:s/2}),s*=1-i.bargap,c&&(s/=d.length);for(var h,g=0;g<t.length;g++){var m=e.calcdata[t[g]][0].t;m.barwidth=s*(1-i.bargroupgap),m.poffset=((c?(2*g+1-t.length)*s:0)-m.barwidth)/2,m.dbar=o.minDiff,h=m.poffset+m.barwidth/2,e.calcdata[t[g]].forEach(r)}}var d=[],f={v:"x",h:"y"}[c],h={v:"y",h:"x"}[c],p=t[f](),g=t[h]();if(e._fullData.forEach(function(e,t){e.visible===!0&&n.Plots.traceIs(e,"bar")&&e.orientation===c&&e.xaxis===l._id&&e.yaxis===s._id&&d.push(t)}),d.length){"overlay"===i.barmode?d.forEach(function(e){u([e])}):u(d);var m="stack"===i.barmode,y=i.barnorm;if(m||y){var v,x,b,w=g.l2c(g.c2l(0)),_=w,k={},A=e.calcdata[d[0]][0].t.barwidth/100,M=0,L=!0;for(r=0;r<d.length;r++)for(x=e.calcdata[d[r]],o=0;o<x.length;o++){M=Math.round(x[o].p/A);var z=k[M]||0;m&&(x[o].b=z),v=x[o].b+x[o].s,k[M]=z+x[o].s,m&&(x[o][h]=v,!y&&a(g.c2l(v))&&(w=Math.max(w,v),_=Math.min(_,v)))}if(y){L=!1;var C="fraction"===y?1:100,S=C/1e9;for(_=0,w=m?C:0,r=0;r<d.length;r++)for(x=e.calcdata[d[r]],o=0;o<x.length;o++)b=C/k[Math.round(x[o].p/A)],x[o].b*=b,x[o].s*=b,v=x[o].b+x[o].s,x[o][h]=v,a(g.c2l(v))&&(_-S>v&&(L=!0,_=v),v>w+S&&(L=!0,w=v))}n.Axes.expand(g,[_,w],{tozero:!0,padded:L})}else{var P=function(e){return e[h]=e.s,e.s};for(r=0;r<d.length;r++)n.Axes.expand(g,e.calcdata[d[r]].map(P),{tozero:!0,padded:!0})}}})},r.arraysToCalcdata=function(e){var t=e[0].trace,r=t.marker,a=r.line;n.Lib.mergeArray(t.text,e,"tx"),n.Lib.mergeArray(r.opacity,e,"mo"),n.Lib.mergeArray(r.color,e,"mc"),n.Lib.mergeArray(a.color,e,"mlc"),n.Lib.mergeArray(a.width,e,"mlw")},r.plot=function(e,t,o){var i=t.x(),l=t.y(),s=e._fullLayout,c=t.plot.select(".barlayer").selectAll("g.trace.bars").data(o).enter().append("g").attr("class","trace bars");c.append("g").attr("class","points").each(function(t){var o=t[0].t,c=t[0].trace;r.arraysToCalcdata(t),d3.select(this).selectAll("path").data(n.Lib.identity).enter().append("path").each(function(t){function r(e){return 0===s.bargap&&0===s.bargroupgap?d3.round(Math.round(e)-m,2):e}function u(e,t){return Math.abs(e-t)>=2?r(e):e>t?Math.ceil(e):Math.floor(e)}var d,f,h,p;if("h"===c.orientation?(h=l.c2p(o.poffset+t.p,!0),p=l.c2p(o.poffset+t.p+o.barwidth,!0),d=i.c2p(t.b,!0),f=i.c2p(t.s+t.b,!0)):(d=i.c2p(o.poffset+t.p,!0),f=i.c2p(o.poffset+t.p+o.barwidth,!0),p=l.c2p(t.s+t.b,!0),h=l.c2p(t.b,!0)),!(a(d)&&a(f)&&a(h)&&a(p)&&d!==f&&h!==p))return void d3.select(this).remove();var g=(t.mlw+1||c.marker.line.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,m=d3.round(g/2%1,2);if(!e._context.staticPlot){var y=n.Color.opacity(t.mc||c.marker.color),v=1>y||g>.01?r:u;d=v(d,f),f=v(f,d),h=v(h,p),p=v(p,h)}d3.select(this).attr("d","M"+d+","+h+"V"+p+"H"+f+"V"+h+"Z")})})},r.style=function(e){var t=d3.select(e).selectAll("g.trace.bars"),r=t.size(),a=e._fullLayout;t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){("stack"===a.barmode&&r>1||0===a.bargap&&0===a.bargroupgap&&!e[0].trace.marker.line.width)&&d3.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(e){var t=e[0].trace,r=t.marker,a=r.line,o=(t._input||{}).marker||{},i=n.Drawing.tryColorscale(r,o,""),l=n.Drawing.tryColorscale(r,o,"line.");d3.select(this).selectAll("path").each(function(e){var t,o,s=(e.mlw+1||a.width+1)-1,c=d3.select(this);t="mc"in e?e.mcc=i(e.mc):Array.isArray(r.color)?n.Color.defaultLine:r.color,c.style("stroke-width",s+"px").call(n.Color.fill,t),s&&(o="mlc"in e?e.mlcc=l(e.mlc):Array.isArray(a.color)?n.Color.defaultLine:a.color,c.call(n.Color.stroke,o))})})},r.hoverPoints=function(e,t,r,a){var o,i=e.cd,l=i[0].trace,s=i[0].t,c=e.xa,u=e.ya,d="closest"===a?s.barwidth/2:s.dbar*(1-c._td._fullLayout.bargap)/2;o="closest"!==a?function(e){return e.p}:"h"===l.orientation?function(e){return e.y}:function(e){return e.x};var f,h;"h"===l.orientation?(f=function(e){return n.Fx.inbox(e.b-t,e.x-t)+(e.x-t)/(e.x-e.b)},h=function(e){var t=o(e)-r;return n.Fx.inbox(t-d,t+d)}):(h=function(e){return n.Fx.inbox(e.b-r,e.y-r)+(e.y-r)/(e.y-e.b)},f=function(e){var r=o(e)-t;return n.Fx.inbox(r-d,r+d)});var p=n.Fx.getDistanceFunction(a,f,h);if(n.Fx.getClosest(i,p,e),e.index!==!1){var g=i[e.index],m=g.mcc||l.marker.color,y=g.mlcc||l.marker.line.color,v=g.mlw||l.marker.line.width;return n.Color.opacity(m)?e.color=m:n.Color.opacity(y)&&v&&(e.color=y),"h"===l.orientation?(e.x0=e.x1=c.c2p(g.x,!0),e.xLabelVal=g.s,e.y0=u.c2p(o(g)-d,!0),e.y1=u.c2p(o(g)+d,!0),e.yLabelVal=g.p):(e.y0=e.y1=u.c2p(g.y,!0),e.yLabelVal=g.s,e.x0=c.c2p(o(g)-d,!0),e.x1=c.c2p(o(g)+d,!0),e.xLabelVal=g.p),g.tx&&(e.text=g.tx),n.ErrorBars&&n.ErrorBars.hoverInfo(g,l,e),[e]}}},{"./isnumeric":41,"./plotly":48}],13:[function(e,t){"use strict";function r(){f=2e9}function n(){var e=f;return f=(69069*f+1)%4294967296,Math.abs(f-e)<429496729?n():f/4294967296}var a=t.exports={},o=e("./plotly"),i=e("./isnumeric");o.Plots.register(a,"box",["cartesian","symbols","oriented","box","showLegend"]);var l=o.Scatter.attributes,s=l.marker,c=l.line,u=s.line,d=o.Lib.extendFlat;a.attributes={y:{type:"data_array"},y0:{type:"any"},x:{type:"data_array"},x0:{type:"any"},whiskerwidth:{type:"number",min:0,max:1,dflt:.5},boxpoints:{type:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers"},boxmean:{type:"enumerated",values:[!0,"sd",!1],dflt:!1},jitter:{type:"number",min:0,max:1},pointpos:{type:"number",min:-2,max:2},orientation:{type:"enumerated",values:["v","h"]},marker:{outliercolor:{type:"color",dflt:"rgba(0,0,0,0)"},symbol:d(s.symbol,{arrayOk:!1}),opacity:d(s.opacity,{arrayOk:!1,dflt:1}),size:d(s.size,{arrayOk:!1}),color:d(s.color,{arrayOk:!1}),line:{color:d(u.color,{arrayOk:!1,dflt:o.Color.defaultLine}),width:d(u.width,{arrayOk:!1,dflt:0}),outliercolor:{type:"color"},outlierwidth:{type:"number",min:0,dflt:1}}},line:{color:c.color,width:c.width},fillcolor:l.fillcolor},a.layoutAttributes={boxmode:{type:"enumerated",values:["group","overlay"],dflt:"overlay"},boxgap:{type:"number",min:0,max:1,dflt:.3},boxgroupgap:{type:"number",min:0,max:1,dflt:.3}},a.supplyDefaults=function(e,t,r){function n(r,n){return o.Lib.coerce(e,t,a.attributes,r,n)}var i,l=n("y"),s=n("x");if(l&&l.length)i="v",s||n("x0");else{if(!s||!s.length)return void(t.visible=!1);i="h",n("y0")}n("orientation",i),n("line.color",(e.marker||{}).color||r),n("line.width",2),n("fillcolor",o.Color.addOpacity(t.line.color,.5)),n("whiskerwidth"),n("boxmean");var c=n("boxpoints");c&&(n("jitter","all"===c?.3:0),n("pointpos","all"===c?-1.5:0),n("marker.symbol"),n("marker.opacity"),n("marker.size"),n("marker.color",t.line.color),n("marker.line.color"),n("marker.line.width"),"suspectedoutliers"===c&&(n("marker.outliercolor"),n("marker.line.outliercolor",t.marker.color),n("marker.line.outlierwidth")))},a.supplyLayoutDefaults=function(e,t,r){function n(r,n){return o.Lib.coerce(e,t,a.layoutAttributes,r,n)}for(var i,l=0;l<r.length;l++)if(o.Plots.traceIs(r[l],"box")){i=!0;break}i&&(n("boxmode"),n("boxgap"),n("boxgroupgap"))},a.calc=function(e,t){function r(e,t,r,n,a){var l;return r in t?h=n.makeCalcdata(t,r):(l=r+"0"in t?t[r+"0"]:"name"in t&&("category"===n.type||i(t.name)&&-1!==["linear","log"].indexOf(n.type)||o.Lib.isDateTime(t.name)&&"date"===n.type)?t.name:e.numboxes,l=n.d2c(l),h=a.map(function(){return l})),h}function n(e,t,r,n,a){var l,s,c,u,d=n.length,f=t.length,h=[],p=[];for(l=0;d>l;++l)s=n[l],e[l]={pos:s},p[l]=s-a,h[l]=[];for(p.push(n[d-1]+a),l=0;f>l;++l)u=t[l],i(u)&&(c=o.Lib.findBin(r[l],p),c>=0&&f>c&&h[c].push(u));return h}function a(e,t){var r,n,a,i;for(i=0;i<t.length;++i)r=t[i].sort(o.Lib.sorterAsc),n=r.length,a=e[i],a.val=r,a.min=r[0],a.max=r[n-1],a.mean=o.Lib.mean(r,n),a.sd=o.Lib.stdev(r,n,a.mean),a.q1=o.Lib.interp(r,.25),a.med=o.Lib.interp(r,.5),a.q3=o.Lib.interp(r,.75),a.lf=Math.min(a.q1,r[Math.min(o.Lib.findBin(2.5*a.q1-1.5*a.q3,r,!0)+1,n-1)]),a.uf=Math.max(a.q3,r[Math.max(o.Lib.findBin(2.5*a.q3-1.5*a.q1,r),0)]),a.lo=4*a.q1-3*a.q3,a.uo=4*a.q3-3*a.q1}var l,s,c,u,d,f,h,p,g,m=o.Axes.getFromId(e,t.xaxis||"x"),y=o.Axes.getFromId(e,t.yaxis||"y"),v=t.orientation,x=[];"h"===v?(l=m,s="x",d=y,f="y"):(l=y,s="y",d=m,f="x"),c=l.makeCalcdata(t,s),o.Axes.expand(l,c,{padded:!0}),h=r(e,t,f,d,c);var b=o.Lib.distinctVals(h);return p=b.vals,g=b.minDiff/2,u=n(x,c,h,p,g),a(x,u),x=x.filter(function(e){return e.val&&e.val.length}),x.length?(x[0].t={boxnum:e.numboxes,dPos:g},e.numboxes++,x):[{t:{emptybox:!0}}]},a.setPositions=function(e,t){var r,n,a,i,l=e._fullLayout,s=t.x(),c=t.y(),u=["v","h"];for(n=0;n<u.length;++n){var d,f,h,p=u[n],g=[],m=[],y=0,v=0;for(r="h"===p?c:s,a=0;a<e.calcdata.length;++a)d=e.calcdata[a],f=d[0].t,h=d[0].trace,h.visible===!0&&o.Plots.traceIs(h,"box")&&!f.emptybox&&h.orientation===p&&h.xaxis===s._id&&h.yaxis===c._id&&(g.push(a),h.boxpoints!==!1&&(y=Math.max(y,h.jitter-h.pointpos-1),v=Math.max(v,h.jitter+h.pointpos-1)));for(a=0;a<g.length;a++)for(d=e.calcdata[g[a]],i=0;i<d.length;i++)m.push(d[i].pos);if(m.length){var x=o.Lib.distinctVals(m),b=x.minDiff/2;for(m.length===x.vals.length&&(e.numboxes=1),o.Axes.minDtick(r,x.minDiff,x.vals[0],!0),n=0;n<g.length;++n)e.calcdata[n][0].t.dPos=b;var w=(1-l.boxgap)*(1-l.boxgroupgap)*b/e.numboxes;o.Axes.expand(r,x.vals,{vpadminus:b+y*w,vpadplus:b+v*w})}}};var f=2e9,h=5,p=.01;a.plot=function(e,t,a){var i,l,s=e._fullLayout,c=t.x(),u=t.y(),d=t.plot.select(".boxlayer").selectAll("g.trace.boxes").data(a).enter().append("g").attr("class","trace boxes");d.each(function(t){var a=t[0].t,d=t[0].trace,f="group"===s.boxmode&&e.numboxes>1,g=a.dPos*(1-s.boxgap)*(1-s.boxgroupgap)/(f?e.numboxes:1),m=f?2*a.dPos*(-.5+(a.boxnum+.5)/e.numboxes)*(1-s.boxgap):0,y=g*d.whiskerwidth;return d.visible!==!0||a.emptybox?void d3.select(this).remove():("h"===d.orientation?(i=u,l=c):(i=c,l=u),a.bPos=m,a.bdPos=g,r(),d3.select(this).selectAll("path.box").data(o.Lib.identity).enter().append("path").attr("class","box").each(function(e){var t=i.c2p(e.pos+m,!0),r=i.c2p(e.pos+m-g,!0),n=i.c2p(e.pos+m+g,!0),a=i.c2p(e.pos+m-y,!0),s=i.c2p(e.pos+m+y,!0),c=l.c2p(e.q1,!0),u=l.c2p(e.q3,!0),f=o.Lib.constrain(l.c2p(e.med,!0),Math.min(c,u)+1,Math.max(c,u)-1),h=l.c2p(d.boxpoints===!1?e.min:e.lf,!0),p=l.c2p(d.boxpoints===!1?e.max:e.uf,!0);"h"===d.orientation?d3.select(this).attr("d","M"+f+","+r+"V"+n+"M"+c+","+r+"V"+n+"H"+u+"V"+r+"ZM"+c+","+t+"H"+h+"M"+u+","+t+"H"+p+(0===d.whiskerwidth?"":"M"+h+","+a+"V"+s+"M"+p+","+a+"V"+s)):d3.select(this).attr("d","M"+r+","+f+"H"+n+"M"+r+","+c+"H"+n+"V"+u+"H"+r+"ZM"+t+","+c+"V"+h+"M"+t+","+u+"V"+p+(0===d.whiskerwidth?"":"M"+a+","+h+"H"+s+"M"+a+","+p+"H"+s))}),d.boxpoints&&d3.select(this).selectAll("g.points").data(function(e){return e.forEach(function(e){e.t=a,e.trace=d}),e}).enter().append("g").attr("class","points").selectAll("path").data(function(e){var t,r,a,i,l,s,c,u="all"===d.boxpoints?e.val:e.val.filter(function(t){return t<e.lf||t>e.uf}),f=(e.q3-e.q1)*p,y=[],v=0;if(d.jitter){for(t=0;t<u.length;t++)r=Math.max(0,t-h),i=u[r],a=Math.min(u.length-1,t+h),l=u[a],"all"!==d.boxpoints&&(u[t]<e.lf?l=Math.min(l,e.lf):i=Math.max(i,e.uf)),s=Math.sqrt(f*(a-r)/(l-i))||0,s=o.Lib.constrain(Math.abs(s),0,1),y.push(s),v=Math.max(s,v);c=2*d.jitter/v}return u.map(function(t,r){var a,o=d.pointpos;return d.jitter&&(o+=c*y[r]*(n()-.5)),a="h"===d.orientation?{y:e.pos+o*g+m,x:t}:{x:e.pos+o*g+m,y:t},"suspectedoutliers"===d.boxpoints&&t<e.uo&&t>e.lo&&(a.so=!0),a})}).enter().append("path").call(o.Drawing.translatePoints,c,u),void(d.boxmean&&d3.select(this).selectAll("path.mean").data(o.Lib.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(e){var t=i.c2p(e.pos+m,!0),r=i.c2p(e.pos+m-g,!0),n=i.c2p(e.pos+m+g,!0),a=l.c2p(e.mean,!0),o=l.c2p(e.mean-e.sd,!0),s=l.c2p(e.mean+e.sd,!0);"h"===d.orientation?d3.select(this).attr("d","M"+a+","+r+"V"+n+("sd"!==d.boxmean?"":"m0,0L"+o+","+t+"L"+a+","+r+"L"+s+","+t+"Z")):d3.select(this).attr("d","M"+r+","+a+"H"+n+("sd"!==d.boxmean?"":"m0,0L"+t+","+o+"L"+r+","+a+"L"+t+","+s+"Z"))})))})},a.style=function(e){var t=d3.select(e).selectAll("g.trace.boxes");t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){var t=e[0].trace,r=t.line.width;d3.select(this).selectAll("path.box").style("stroke-width",r+"px").call(o.Color.stroke,t.line.color).call(o.Color.fill,t.fillcolor),d3.select(this).selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(o.Color.stroke,t.line.color),d3.select(this).selectAll("g.points path").call(o.Drawing.pointStyle,t)})},a.hoverPoints=function(e,t,r,n){var a,i,l,s,c,u,d,f,h,p,g=e.cd,m=g[0].trace,y=g[0].t,v=e.xa,x=e.ya,b=[];
if(s="closest"===n?2.5*y.bdPos:y.bdPos,"h"===m.orientation?(a=function(e){return o.Fx.inbox(e.min-t,e.max-t)},i=function(e){var t=e.pos+y.bPos-r;return o.Fx.inbox(t-s,t+s)},c="y",u=x,h="x",p=v):(a=function(e){var r=e.pos+y.bPos-t;return o.Fx.inbox(r-s,r+s)},i=function(e){return o.Fx.inbox(e.min-r,e.max-r)},c="x",u=v,h="y",p=x),l=o.Fx.getDistanceFunction(n,a,i),o.Fx.getClosest(g,l,e),e.index!==!1){var w=g[e.index],_=m.line.color,k=(m.marker||{}).color;e.color=o.Color.opacity(_)&&m.line.width?_:o.Color.opacity(k)&&m.boxpoints?k:m.fillcolor,e[c+"0"]=u.c2p(w.pos+y.bPos-y.bdPos,!0),e[c+"1"]=u.c2p(w.pos+y.bPos+y.bdPos,!0),d=o.Axes.tickText(u,u.c2l(w.pos),"hover").text,e[c+"LabelVal"]=w.pos;var A,M,L={},z=["med","min","q1","q3","max"];m.boxmean&&z.push("mean"),m.boxpoints&&[].push.apply(z,["lf","uf"]);for(var C=0;C<z.length;C++)A=z[C],A in w&&!(w[A]in L)&&(L[w[A]]=!0,f=p.c2p(w[A],!0),M=$.extend({},e),M[h+"0"]=M[h+"1"]=f,M[h+"LabelVal"]=w[A],M.attr=A,"mean"===A&&"sd"in w&&"sd"===m.boxmean&&(M[h+"err"]=w.sd),e.name="",b.push(M));return b}}},{"./isnumeric":41,"./plotly":48}],14:[function(e,t){"use strict";function r(e){if(o(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var r=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return e;var n=r[1].trim().split(/\s*[\s,]\s*/),a="a"===t.charAt(3)&&4===n.length;if(!a&&3!==n.length)return e;for(var i=0;i<n.length;i++){if(!n[i].length)return e;if(n[i]=Number(n[i]),!(n[i]>=0))return e;if(3===i)n[i]>1&&(n[i]=1);else if(n[i]>=1)return e}var l=Math.round(255*n[0])+", "+Math.round(255*n[1])+", "+Math.round(255*n[2]);return a?"rgba("+l+", "+n[3]+")":"rgb("+l+")"}var n=t.exports={},a=e("tinycolor2"),o=e("./isnumeric");n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},n.rgb=function(e){return n.tinyRGB(a(e))},n.opacity=function(e){return e?a(e).getAlpha():0},n.addOpacity=function(e,t){var r=a(e).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+t+")"},n.combine=function(e,t){var r=a(e).toRgb();if(1===r.a)return a(e).toRgbString();var o=a(t||n.background).toRgb(),i=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},l={r:i.r*(1-r.a)+r.r*r.a,g:i.g*(1-r.a)+r.g*r.a,b:i.b*(1-r.a)+r.b*r.a};return a(l).toRgbString()},n.stroke=function(e,t){var r=a(t);e.style({stroke:n.tinyRGB(r),"stroke-opacity":r.getAlpha()})},n.fill=function(e,t){var r=a(t);e.style({fill:n.tinyRGB(r),"fill-opacity":r.getAlpha()})},n.clean=function(e){if(e&&"object"==typeof e){var t,a,o,i,l=Object.keys(e);for(t=0;t<l.length;t++)if(o=l[t],i=e[o],"color"===o.substr(o.length-5))if(Array.isArray(i))for(a=0;a<i.length;a++)i[a]=r(i[a]);else e[o]=r(i);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(i))for(a=0;a<i.length;a++)Array.isArray(i[a])&&(i[a][1]=r(i[a][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(a=0;a<i.length;a++)n.clean(i[a])}else i&&"object"==typeof i&&n.clean(i)}}},{"./isnumeric":41,tinycolor2:8}],15:[function(e,t){"use strict";var r=e("./plotly"),n=e("./isnumeric"),a=t.exports=function(e,t){function n(){function a(e,t){return r.Lib.coerce(E,I,r.Axes.layoutAttributes,e,t)}function i(){if(-1!==["top","bottom"].indexOf(o.titleside)){var t=H.select(".cbtitle"),n=t.select("text"),a=[-o.outlinewidth/2,o.outlinewidth/2],i=t.select(".h"+I._id+"title-math-group").node(),l=15.6;if(n.node()&&(l=1.3*parseInt(n.style("font-size"),10)),i?(q=r.Drawing.bBox(i).height,q>l&&(a[1]-=(q-l)/2)):n.node()&&!n.classed("js-placeholder")&&(q=r.Drawing.bBox(t.node()).height),q){if(q+=5,"top"===o.titleside)I.domain[1]-=q/s._size.h,a[1]*=-1;else{I.domain[0]+=q/s._size.h;var c=Math.max(1,n.selectAll("tspan.line").size());a[1]+=(1-c)*l}t.attr("transform","translate("+a+")"),I.setScale()}}H.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(s._size.h*(1-I.domain[1]))+")");var g=H.select(".cbfills").selectAll("rect.cbfill").data(f);g.enter().append("rect").classed("cbfill",!0).style("stroke","none"),g.exit().remove(),g.each(function(e,t){var r=[0===t?u[0]:(f[t]+f[t-1])/2,t===f.length-1?u[1]:(f[t]+f[t+1])/2].map(I.c2p).map(Math.round);t!==f.length-1&&(r[1]+=r[1]>r[0]?1:-1),d3.select(this).attr({x:S,width:Math.max(_,2),y:d3.min(r),height:Math.max(d3.max(r)-d3.min(r),2)}).style("fill",p(e))});var m=H.select(".cblines").selectAll("path.cbline").data(o.line.color&&o.line.width?d:[]);return m.enter().append("path").classed("cbline",!0),m.exit().remove(),m.each(function(e){d3.select(this).attr("d","M"+S+","+(Math.round(I.c2p(e))+o.line.width/2%1)+"h"+_).call(r.Drawing.lineGroupStyle,o.line.width,h(e),o.line.dash)}),I._axislayer.selectAll("g."+I._id+"tick,path").remove(),I._pos=S+_+(o.outlinewidth||0)/2-("outside"===o.ticks?1:0),I.side=o.orient,r.Axes.doTicks(e,I)}function l(){var n=_+o.outlinewidth/2+r.Drawing.bBox(I._axislayer.node()).width;if(x=V.select("text"),x.node()&&!x.classed("js-placeholder")){var a,i=V.select(".h"+I._id+"title-math-group").node();a=i&&-1!==["top","bottom"].indexOf(o.titleside)?r.Drawing.bBox(i).width:r.Drawing.bBox(V.node()).right-S-s._size.l,n=Math.max(n,a)}var l=2*o.xpad+n+o.borderwidth+o.outlinewidth/2,c=D-T;H.select(".cbbg").attr({x:S-o.xpad-(o.borderwidth+o.outlinewidth)/2,y:T-z,width:Math.max(l,2),height:Math.max(c+2*z,2)}).call(r.Color.fill,o.bgcolor).call(r.Color.stroke,o.bordercolor).style({"stroke-width":o.borderwidth}),H.selectAll(".cboutline").attr({x:S,y:T+o.ypad+("top"===o.titleside?q:0),width:Math.max(_,2),height:Math.max(c-2*o.ypad-q,2)}).call(r.Color.stroke,o.outlinecolor).style({fill:"None","stroke-width":o.outlinewidth});var u=({center:.5,right:1}[o.xanchor]||0)*l;H.attr("transform","translate("+(s._size.l-u)+","+s._size.t+")"),r.Plots.autoMargin(e,t,{x:o.x,y:o.y,l:l*({right:1,center:.5}[o.xanchor]||0),r:l*({left:1,center:.5}[o.xanchor]||0),t:c*({bottom:1,middle:.5}[o.yanchor]||0),b:c*({top:1,middle:.5}[o.yanchor]||0)})}var s=e._fullLayout;if("function"!=typeof o.fillcolor&&"function"!=typeof o.line.color)return void s._infolayer.selectAll("g."+t).remove();var c,u=d3.extent(("function"==typeof o.fillcolor?o.fillcolor:o.line.color).domain()),d=[],f=[],h="function"==typeof o.line.color?o.line.color:function(){return o.line.color},p="function"==typeof o.fillcolor?o.fillcolor:function(){return o.fillcolor},g=o.levels.end+o.levels.size/100,m=o.levels.size,y=1.001*u[0]-.001*u[1],v=1.001*u[1]-.001*u[0];for(c=o.levels.start;0>(c-g)*m;c+=m)c>y&&v>c&&d.push(c);if("function"==typeof o.fillcolor)if(o.filllevels)for(g=o.filllevels.end+o.filllevels.size/100,m=o.filllevels.size,c=o.filllevels.start;0>(c-g)*m;c+=m)c>u[0]&&c<u[1]&&f.push(c);else f=d.map(function(e){return e-o.levels.size/2}),f.push(f[f.length-1]+o.levels.size);else o.fillcolor&&"string"==typeof o.fillcolor&&(f=[0]);o.levels.size<0&&(d.reverse(),f.reverse());var x,b=s.height-s.margin.t-s.margin.b,w=s.width-s.margin.l-s.margin.r,_=Math.round(o.thickness*("fraction"===o.thicknessmode?w:1)),k=_/s._size.w,A=Math.round(o.len*("fraction"===o.lenmode?b:1)),M=A/s._size.h,L=o.xpad/s._size.w,z=(o.borderwidth+o.outlinewidth)/2,C=o.ypad/s._size.h,S=Math.round(o.x*s._size.w+o.xpad),P=o.x-k*({middle:.5,right:1}[o.xanchor]||0),O=o.y+M*(({top:-.5,bottom:.5}[o.yanchor]||0)-.5),D=Math.round(s._size.h*(1-O)),T=D-A,E={type:"linear",range:u,tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,exponentformat:o.exponentformat,showexponent:o.showexponent,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,title:o.title,titlefont:o.titlefont,anchor:"free",position:1},I={},j={letter:"y",font:s.font,noHover:!0};if(r.Axes.handleAxisDefaults(E,I,a,j),r.Axes.handleAxisPositioningDefaults(E,I,a,j),I._id="y"+t,I._td=e,I.position=o.x+L+k,n.axis=I,-1!==["top","bottom"].indexOf(o.titleside)&&(I.titleside=o.titleside,I.titlex=o.x+L,I.titley=O+("top"===o.titleside?M-C:C)),o.line.color&&"auto"===o.tickmode){I.tickmode="linear",I.tick0=o.levels.start;var N=o.levels.size,R=r.Lib.constrain((D-T)/50,4,15)+1,B=(u[1]-u[0])/((o.nticks||R)*N);if(B>1){var F=Math.pow(10,Math.floor(Math.log(B)/Math.LN10));N*=F*r.Lib.roundUp(B/F,[2,5,10]),(Math.abs(o.levels.start)/o.levels.size+1e-6)%1<2e-6&&(I.tick0=0)}I.dtick=N}I.domain=[O+C,O+M-C],I.setScale();var H=s._infolayer.selectAll("g."+t).data([0]);H.enter().append("g").classed(t,!0).each(function(){var e=d3.select(this);e.append("rect").classed("cbbg",!0),e.append("g").classed("cbfills",!0),e.append("g").classed("cblines",!0),e.append("g").classed("cbaxis",!0).classed("crisp",!0),e.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),e.append("rect").classed("cboutline",!0)}),H.attr("transform","translate("+Math.round(s._size.l)+","+Math.round(s._size.t)+")");var V=H.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(s._size.l)+",-"+Math.round(s._size.t)+")");I._axislayer=H.select(".cbaxis");var q=0;-1!==["top","bottom"].indexOf(o.titleside)&&r.Plots.titles(e,I._id+"title");var G=r.Lib.syncOrAsync([r.Plots.previousPromises,i,r.Plots.previousPromises,l],e);if(G&&G.then&&(e._promises||[]).push(G),e._context.editable){var Z,U,Y;r.Fx.dragElement({element:H.node(),prepFn:function(){Z=H.attr("transform"),r.Fx.setCursor(H)},moveFn:function(t,n){var a=e._fullLayout._size;H.attr("transform",Z+" translate("+t+","+n+")"),U=r.Fx.dragAlign(P+t/a.w,k,0,1,o.xanchor),Y=r.Fx.dragAlign(O-n/a.h,M,0,1,o.yanchor);var i=r.Fx.dragCursors(U,Y,o.xanchor,o.yanchor);r.Fx.setCursor(H,i)},doneFn:function(n){if(r.Fx.setCursor(H),n&&void 0!==U&&void 0!==Y){var a,o=t.substr(2);e._fullData.some(function(e){return e.uid===o?(a=e.index,!0):void 0}),r.restyle(e,{"colorbar.x":U,"colorbar.y":Y},a)}}})}return G}var o={};return Object.keys(a.attributes).forEach(function(e){o[e]=null}),o.fillcolor=null,o.line={color:null,width:null,dash:null},o.levels={start:null,end:null,size:null},o.filllevels=null,Object.keys(o).forEach(function(e){n[e]=function(t){return arguments.length?($.isPlainObject(o[e])?$.extend(o[e],t):o[e]=t,n):o[e]}}),n.options=function(e){return Object.keys(e).forEach(function(t){"function"==typeof n[t]&&n[t](e[t])}),n},n._opts=o,n},o=r.Axes.layoutAttributes,i=r.Lib.extendFlat;a.attributes={orient:{type:"enumerated",values:["left","right","top","bottom"],dflt:"right"},thicknessmode:{type:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{type:"number",min:0,dflt:30},lenmode:{type:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{type:"number",min:0,dflt:1},x:{type:"number",dflt:1.02},xanchor:{type:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{type:"number",min:0,dflt:10},y:{type:"number",dflt:.5},yanchor:{type:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{type:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{type:"number",min:0,dflt:0},bgcolor:{type:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:i(o.ticks,{dflt:""}),ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,exponentformat:o.exponentformat,showexponent:o.showexponent,title:{type:"string",dflt:"Click to enter colorscale title"},titlefont:o.titlefont,titleside:{type:"enumerated",values:["right","top","bottom"],dflt:"top"}},a.supplyDefaults=function(e,t,n){function o(e,t){return r.Lib.coerce(l,i,a.attributes,e,t)}var i=t.colorbar={},l=e.colorbar||{};o("orient");var s=o("thicknessmode");o("thickness","fraction"===s?30/(n.width-n.margin.l-n.margin.r):30);var c=o("lenmode");o("len","fraction"===c?1:n.height-n.margin.t-n.margin.b),o("x"),o("xanchor"),o("xpad"),o("y"),o("yanchor"),o("ypad"),r.Lib.noneOrAll(l,i,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor"),r.Axes.handleTickValueDefaults(l,i,o,"linear"),r.Axes.handleTickDefaults(l,i,o,"linear",{outerTicks:!1,font:n.font,noHover:!0}),o("title"),o("titlefont",n.font),o("titleside")},a.traceColorbar=function(e,t){var o=t[0].trace,i="cb"+o.uid,l=r.Colorscale.getScale(o.colorscale),s=o.zmin,c=o.zmax;if(n(s)||(s=r.Lib.aggNums(Math.min,null,o.z)),n(c)||(c=r.Lib.aggNums(Math.max,null,o.z)),e._fullLayout._infolayer.selectAll("."+i).remove(),!o.showscale)return void r.Plots.autoMargin(e,i);var u=t[0].t.cb=a(e,i);u.fillcolor(d3.scale.linear().domain(l.map(function(e){return s+e[0]*(c-s)})).range(l.map(function(e){return e[1]}))).filllevels({start:s,end:c,size:(c-s)/254}).options(o.colorbar)(),r.Lib.markTime("done colorbar")},a.traceColorbarAttributes={zauto:{type:"boolean",dflt:!0},zmin:{type:"number",dflt:null},zmax:{type:"number",dflt:null},colorscale:{type:"colorscale"},reversescale:{type:"boolean",dflt:!1},showscale:{type:"boolean",dflt:!0}}},{"./isnumeric":41,"./plotly":48}],16:[function(e,t){"use strict";function r(e){var t,r=!0,n=0;if(Array.isArray(e)){if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var a=0;a<e.length;a++){if(t=e[a],2!==t.length||+t[0]<n||!o(t[1]).isValid()){r=!1;break}n=+t[0]}return r}return!1}var n=t.exports={},a=e("./plotly"),o=e("tinycolor2"),i=e("./isnumeric");n.scales={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YIGnBu:[[0,"rgb(8, 29, 88)"],[.125,"rgb(37, 52, 148)"],[.25,"rgb(34, 94, 168)"],[.375,"rgb(29, 145, 192)"],[.5,"rgb(65, 182, 196)"],[.625,"rgb(127, 205, 187)"],[.75,"rgb(199, 233, 180)"],[.875,"rgb(237, 248, 217)"],[1,"rgb(255, 255, 217)"]],Greens:[[0,"rgb(0, 68, 27)"],[.125,"rgb(0, 109, 44)"],[.25,"rgb(35, 139, 69)"],[.375,"rgb(65, 171, 93)"],[.5,"rgb(116, 196, 118)"],[.625,"rgb(161, 217, 155)"],[.75,"rgb(199, 233, 192)"],[.875,"rgb(229, 245, 224)"],[1,"rgb(247, 252, 245)"]],YIOrRd:[[0,"rgb(128, 0, 38)"],[.125,"rgb(189, 0, 38)"],[.25,"rgb(227, 26, 28)"],[.375,"rgb(252, 78, 42)"],[.5,"rgb(253, 141, 60)"],[.625,"rgb(254, 178, 76)"],[.75,"rgb(254, 217, 118)"],[.875,"rgb(255, 237, 160)"],[1,"rgb(255, 255, 204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5, 10, 172)"],[.35,"rgb(106, 137, 247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220, 170, 132)"],[.7,"rgb(230, 145, 90)"],[1,"rgb(178, 10, 28)"]],Reds:[[0,"rgb(220, 220, 220)"],[.2,"rgb(245, 195, 157)"],[.4,"rgb(245, 160, 105)"],[1,"rgb(178, 10, 28)"]],Blues:[[0,"rgb(5, 10, 172)"],[.35,"rgb(40, 60, 190)"],[.5,"rgb(70, 100, 245)"],[.6,"rgb(90, 120, 245)"],[.7,"rgb(106, 137, 247)"],[1,"rgb(220, 220, 220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0, 0, 200)"],[.25,"rgb(0, 25, 255)"],[.375,"rgb(0, 152, 255)"],[.5,"rgb(44, 255, 150)"],[.625,"rgb(151, 255, 0)"],[.75,"rgb(255, 234, 0)"],[.875,"rgb(255, 111, 0)"],[1,"rgb(255, 0, 0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]},n.defaultScale=n.scales.RdBu,n.isValidScale=function(e){return void 0!==n.scales[e]?!0:r(e)},n.getScale=function(e,t){function a(){try{e=n.scales[e]||JSON.parse(e)}catch(r){e=t}}return t||(t=n.defaultScale),e?("string"==typeof e&&(a(),"string"==typeof e&&a()),r(e)?e:t):t},n.flipScale=function(e){for(var t,r=e.length,n=new Array(r),a=r-1,o=0;a>=0;a--,o++)t=e[a],n[o]=[1-t[0],t[1]];return n},n.hasColorscale=function(e,t){var r=t?a.Lib.nestedProperty(e,t).get()||{}:e,o=r.color,l=!1;if(Array.isArray(o))for(var s=0;s<o.length;s++)if(i(o[s])){l=!0;break}return"object"==typeof r&&null!==r&&(l||r.showscale===!0||i(r.cmin)&&i(r.cmax)||n.isValidScale(r.colorscale)||"object"==typeof r.colorbar&&null!==r.colorbar)},n.hasColorbar=function(e){return"object"==typeof e.colorbar&&null!==e.colorbar},n.handleDefaults=function(e,t,r,o,l){var s,c,u,d,f,h,p=l.prefix,g=l.cLetter,m=p.slice(0,p.length-1),y=p?a.Lib.nestedProperty(e,m).get()||{}:e,v=p?a.Lib.nestedProperty(t,m).get()||{}:t,x=y[g+"min"],b=y[g+"max"],w=y.colorscale;s=i(x)&&i(b)&&b>x,o(p+g+"auto",!s),o(p+g+"min"),o(p+g+"max"),void 0!==w&&(c=!n.isValidScale(w)),o(p+"autocolorscale",c),d=o(p+"colorscale"),f=o(p+"reversescale"),f&&(v.colorscale=n.flipScale(d)),"marker.line."!==p&&(p&&(u=n.hasColorbar(y)),h=o(p+"showscale",u),h&&a.Colorbar.supplyDefaults(y,v,r))},n.calc=function(e,t,r,o){var i,l;r?(i=a.Lib.nestedProperty(e,r).get(),l=a.Lib.nestedProperty(e._input,r).get()):(i=e,l=e._input);var s=i[o+"auto"],c=i[o+"min"],u=i[o+"max"],d=i.colorscale;(s!==!1||void 0===c)&&(c=a.Lib.aggNums(Math.min,null,t)),(s!==!1||void 0===u)&&(u=a.Lib.aggNums(Math.max,null,t)),c===u&&(c-=.5,u+=.5),i[o+"min"]=c,i[o+"max"]=u,l[o+"min"]=c,l[o+"max"]=u,i.autocolorscale&&(d=0>c*u?n.scales.RdBu:c>=0?n.scales.Reds:n.scales.Blues,l.colorscale=d,i.reversescale&&(d=n.flipScale(d)),i.colorscale=d)},n.makeScaleFunction=function(e,t,r){for(var n,l=e.length,s=new Array(l),c=new Array(l),u=0;l>u;u++)n=e[u],s[u]=t+n[0]*(r-t),c[u]=n[1];var d=d3.scale.linear().domain(s).interpolate(d3.interpolateRgb).range(c);return function(e){return i(e)?d(e):o(e).isValid()?e:a.Color.defaultLine}}},{"./isnumeric":41,"./plotly":48,tinycolor2:8}],17:[function(e,t,r){"undefined"!=typeof MathJax?(r.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):r.MathJax=!1},{}],18:[function(e,t){"use strict";function r(e,t,r){b.Lib.markTime("in Contour.plot");var a=r[0].trace,i=r[0].x,s=r[0].y,c=a.contours,u=a.uid,d=t.x(),g=t.y(),v=e._fullLayout,x="contour"+u,w=n(c,t,r[0]);if(a.visible!==!0)return void v._paper.selectAll("."+x+",.cb"+u+",.hm"+u).remove();"heatmap"===c.coloring?(a.zauto&&a.autocontour===!1&&(a._input.zmin=a.zmin=c.start-c.size/2,a._input.zmax=a.zmax=a.zmin+w.length*c.size),b.Heatmap.plot(e,t,[r])):v._paper.selectAll(".hm"+u).remove(),o(w),l(w);var _=d.c2p(i[0],!0),k=d.c2p(i[i.length-1],!0),A=g.c2p(s[0],!0),M=g.c2p(s[s.length-1],!0),L=[[_,M],[k,M],[k,A],[_,A]],z=f(t,r,x);h(z,L,c),p(z,w,L,c),m(z,w,c),y(z,t,r[0],L),b.Lib.markTime("done Contour.plot")}function n(e,t,r){for(var n=e.size||1,a=[],o=e.start;o<e.end+n/10;o+=n)a.push({level:o,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.x(),yaxis:t.y(),x:r.x,y:r.y,z:r.z,smoothing:r.trace.line.smoothing});return a}function a(e,t){var r=(t[0][0]>e?0:1)+(t[0][1]>e?0:2)+(t[1][1]>e?0:4)+(t[1][0]>e?0:8);if(5===r||10===r){var n=(t[0][0]+t[0][1]+t[1][0]+t[1][1])/4;return e>n?5===r?713:1114:5===r?104:208}return 15===r?0:r}function o(e){var t,r,n,o,i,l,s,c,u,d=e[0].z,f=d.length,h=d[0].length,p=2===f||2===h;for(r=0;f-1>r;r++)for(o=[],0===r&&(o=o.concat(_)),r===f-2&&(o=o.concat(k)),t=0;h-1>t;t++)for(n=o.slice(),0===t&&(n=n.concat(A)),t===h-2&&(n=n.concat(M)),i=t+","+r,l=[[d[r][t],d[r][t+1]],[d[r+1][t],d[r+1][t+1]]],u=0;u<e.length;u++)c=e[u],s=a(c.level,l),s&&(c.crossings[i]=s,-1!==n.indexOf(s)&&(c.starts.push([t,r]),p&&-1!==n.indexOf(s,n.indexOf(s)+1)&&c.starts.push([t,r])))}function i(e,t,r){function n(e){return f[e%f.length]}for(var a=t.join(","),o=a,i=e.crossings[o],l=s(i,r,t),f=[d(e,t,[-l[0],-l[1]])],h=l.join(","),p=e.z.length,g=e.z[0].length,m=0;1e4>m;m++){if(i>20?(i=z[i][(l[0]||l[1])<0?0:1],e.crossings[o]=C[i]):delete e.crossings[o],l=L[i],!l){console.log("found bad marching index",i,t,e.level);break}if(f.push(d(e,t,l)),t[0]+=l[0],t[1]+=l[1],c(f[f.length-1],f[f.length-2])&&f.pop(),o=t.join(","),o===a&&l.join(",")===h||r&&(l[0]&&(t[0]<0||t[0]>g-2)||l[1]&&(t[1]<0||t[1]>p-2)))break;i=e.crossings[o]}1e4===m&&console.log("Infinite loop in contour?");var y,v,x,b,w,_,k,A=c(f[0],f[f.length-1]),M=0,S=.2*e.smoothing,P=[],O=0;for(m=1;m<f.length;m++)k=u(f[m],f[m-1]),M+=k,P.push(k);var D=M/P.length*S;for(m=f.length-2;m>=O;m--)if(y=P[m],D>y){for(x=0,v=m-1;v>=O&&y+P[v]<D;v--)y+=P[v];if(A&&m===f.length-2)for(x=0;v>x&&y+P[x]<D;x++)y+=P[x];w=m-v+x+1,_=Math.floor((m+v+x+2)/2),b=A||m!==f.length-2?A||-1!==v?w%2?n(_):[(n(_)[0]+n(_+1)[0])/2,(n(_)[1]+n(_+1)[1])/2]:f[0]:f[f.length-1],f.splice(v+1,m-v+1,b),m=v+1,x&&(O=x),A&&(m===f.length-2?f[x]=f[f.length-1]:0===m&&(f[f.length-1]=f[0]))}if(f.splice(0,O),!(f.length<2))if(A)f.pop(),e.paths.push(f);else{r||console.log("unclosed interior contour?",e.level,a,f.join("L"));var T=!1;e.edgepaths.forEach(function(t,r){if(!T&&c(t[0],f[f.length-1])){f.pop(),T=!0;var n=!1;e.edgepaths.forEach(function(t,a){!n&&c(t[t.length-1],f[0])&&(n=!0,f.splice(0,1),e.edgepaths.splice(r,1),a===r?e.paths.push(f.concat(t)):e.edgepaths[a]=e.edgepaths[a].concat(f,t))}),n||(e.edgepaths[r]=f.concat(t))}}),e.edgepaths.forEach(function(t,r){!T&&c(t[t.length-1],f[0])&&(f.splice(0,1),e.edgepaths[r]=t.concat(f),T=!0)}),T||e.edgepaths.push(f)}}function l(e){var t,r,n,a,o;for(n=0;n<e.length;n++){for(a=e[n],o=0;o<a.starts.length;o++)r=a.starts[o],i(a,r,"edge");for(t=0;Object.keys(a.crossings).length&&1e4>t;)t++,r=Object.keys(a.crossings)[0].split(",").map(Number),i(a,r);1e4===t&&console.log("Infinite loop in contour?")}}function s(e,t,r){var n=0,a=0;return e>20&&t?208===e||1114===e?n=0===r[0]?1:-1:a=0===r[1]?1:-1:-1!==_.indexOf(e)?a=1:-1!==A.indexOf(e)?n=1:-1!==k.indexOf(e)?a=-1:n=-1,[n,a]}function c(e,t){return Math.abs(e[0]-t[0])<.01&&Math.abs(e[1]-t[1])<.01}function u(e,t){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function d(e,t,r){var n=t[0]+Math.max(r[0],0),a=t[1]+Math.max(r[1],0),o=e.z[a][n],i=e.xaxis,l=e.yaxis;if(r[1]){var s=(e.level-o)/(e.z[a][n+1]-o);return[i.c2p((1-s)*e.x[n]+s*e.x[n+1],!0),l.c2p(e.y[a],!0)]}var c=(e.level-o)/(e.z[a+1][n]-o);return[i.c2p(e.x[n],!0),l.c2p((1-c)*e.y[a]+c*e.y[a+1],!0)]}function f(e,t,r){var n=e.plot.select(".maplayer").selectAll("g.contour."+r).data(t);return n.enter().append("g").classed("contour",!0).classed(r,!0),n.exit().remove(),n}function h(e,t,r){var n=e.selectAll("g.contourbg").data([0]);n.enter().append("g").classed("contourbg",!0);var a=n.selectAll("path").data("fill"===r.coloring?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+t.join("L")+"Z").style("stroke","none")}function p(e,t,r,n){var a=e.selectAll("g.contourfill").data([0]);a.enter().append("g").classed("contourfill",!0);var o=a.selectAll("path").data("fill"===n.coloring?t:[]);o.enter().append("path"),o.exit().remove(),o.each(function(e){var t=g(e,r);t?d3.select(this).attr("d",t).style("stroke","none"):d3.select(this).remove()})}function g(e,t){function r(e){return Math.abs(e[1]-t[0][1])<.01}function n(e){return Math.abs(e[1]-t[2][1])<.01}function a(e){return Math.abs(e[0]-t[0][0])<.01}function o(e){return Math.abs(e[0]-t[2][0])<.01}for(var i,l,s,c,u,d,f=e.edgepaths.length||e.z[0][0]<e.level?"":"M"+t.join("L")+"Z",h=0,p=e.edgepaths.map(function(e,t){return t}),g=!0;p.length;){for(d=b.Drawing.smoothopen(e.edgepaths[h],e.smoothing),f+=g?d:d.replace(/^M/,"L"),p.splice(p.indexOf(h),1),i=e.edgepaths[h][e.edgepaths[h].length-1],c=-1,s=0;4>s;s++){if(!i){console.log("missing end?",h,e);break}for(r(i)&&!o(i)?l=t[1]:a(i)?l=t[0]:n(i)?l=t[3]:o(i)&&(l=t[2]),u=0;u<e.edgepaths.length;u++){var m=e.edgepaths[u][0];Math.abs(i[0]-l[0])<.01?Math.abs(i[0]-m[0])<.01&&(m[1]-i[1])*(l[1]-m[1])>=0&&(l=m,c=u):Math.abs(i[1]-l[1])<.01?Math.abs(i[1]-m[1])<.01&&(m[0]-i[0])*(l[0]-m[0])>=0&&(l=m,c=u):console.log("endpt to newendpt is not vert. or horz.",i,l,m)}if(i=l,c>=0)break;f+="L"+l}if(c===e.edgepaths.length){console.log("unclosed perimeter path");break}h=c,g=-1===p.indexOf(h),g&&(h=p[0],f+="Z")}for(h=0;h<e.paths.length;h++)f+=b.Drawing.smoothclosed(e.paths[h],e.smoothing);return f}function m(e,t,r){var n=t[0].smoothing,a=e.selectAll("g.contourlevel").data(r.showlines===!1?[]:t);a.enter().append("g").classed("contourlevel",!0),a.exit().remove();var o=a.selectAll("path.openline").data(function(e){return e.edgepaths});o.enter().append("path").classed("openline",!0),o.exit().remove(),o.attr("d",function(e){return b.Drawing.smoothopen(e,n)}).style("stroke-miterlimit",1);var i=a.selectAll("path.closedline").data(function(e){return e.paths});i.enter().append("path").classed("closedline",!0),i.exit().remove(),i.attr("d",function(e){return b.Drawing.smoothclosed(e,n)}).style("stroke-miterlimit",1)}function y(e,t,r,n){var a="clip"+r.trace.uid,i=t.plot.selectAll("defs").data([0]);i.enter().append("defs");var s=i.selectAll("#"+a).data(r.trace.connectgaps?[]:[0]);if(s.enter().append("clipPath").attr("id",a),s.exit().remove(),r.trace.connectgaps===!1){var c={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.x(),yaxis:t.y(),x:r.x,y:r.y,z:v(r),smoothing:0};o([c]),l([c]);var u=g(c,n),d=s.selectAll("path").data([0]);d.enter().append("path"),d.attr("d",u)}else a=null;e.call(b.Drawing.setClipUrl,a),t.plot.selectAll(".hm"+r.trace.uid).call(b.Drawing.setClipUrl,a)}function v(e){var t,r,n=e.trace._emptypoints,a=[],o=e.z.length,i=e.z[0].length,l=[];for(t=0;i>t;t++)l.push(1);for(t=0;o>t;t++)a.push(l.slice());for(t=0;t<n.length;t++)r=n[t],a[r[0]][r[1]]=0;return e.zmask=a,a}var x=t.exports={},b=e("./plotly");b.Plots.register(x,"contour",["cartesian","2dMap","contour"]),b.Plots.register(x,"histogram2dcontour",["cartesian","2dMap","contour","histogram"]);var w=b.Scatter.attributes.line;x.attributes={_composedModules:{contour:"Heatmap",histogram2dcontour:"Heatmap"},autocontour:{type:"boolean",dflt:!0},ncontours:{type:"integer",dflt:0},contours:{start:{type:"number",dflt:null},end:{type:"number",dflt:null},size:{type:"number",dflt:null},coloring:{type:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill"},showlines:{type:"boolean",dflt:!0}},line:{color:w.color,width:w.width,dash:w.dash,smoothing:w.smoothing}},x.supplyDefaults=function(e,t,r,n){function a(r,n){return b.Lib.coerce(e,t,x.attributes,r,n)}var o=a("autocontour");o&&a("ncontours"),a("contours.start"),a("contours.end"),a("contours.size");var i=a("contours.coloring");"fill"===i&&a("contours.showlines"),t.contours.showlines!==!1&&("lines"!==i&&a("line.color","#000"),a("line.width",.5),a("line.dash")),a("line.smoothing"),b.Heatmap.supplyDefaults(e,t,r,n)},x.calc=function(e,t){var r=b.Heatmap.calc(e,t),n=t.contours;if(t.autocontour!==!1||!n.size||void 0===n.start||void 0===n.end){var a={type:"linear",range:[t.zmin,t.zmax]};b.Axes.autoTicks(a,(t.zmax-t.zmin)/(t.ncontours||15)),n.start=b.Axes.tickFirst(a),n.size=a.dtick,a.range.reverse(),n.end=b.Axes.tickFirst(a),n.start===t.zmin&&(n.start+=n.size),n.end===t.zmax&&(n.end-=n.size),n.end+=n.size/100,t._input.contours=n}return r},x.plot=function(e,t,n){for(var a=0;a<n.length;a++)r(e,t,n[a])};var _=[1,9,13,104,713],k=[4,6,7,104,713],A=[8,12,14,208,1114],M=[2,3,11,208,1114],L=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],z={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},C={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11};x.style=function(e){d3.select(e).selectAll("g.contour").style("opacity",function(e){return e.trace.opacity}).each(function(e){var t=d3.select(this),r=e.trace,n=r.contours,a=r.line,o="lines"===n.coloring,i=n.size||1,l=Math.floor((n.end+i/10-n.start)/i)+1,s=b.Colorscale.getScale(r.colorscale),c=o?0:1,u=d3.scale.linear().domain(s.map(function(e){return(e[0]*(l+c-1)-c/2)*i+n.start})).interpolate(d3.interpolateRgb).range(s.map(function(e){return e[1]}));t.selectAll("g.contourlevel").each(function(e,t){d3.select(this).selectAll("path").call(b.Drawing.lineGroupStyle,a.width,o?u(n.start+t*i):a.color,a.dash)}),t.selectAll("g.contourbg path").style("fill",u(n.start-i/2)),t.selectAll("g.contourfill path").style("fill",function(e,t){return u(n.start+(t+.5)*i)})}),b.Heatmap.style(e)},x.colorbar=function(e,t){var r=t[0].trace,n="cb"+r.uid;if(e._fullLayout._infolayer.selectAll("."+n).remove(),r.showscale===!1)return void b.Plots.autoMargin(e,n);var a=b.Colorbar(e,n);t[0].t.cb=a;var o=r.contours,i=r.line,l=o.size||1,s=Math.floor((o.end+l/10-o.start)/l)+1,c=b.Colorscale.getScale(r.colorscale),u="lines"===o.coloring?0:1,d=d3.scale.linear().interpolate(d3.interpolateRgb),f=c.map(function(e){return(e[0]*(s+u-1)-u/2)*l+o.start}),h=c.map(function(e){return e[1]});if("heatmap"===o.coloring){r.zauto&&r.autocontour===!1&&(r.zmin=o.start-l/2,r.zmax=r.zmin+s*l),a.filllevels({start:r.zmin,end:r.zmax,size:(r.zmax-r.zmin)/254}),f=c.map(function(e){return e[0]*(r.zmax-r.zmin)+r.zmin});var p=d3.extent([r.zmin,r.zmax,o.start,o.start+l*(s-1)]),g=p[r.zmin<r.zmax?0:1],m=p[r.zmin<r.zmax?1:0];g!==r.zmin&&(f.splice(0,0,g),h.splice(0,0,h[0])),m!==r.zmax&&(f.push(m),h.push(h[h.length-1]))}d.domain(f).range(h),a.fillcolor("fill"===o.coloring||"heatmap"===o.coloring?d:"").line({color:"lines"===o.coloring?d:i.color,width:o.showlines!==!1?i.width:0,dash:i.dash}).levels({start:o.start,end:o.end,size:l}).options(r.colorbar)()},x.hoverPoints=function(e,t,r,n){return b.Heatmap.hoverPoints(e,t,r,n,!0)}},{"./plotly":48}],19:[function(e,t){"use strict";function r(e,t,r,n){var a=e[0]-t[0],o=e[1]-t[1],i=r[0]-t[0],l=r[1]-t[1],s=Math.pow(a*a+o*o,d/2),c=Math.pow(i*i+l*l,d/2),u=(c*c*a-s*s*i)*n,f=(c*c*o-s*s*l)*n,h=3*c*(s+c),p=3*s*(s+c);return[[d3.round(t[0]+(h&&u/h),2),d3.round(t[1]+(h&&f/h),2)],[d3.round(t[0]-(p&&u/p),2),d3.round(t[1]-(p&&f/p),2)]]}var n=t.exports={},a=e("./plotly"),o=e("./isnumeric");n.font=function(e,t,r,n){t&&t.family&&(n=t.color,r=t.size,t=t.family),t&&e.style("font-family",t),r+1&&e.style("font-size",r+"px"),n&&e.call(a.Color.fill,n)},n.setPosition=function(e,t,r){e.attr("x",t).attr("y",r)},n.setSize=function(e,t,r){e.attr("width",t).attr("height",r)},n.setRect=function(e,t,r,a,o){e.call(n.setPosition,t,r).call(n.setSize,a,o)},n.translatePoints=function(e,t,r){e.each(function(e){var n=e.xp||t.c2p(e.x),a=e.yp||r.c2p(e.y),i=d3.select(this);o(n)&&o(a)?"text"===this.nodeName?i.attr("x",n).attr("y",a):i.attr("transform","translate("+n+","+a+")"):i.remove()})},n.getPx=function(e,t){return Number(e.style(t).replace(/px$/,""))},n.crispRound=function(e,t,r){return t&&o(t)?e._context.staticPlot?t:1>t?1:Math.round(t):r||0},n.lineGroupStyle=function(e,t,r,o){e.style("fill","none").each(function(e){var i=(((e||[])[0]||{}).trace||{}).line||{},l=t||i.width||0,s=o||i.dash||"";d3.select(this).call(a.Color.stroke,r||i.color).call(n.dashLine,s,l)})},n.dashLine=function(e,t,r){var n=Math.max(r,3);"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e.style({"stroke-dasharray":t,"stroke-width":r+"px"})
},n.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(t){var r=d3.select(this);try{r.call(a.Color.fill,t[0].trace.fillcolor)}catch(t){console.log(t,e),r.remove()}})};var i={circle:{n:0,f:function(e){var t=d3.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=d3.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=d3.round(.4*e,2),r=d3.round(1.2*e,2);return"M"+r+","+t+"H"+t+"V"+r+"H-"+t+"V"+t+"H-"+r+"V-"+t+"H-"+t+"V-"+r+"H"+t+"V-"+t+"H"+r+"Z"}},x:{n:4,f:function(e){var t=d3.round(.8*e/Math.sqrt(2),2),r="l"+t+","+t,n="l"+t+",-"+t,a="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+r+n+a+n+a+o+a+o+r+o+r+"Z"}},"triangle-up":{n:5,f:function(e){var t=d3.round(2*e/Math.sqrt(3),2),r=d3.round(e/2,2),n=d3.round(e,2);return"M-"+t+","+r+"H"+t+"L0,-"+n+"Z"}},"triangle-down":{n:6,f:function(e){var t=d3.round(2*e/Math.sqrt(3),2),r=d3.round(e/2,2),n=d3.round(e,2);return"M-"+t+",-"+r+"H"+t+"L0,"+n+"Z"}},"triangle-left":{n:7,f:function(e){var t=d3.round(2*e/Math.sqrt(3),2),r=d3.round(e/2,2),n=d3.round(e,2);return"M"+r+",-"+t+"V"+t+"L-"+n+",0Z"}},"triangle-right":{n:8,f:function(e){var t=d3.round(2*e/Math.sqrt(3),2),r=d3.round(e/2,2),n=d3.round(e,2);return"M-"+r+",-"+t+"V"+t+"L"+n+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=d3.round(.6*e,2),r=d3.round(1.2*e,2);return"M-"+r+",-"+t+"H"+t+"V"+r+"Z"}},"triangle-se":{n:10,f:function(e){var t=d3.round(.6*e,2),r=d3.round(1.2*e,2);return"M"+t+",-"+r+"V"+t+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(e){var t=d3.round(.6*e,2),r=d3.round(1.2*e,2);return"M"+r+","+t+"H-"+t+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(e){var t=d3.round(.6*e,2),r=d3.round(1.2*e,2);return"M-"+t+","+r+"V-"+t+"H"+r+"Z"}},pentagon:{n:13,f:function(e){var t=d3.round(.951*e,2),r=d3.round(.588*e,2),n=d3.round(-e,2),a=d3.round(e*-.309,2),o=d3.round(.809*e,2);return"M"+t+","+a+"L"+r+","+o+"H-"+r+"L-"+t+","+a+"L0,"+n+"Z"}},hexagon:{n:14,f:function(e){var t=d3.round(e,2),r=d3.round(e/2,2),n=d3.round(e*Math.sqrt(3)/2,2);return"M"+n+",-"+r+"V"+r+"L0,"+t+"L-"+n+","+r+"V-"+r+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=d3.round(e,2),r=d3.round(e/2,2),n=d3.round(e*Math.sqrt(3)/2,2);return"M-"+r+","+n+"H"+r+"L"+t+",0L"+r+",-"+n+"H-"+r+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=d3.round(.924*e,2),r=d3.round(.383*e,2);return"M-"+r+",-"+t+"H"+r+"L"+t+",-"+r+"V"+r+"L"+r+","+t+"H-"+r+"L-"+t+","+r+"V-"+r+"Z"}},star:{n:17,f:function(e){var t=1.4*e,r=d3.round(.225*t,2),n=d3.round(.951*t,2),a=d3.round(.363*t,2),o=d3.round(.588*t,2),i=d3.round(-t,2),l=d3.round(t*-.309,2),s=d3.round(.118*t,2),c=d3.round(.809*t,2),u=d3.round(.382*t,2);return"M"+r+","+l+"H"+n+"L"+a+","+s+"L"+o+","+c+"L0,"+u+"L-"+o+","+c+"L-"+a+","+s+"L-"+n+","+l+"H-"+r+"L0,"+i+"Z"}},hexagram:{n:18,f:function(e){var t=d3.round(.66*e,2),r=d3.round(.38*e,2),n=d3.round(.76*e,2);return"M-"+n+",0l-"+r+",-"+t+"h"+n+"l"+r+",-"+t+"l"+r+","+t+"h"+n+"l-"+r+","+t+"l"+r+","+t+"h-"+n+"l-"+r+","+t+"l-"+r+",-"+t+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=d3.round(e*Math.sqrt(3)*.8,2),r=d3.round(.8*e,2),n=d3.round(1.6*e,2),a=d3.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M-"+t+","+r+o+t+","+r+o+"0,-"+n+o+"-"+t+","+r+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=d3.round(e*Math.sqrt(3)*.8,2),r=d3.round(.8*e,2),n=d3.round(1.6*e,2),a=d3.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M"+t+",-"+r+o+"-"+t+",-"+r+o+"0,"+n+o+t+",-"+r+"Z"}},"star-square":{n:21,f:function(e){var t=d3.round(1.1*e,2),r=d3.round(2*e,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+t+",-"+t+n+"-"+t+","+t+n+t+","+t+n+t+",-"+t+n+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=d3.round(1.4*e,2),r=d3.round(1.9*e,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+t+",0"+n+"0,"+t+n+t+",0"+n+"0,-"+t+n+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=d3.round(.7*e,2),r=d3.round(1.4*e,2);return"M0,"+r+"L"+t+",0L0,-"+r+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=d3.round(1.4*e,2),r=d3.round(.7*e,2);return"M0,"+r+"L"+t+",0L0,-"+r+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=d3.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=d3.round(e,2),r=d3.round(e/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=d3.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=d3.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=d3.round(1.3*e,2),r=d3.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=d3.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},asterisk:{n:35,f:function(e){var t=d3.round(1.2*e,2),r=d3.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0},hash:{n:36,f:function(e){var t=d3.round(e/2,2),r=d3.round(e,2);return"M"+t+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+t+"H-"+r+"m0,-"+r+"H"+r},needLine:!0},"y-up":{n:37,f:function(e){var t=d3.round(1.2*e,2),r=d3.round(1.6*e,2),n=d3.round(.8*e,2);return"M-"+t+","+n+"L0,0M"+t+","+n+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(e){var t=d3.round(1.2*e,2),r=d3.round(1.6*e,2),n=d3.round(.8*e,2);return"M-"+t+",-"+n+"L0,0M"+t+",-"+n+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(e){var t=d3.round(1.2*e,2),r=d3.round(1.6*e,2),n=d3.round(.8*e,2);return"M"+n+","+t+"L0,0M"+n+",-"+t+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(e){var t=d3.round(1.2*e,2),r=d3.round(1.6*e,2),n=d3.round(.8*e,2);return"M-"+n+","+t+"L0,0M-"+n+",-"+t+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(e){var t=d3.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(e){var t=d3.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(e){var t=d3.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(e){var t=d3.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0}};n.symbolNames=[],n.symbolFuncs=[],n.symbolNeedLines={},n.symbolNoDot={},n.symbolList=[],Object.keys(i).forEach(function(e){var t=i[e];n.symbolList=n.symbolList.concat([t.n,e,t.n+100,e+"-open"]),n.symbolNames[t.n]=e,n.symbolFuncs[t.n]=t.f,t.needLine&&(n.symbolNeedLines[t.n]=!0),t.noDot?n.symbolNoDot[t.n]=!0:n.symbolList=n.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"])});var l=n.symbolNames.length,s="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";n.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),e=n.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=l||e>=400?0:Math.floor(Math.max(e,0))},n.pointStyle=function(e,t){if(e.size()){var r=t.marker,o=r.line;if(a.Plots.traceIs(t,"symbols")){var i=a.Scatter.getBubbleSizeFn(t);e.attr("d",function(e){var o;o="various"===e.ms||"various"===r.size?3:a.Scatter.isBubble(t)?i(e.ms):(r.size||6)/2,e.mrc=o;var l=n.symbolNumber(e.mx||r.symbol)||0,c=l%100;return e.om=l%200>=100,n.symbolFuncs[c](o)+(l>=200?s:"")}).style("opacity",function(e){return(e.mo+1||r.opacity+1)-1})}var l=(t._input||{}).marker||{},c=n.tryColorscale(r,l,""),u=n.tryColorscale(r,l,"line.");e.each(function(e){var t,n,i;e.so?(i=o.outlierwidth,n=o.outliercolor,t=r.outliercolor):(i=(e.mlw+1||o.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,n="mlc"in e?e.mlcc=u(e.mlc):Array.isArray(o.color)?a.Color.defaultLine:o.color,t="mc"in e?e.mcc=c(e.mc):Array.isArray(r.color)?a.Color.defaultLine:r.color||"rgba(0,0,0,0)");var l=d3.select(this);e.om?l.call(a.Color.stroke,t).style({"stroke-width":(i||1)+"px",fill:"none"}):(l.style("stroke-width",i+"px").call(a.Color.fill,t),i&&l.call(a.Color.stroke,n))})}},n.tryColorscale=function(e,t,r){var n=a.Lib.nestedProperty(e,r+"color").get(),i=a.Lib.nestedProperty(e,r+"colorscale").get(),l=a.Lib.nestedProperty(e,r+"cauto").get(),s=a.Lib.nestedProperty(e,r+"cmin"),c=a.Lib.nestedProperty(e,r+"cmax"),u=s.get(),d=c.get();return i&&Array.isArray(n)?(!l&&o(u)&&o(d)||(u=1/0,d=-1/0,n.forEach(function(e){o(e)&&(u>e&&(u=+e),e>d&&(d=+e))}),u>d&&(u=0,d=1),s.set(u),c.set(d),a.Lib.nestedProperty(t,r+"cmin").set(u),a.Lib.nestedProperty(t,r+"cmax").set(d)),a.Colorscale.makeScaleFunction(i,u,d)):a.Lib.identity};var c={start:1,end:-1,middle:0,bottom:1,top:-1},u=1.3;n.textPointStyle=function(e,t){e.each(function(e){var r=d3.select(this);if(!e.tx)return void r.remove();var i=e.tp||t.textposition,l=-1!==i.indexOf("top")?"top":-1!==i.indexOf("bottom")?"bottom":"middle",s=-1!==i.indexOf("left")?"end":-1!==i.indexOf("right")?"start":"middle",d=e.ts||t.textfont.size,f=e.mrc?e.mrc/.8+1:0;d=o(d)&&d>0?d:0,r.call(n.font,e.tf||t.textfont.family,d,e.tc||t.textfont.color).attr("text-anchor",s).text(e.tx).call(a.util.convertToTspans);var h=d3.select(this.parentNode),p=r.selectAll("tspan.line"),g=((p[0].length||1)-1)*u+1,m=c[s]*f,y=.75*d+c[l]*f+(c[l]-1)*g*d/2;h.attr("transform","translate("+m+","+y+")"),g>1&&p.attr({x:r.attr("x"),y:r.attr("y")})})};var d=.5;n.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,a="M"+e[0],o=[];for(n=1;n<e.length-1;n++)o.push(r(e[n-1],e[n],e[n+1],t));for(a+="Q"+o[0][0]+" "+e[1],n=2;n<e.length-1;n++)a+="C"+o[n-2][1]+" "+o[n-1][0]+" "+e[n];return a+="Q"+o[e.length-3][1]+" "+e[e.length-1]},n.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,a="M"+e[0],o=e.length-1,i=[r(e[o],e[0],e[1],t)];for(n=1;o>n;n++)i.push(r(e[n-1],e[n],e[n+1],t));for(i.push(r(e[o-1],e[o],e[0],t)),n=1;o>=n;n++)a+="C"+i[n-1][1]+" "+i[n][0]+" "+e[n];return a+="C"+i[o][1]+" "+i[0][0]+" "+e[0]+"Z"};var f={hv:function(e,t){return"H"+d3.round(t[0],2)+"V"+d3.round(t[1],2)},vh:function(e,t){return"V"+d3.round(t[1],2)+"H"+d3.round(t[0],2)},hvh:function(e,t){return"H"+d3.round((e[0]+t[0])/2,2)+"V"+d3.round(t[1],2)+"H"+d3.round(t[0],2)},vhv:function(e,t){return"V"+d3.round((e[1]+t[1])/2,2)+"H"+d3.round(t[0],2)+"V"+d3.round(t[1],2)}},h=function(e,t){return"L"+d3.round(t[0],2)+","+d3.round(t[1],2)};n.steps=function(e){var t=f[e]||h;return function(e){for(var r="M"+d3.round(e[0][0],2)+","+d3.round(e[0][1],2),n=1;n<e.length;n++)r+=t(e[n-1],e[n]);return r}},n.makeTester=function(e){var t=d3.select("body").selectAll("#js-plotly-tester").data([0]);t.enter().append("svg").attr({id:"js-plotly-tester",xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink"}).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px"});var r=t.selectAll(".js-reference-point").data([0]);r.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),t.node()._cache||(t.node()._cache={}),e._tester=t,e._testref=r};var p=[],g=1e4;n.bBox=function(e){var t=e.attributes["data-bb"];if(t&&t.value)return $.extend({},p[t.value]);var r=d3.select("#js-plotly-tester"),n=r.node(),o=e.cloneNode(!0);n.appendChild(o),d3.select(o).attr({x:0,y:0,transform:""});var i=o.getBoundingClientRect(),l=r.select(".js-reference-point").node().getBoundingClientRect();n.removeChild(o);var s={height:i.height,width:i.width,left:i.left-l.left,top:i.top-l.top,right:i.right-l.left,bottom:i.bottom-l.top};return p.length>=g&&(d3.selectAll("[data-bb]").attr("data-bb",null),p=[]),e.setAttribute("data-bb",p.length),p.push(s),a.Lib.extendFlat(s)},n.setClipUrl=function(e,t){if(!t)return void e.attr("clip-path",null);var r="#"+t,n=d3.select("base");n.size()&&n.attr("href")&&(r=window.location.href+r),e.attr("clip-path","url("+r+")")}},{"./isnumeric":41,"./plotly":48}],20:[function(e,t){"use strict";function r(e,t,r){return"percent"===e?Math.abs(t*r/100):"constant"===e?Math.abs(r):"sqrt"===e?Math.sqrt(Math.abs(t)):(console.log("unrecognized errorbar type",e,r,t),0)}function n(e,t,r){var n={x:t.c2p(e.x),y:r.c2p(e.y)};return void 0!==e.yh&&(n.yh=r.c2p(e.yh),n.ys=r.c2p(e.ys),i(n.ys)||(n.noYS=!0,n.ys=r.c2p(e.ys,!0))),void 0!==e.xh&&(n.xh=t.c2p(e.xh),n.xs=t.c2p(e.xs),i(n.xs)||(n.noXS=!0,n.xs=t.c2p(e.xs,!0))),n}var a=t.exports={},o=e("./plotly"),i=e("./isnumeric");a.attributes={visible:{type:"boolean"},type:{type:"enumerated",values:["percent","constant","sqrt","data"]},symmetric:{type:"boolean"},array:{type:"data_array"},arrayminus:{type:"data_array"},value:{type:"number",min:0,dflt:10},valueminus:{type:"number",min:0,dflt:10},traceref:{type:"integer",min:0,dflt:0},tracerefminus:{type:"integer",min:0,dflt:0},copy_ystyle:{type:"boolean"},copy_zstyle:{type:"boolean"},color:{type:"color"},thickness:{type:"number",min:0,dflt:2},width:{type:"number",min:0}},a.supplyDefaults=function(e,t,r,n){function l(e,t){return o.Lib.coerce(u,c,a.attributes,e,t)}var s="error_"+n.axis,c=t[s]={},u=e[s]||{},d=l("visible","array"in u||"value"in u);if(d){var f=l("type","array"in u?"data":"percent"),h=!0;if("sqrt"!==f&&(h=l("symmetric",!(("data"===f?"arrayminus":"valueminus")in u))),"data"===f){var p=l("array");if(p||(c.array=[]),l("traceref"),!h){var g=l("arrayminus");g||(c.arrayminus=[]),l("tracerefminus")}}else("percent"===f||"constant"===f)&&(l("value"),h||l("valueminus"));var m="copy_"+n.inherit+"style";if(n.inherit){var y=t["error_"+n.inherit];(y||{}).visible&&l(m,!(u.color||i(u.thickness)||i(u.width)))}n.inherit&&c[m]||(l("color",r),l("thickness"),l("width",o.Plots.traceIs(t,"gl3d")?0:4))}},a.pushRef2GDC=function(e,t,r,n){function a(t){var r=e.data[t][s];r["tracerefminus"===c?"arrayminus":"array"]=d}var o,i=!1,l=r.split("."),s=l[0],c=l[1],u=s.charAt(s.length-1);"type"===c?("various"===t&&(i=!0,t=0),o=Number(e.calcdata[Number(t)][0].trace["error_"+u].traceref)||0):("traceref"===c||"tracerefminus"===c)&&("various"===t&&(i=!0),o=Number(n)||0);var d=e.data[o][u].map(Number);if(i)for(var f=0;f<e.data.length;f++)a(f);else a(Number(t))},a.calc=function(e){(e.calcdata||[]).forEach(function(t){var n=t[0].trace;if(o.Plots.traceIs(n,"errorBarsOK")){var a=n.error_x||{},l=n.error_y||{},s=o.Axes.getFromId(e,n.xaxis),c=o.Axes.getFromId(e,n.yaxis),u=a.visible&&-1!==["linear","log"].indexOf(s.type),d=l.visible&&-1!==["linear","log"].indexOf(c.type);if(u||d){var f=[],h=[];t.forEach(function(e,t){try{i(c.c2l(e.y))&&i(s.c2l(e.x))&&[{letter:"x",obj:a,visible:u,vals:f},{letter:"y",obj:l,visible:d,vals:h}].forEach(function(n){if(n.visible){var a,o,l=e[n.letter],s=n.obj;if("data"===n.obj.type?(a=Number(s.array[t]),o=!s.symmetric&&"arrayminus"in s?Number(s.arrayminus[t]):a):(a=r(s.type,l,s.value),o=!s.symmetric&&"valueminus"in s?r(s.type,l,s.valueminus):a),i(a)&&i(o)){var c=e[n.letter+"h"]=l+a,u=e[n.letter+"s"]=l-o;n.vals.push(c,u)}}})}catch(e){console.log(e)}}),o.Axes.expand(c,h,{padded:!0}),o.Axes.expand(s,f,{padded:!0})}}})},a.plot=function(e,t,r){var a=t.x(),l=t.y();t.plot.select(".errorlayer").selectAll("g.errorbars").remove();var s;t.plot.select(".errorlayer").selectAll("g.errorbars").data(r).enter().append("g").attr("class","errorbars").each(function(e){var t=e[0].trace,r=t.error_x,c=t.error_y,u=o.Scatter.hasMarkers(t)&&t.marker.maxdisplayed>0;(c.visible||r.visible)&&d3.select(this).selectAll("g").data(o.Lib.identity).enter().append("g").each(function(e){s=n(e,a,l);var t,o=d3.select(this);if(!u||e.vis){if(c.visible&&i(s.x)&&i(s.yh)&&i(s.ys)){var d=c.width;t="M"+(s.x-d)+","+s.yh+"h"+2*d+"m-"+d+",0V"+s.ys,s.noYS||(t+="m-"+d+",0h"+2*d),o.append("path").classed("yerror",!0).attr("d",t)}if(r.visible&&i(s.y)&&i(s.xh)&&i(s.xs)){var f=(r.copy_ystyle?c:r).width;t="M"+s.xh+","+(s.y-f)+"v"+2*f+"m0,-"+f+"H"+s.xs,s.noXS||(t+="m0,-"+f+"v"+2*f),o.append("path").classed("xerror",!0).attr("d",t)}}})})},a.style=function(e){d3.select(e).selectAll("g.errorbars").each(function(e){var t=d3.select(this),r=e[0].trace,n=r.error_y||{},a=r.error_x||{};t.selectAll("g path.yerror").style("stroke-width",n.thickness+"px").call(o.Color.stroke,n.color),a.copy_ystyle&&(a=n),t.selectAll("g path.xerror").style("stroke-width",a.thickness+"px").call(o.Color.stroke,a.color)})},a.hoverInfo=function(e,t,r){t.error_y.visible&&(r.yerr=e.yh-e.y,t.error_y.symmetric||(r.yerrneg=e.y-e.ys)),t.error_x.visible&&(r.xerr=e.xh-e.x,t.error_x.symmetric||(r.xerrneg=e.x-e.xs))}},{"./isnumeric":41,"./plotly":48}],21:[function(e,t){"use strict";var r=e("../../plotly"),n=t.exports={};r.Plots.register(n,"choropleth",["geo","noOpacity"]);var a=r.ScatterGeo.attributes,o=a.marker.line,i=r.Colorbar.traceColorbarAttributes;n.attributes={locations:{type:"data_array"},locationmode:a.locationmode,z:{type:"data_array"},text:{type:"data_array"},marker:{line:{color:o.color,width:o.width}},zauto:i.zauto,zmin:i.zmin,zmax:i.zmax,colorscale:i.colorscale,autocolorscale:{type:"boolean",dflt:!0},reversescale:i.reversescale,showscale:i.showscale,_nestedModules:{colorbar:"Colorbar"}},n.supplyDefaults=function(e,t,a,o){function i(a,o){return r.Lib.coerce(e,t,n.attributes,a,o)}var l,s,c;return l=i("locations"),l&&(s=l.length),l&&s?(c=i("z"),Array.isArray(c)?(c.length>s&&(t.z=c.slice(0,s)),i("locationmode"),i("text"),i("marker.line.color"),i("marker.line.width"),void r.Colorscale.handleDefaults(e,t,o,i,{prefix:"",cLetter:"z"})):void(t.visible=!1)):void(t.visible=!1)},n.colorbar=r.Colorbar.traceColorbar,n.calc=function(e,t){r.Colorscale.calc(t,t.z,"","z")}},{"../../plotly":48}],22:[function(e,t){"use strict";var r=e("../../plotly"),n=e("../lib/params"),a=t.exports={};a.layoutAttributes={range:[{type:"number"},{type:"number"}],showgrid:{type:"boolean",dflt:!1},tick0:{type:"number"},dtick:{type:"number"},gridcolor:{type:"color",dflt:r.Color.lightLine},gridwidth:{type:"number",min:0,dflt:1}},a.supplyLayoutDefaults=function(e,t){function o(e,t){return r.Lib.coerce(l,s,a.layoutAttributes,e,t)}function i(e){var r,a,o,i,l,s,c=t.scope;return"world"===c?(r=t.projection,a=r.type,o=r.rotation,l=n[e+"Span"],s=void 0!==l[a]?l[a]/2:l["*"]/2,i="lonaxis"===e?o.lon:o.lat,[i-s,i+s]):n.scopeDefaults[c][e+"Range"]}for(var l,s,c,u,d,f,h=n.axesNames,p=0;p<h.length;p++)c=h[p],l=e[c]||{},s={},u=i(c),d=o("range[0]",u[0]),o("range[1]",u[1]),r.Lib.noneOrAll(l.range,s.range,[0,1]),o("tick0",d),o("dtick","lonaxis"===c?30:10),f=o("showgrid"),f&&(o("gridcolor"),o("gridwidth")),t[c]=s,t[c]._fullRange=u}},{"../../plotly":48,"../lib/params":27}],23:[function(e,t){"use strict";var r=e("../../plotly"),n=e("../lib/params"),a=t.exports={};a.layoutAttributes={domain:{x:[{type:"number",min:0,max:1,dflt:0},{type:"number",min:0,max:1,dflt:1}],y:[{type:"number",min:0,max:1},{type:"number",min:0,max:1}]},resolution:{type:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{type:"enumerated",values:Object.keys(n.scopeDefaults),dflt:"world"},projection:{type:{type:"enumerated",values:Object.keys(n.projNames)},rotation:{lon:{type:"number"},lat:{type:"number"},roll:{type:"number"}},parallels:[{type:"number"},{type:"number"}],scale:{type:"number",min:0,max:10,dflt:1}},showcoastlines:{type:"boolean"},coastlinecolor:{type:"color",dflt:r.Color.defaultLine},coastlinewidth:{type:"number",min:0,dflt:1},showland:{type:"boolean",dflt:!1},landcolor:{type:"color",dflt:n.landColor},showocean:{type:"boolean",dflt:!1},oceancolor:{type:"color",dflt:n.waterColor},showlakes:{type:"boolean",dflt:!1},lakecolor:{type:"color",dflt:n.waterColor},showrivers:{type:"boolean",dflt:!1},rivercolor:{type:"color",dflt:n.waterColor},riverwidth:{type:"number",min:0,dflt:1},showcountries:{type:"boolean"},countrycolor:{type:"color",dflt:r.Color.defaultLine},countrywidth:{type:"number",min:0,dflt:1},showsubunits:{type:"boolean"},subunitcolor:{type:"color",dflt:r.Color.defaultLine},subunitwidth:{type:"number",min:0,dflt:1},showframe:{type:"boolean"},framecolor:{type:"color",dflt:r.Color.defaultLine},framewidth:{type:"number",min:0,dflt:1},bgcolor:{type:"color",dflt:r.Color.background},_nestedModules:{lonaxis:"GeoAxes",lataxis:"GeoAxes"}},a.supplyLayoutDefaults=function(e,t,n){function o(e,t){return r.Lib.coerce(l,s,a.layoutAttributes,e,t)}for(var i,l,s,c=r.Plots.getSubplotIdsInData(n,"geo"),u=c.length,d=0;u>d;d++)i=c[d],l=e[i]||{},s={},o("domain.x[0]"),o("domain.x[1]"),o("domain.y[0]",d/u),o("domain.y[1]",(d+1)/u),a.handleGeoDefaults(l,s,o),t[i]=s},a.handleGeoDefaults=function(e,t,a){var o,i,l,s,c,u,d,f,h,p;o=a("scope"),d="world"!==o,s=n.scopeDefaults[o],i=a("resolution"),l=a("projection.type",s.projType),f="albers usa"===l,h=-1!==l.indexOf("conic"),h&&(u=s.projParallels||[0,60],a("projection.parallels[0]",u[0]),a("projection.parallels[1]",u[1])),f?t.scope="usa":(c=s.projRotate||[0,0,0],a("projection.rotation.lon",c[0]),a("projection.rotation.lat",c[1]),a("projection.rotation.roll",c[2]),p=a("showcoastlines",!d),p&&(a("coastlinecolor"),a("coastlinewidth")),p=a("showocean"),p&&a("oceancolor")),a("projection.scale"),p=a("showland"),p&&a("landcolor"),p=a("showlakes"),p&&a("lakecolor"),p=a("showrivers"),p&&(a("rivercolor"),a("riverwidth")),p=a("showcountries",d),p&&(a("countrycolor"),a("countrywidth")),("usa"===o||"north america"===o&&50===i)&&(a("showsubunits",!0),a("subunitcolor"),a("subunitwidth")),d||(p=a("showframe",!0),p&&(a("framecolor"),a("framewidth"))),a("bgcolor"),r.GeoAxes.supplyLayoutDefaults(e,t),t._isHighRes=50===i,t._clipAngle=n.lonaxisSpan[l]/2,t._isAlbersUsa=f,t._isConic=h,t._isScoped=d;var g=t.projection.rotation||{};t.projection._rotate=[-g.lon||0,-g.lat||0,g.roll||0]}},{"../../plotly":48,"../lib/params":27}],24:[function(e,t){"use strict";var r=e("../../plotly"),n=t.exports={};r.Plots.register(n,"scattergeo",["geo","symbols","markerColorscale","showLegend"]);var a=r.Scatter.attributes,o=a.marker,i=a.line,l=o.line,s=r.Lib.extendFlat;n.attributes={lon:{type:"data_array"},lat:{type:"data_array"},locations:{type:"data_array"},locationmode:{type:"enumerated",values:["ISO-3","USA-states","country names"],dflt:"ISO-3"},mode:s(a.mode,{dflt:"markers"}),text:a.text,line:{color:i.color,width:i.width,dash:i.dash},marker:{symbol:o.symbol,opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,color:o.color,colorscale:o.colorscale,cauto:o.cauto,cmax:o.cmax,cmin:o.cmin,autocolorscale:o.autocolorscale,reversescale:o.reversescale,showscale:o.showscale,line:{color:l.color,width:l.width,colorscale:l.colorscale,cauto:l.cauto,cmax:l.cmax,cmin:l.cmin,autocolorscale:l.autocolorscale,reversescale:l.reversescale}},textfont:a.textfont,textposition:a.textposition,_nestedModules:{"marker.colorbar":"Colorbar"}},n.supplyDefaults=function(e,t,a,o){function i(a,o){return r.Lib.coerce(e,t,n.attributes,a,o)}var l=r.Scatter,s=n.handleLonLatLocDefaults(e,t,i);return s?(i("text"),i("mode"),l.hasLines(t)&&l.lineDefaults(e,t,a,i),l.hasMarkers(t)&&l.markerDefaults(e,t,a,o,i),void(l.hasText(t)&&l.textDefaults(e,t,o,i))):void(t.visible=!1)},n.handleLonLatLocDefaults=function(e,t,r){var n,a,o=0,i=r("locations");return i?(r("locationmode"),o=i.length):(n=r("lon")||[],a=r("lat")||[],o=Math.min(n.length,a.length),o<n.length&&(t.lon=n.slice(0,o)),o<a.length&&(t.lat=a.slice(0,o)),o)},n.colorbar=r.Scatter.colorbar,n.calc=function(e,t){r.Scatter.calcMarkerColorscales(t)}},{"../../plotly":48}],25:[function(e,t){"use strict";function r(e,t){this.id=e.id,this.container=e.container,c(),this.showHover="closest"===t.hovermode,this.hoverContainer=null,this.topojsonName=null,this.topojson=null,this.projectionType=null,this.projection=null,this.clipAngle=null,this.setScale=null,this.path=null,this.zoom=null,this.zoomReset=null,this.makeFramework()}function n(e,t,r){return d3.geo.graticule().extent([[e[0],t[0]],[e[1],t[1]]]).step(r)}function a(e,t,r){var n=s.layerNameToAdjective[t];e.select("."+t).selectAll("path").attr("stroke","none").call(l.Color.fill,r[n+"color"])}function o(e,t,r){var n=s.layerNameToAdjective[t];e.select("."+t).selectAll("path").attr("fill","none").call(l.Color.stroke,r[n+"color"]).call(l.Drawing.dashLine,"",r[n+"width"])}function i(e,t,r){e.select("."+t+"graticule").selectAll("path").attr("fill","none").call(l.Color.stroke,r[t].gridcolor).call(l.Drawing.dashLine,"",r[t].gridwidth)}var l=e("../plotly"),s=e("./lib/params"),c=e("./lib/projections"),u=e("./lib/set-scale"),d=e("./lib/zoom"),f=e("./lib/zoom-reset"),h=e("./plot/scattergeo"),p=e("./plot/choropleth"),g=e("./lib/topojson-utils"),m=e("topojson").feature;t.exports=r;var y=r.prototype;y.plot=function(e,t){var r,n,a=this,o=t[a.id],i=t._size;a.projection=null,a.setScale=u(o,i),a.makeProjection(o),a.makePath(),a.adjustLayout(o,i),a.zoom=d(a,o),a.zoomReset=f(a,o),a.framework.call(a.zoom).on("dblclick",a.zoomReset),r=g.getTopojsonName(o),null===a.topojson||r!==a.topojsonName?(a.topojsonName=r,void 0!==PlotlyGeoAssets.topojsons[a.topojsonName]?(a.topojson=PlotlyGeoAssets.topojsons[a.topojsonName],a.onceTopojsonIsLoaded(e,o)):(n=g.getTopojsonPath(a.topojsonName),d3.json(n,function(t,r){a.topojson=r,PlotlyGeoAssets.topojsons[a.topojsonName]=r,a.onceTopojsonIsLoaded(e,o)}))):a.onceTopojsonIsLoaded(e,o)},y.onceTopojsonIsLoaded=function(e,t){var r,n,a=[],o=[];this.drawLayout(t);for(var i=0;i<e.length;i++)r=e[i],n=r.type,"scattergeo"===r.type?a.push(r):"choropleth"===r.type&&o.push(r);a.length>0&&h.plot(this,a),o.length>0&&p.plot(this,o,t),this.render()},y.makeProjection=function(e){var t,r=e.projection,n=r.type,a=null===this.projection||n!==this.projectionType;a?(this.projectionType=n,t=this.projection=d3.geo[s.projNames[n]]()):t=this.projection,t.translate(r._translate0).precision(s.precision),e._isAlbersUsa||t.rotate(r._rotate).center(r._center),e._clipAngle?(this.clipAngle=e._clipAngle,t.clipAngle(e._clipAngle-s.clipPad)):this.clipAngle=null,r.parallels&&t.parallels(r.parallels),a&&this.setScale(t),t.translate(r._translate).scale(r._scale)},y.makePath=function(){this.path=d3.geo.path().projection(this.projection)},y.makeFramework=function(){var e=this.geoDiv=d3.select(this.container).append("div");e.attr("id",this.id).style("position","absolute");var t=this.hoverContainer=e.append("svg");t.attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink"}).style({position:"absolute","z-index":20,"pointer-events":"none"});var r=this.framework=e.append("svg");r.attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",position:"absolute",preserveAspectRatio:"none"}),r.append("g").attr("class","bglayer").append("rect"),r.append("g").attr("class","baselayer"),r.append("g").attr("class","choroplethlayer"),r.append("g").attr("class","baselayeroverchoropleth"),r.append("g").attr("class","scattergeolayer"),r.on("dblclick.zoom",null)},y.adjustLayout=function(e,t){var r=e.domain;this.geoDiv.style({left:t.l+t.w*r.x[0]+e._marginX+"px",top:t.t+t.h*(1-r.y[1])+e._marginY+"px",width:e._width+"px",height:e._height+"px"}),this.hoverContainer.attr({width:e._width,height:e._height}),this.framework.attr({width:e._width,height:e._height}),this.framework.select(".bglayer").select("rect").attr({width:e._width,height:e._height}).style({fill:e.bgcolor,"stroke-width":0})},y.drawTopo=function(e,t,r){if(r["show"+t]===!0){var n=this.topojson,a="frame"===t?s.sphereSVG:m(n,n.objects[t]);e.append("g").datum(a).attr("class",t).append("path").attr("class","basepath")}},y.drawGraticule=function(e,t,r){var a=r[t];if(a.showgrid===!0){var o=s.scopeDefaults[r.scope],i=o.lonaxisRange,l=o.lataxisRange,c="lonaxis"===t?[a.dtick]:[0,a.dtick],u=n(i,l,c);e.append("g").datum(u).attr("class",t+"graticule").append("path").attr("class","graticulepath")}},y.drawLayout=function(e){var t,r=this.framework.select("g.baselayer"),n=s.baseLayers,a=s.axesNames;r.selectAll("*").remove();for(var o=0;o<n.length;o++)t=n[o],-1!==a.indexOf(t)?this.drawGraticule(r,t,e):this.drawTopo(r,t,e);this.styleLayout(e)},y.styleLayer=function(e,t,r){var n=s.fillLayers,i=s.lineLayers;-1!==n.indexOf(t)?a(e,t,r):-1!==i.indexOf(t)&&o(e,t,r)},y.styleLayout=function(e){for(var t,r=this.framework.select("g.baselayer"),n=s.baseLayers,a=s.axesNames,o=0;o<n.length;o++)t=n[o],-1!==a.indexOf(t)?i(r,t,e):this.styleLayer(r,t,e)},y.render=function(){function e(e){var t=o([e.lon,e.lat]);return t?"translate("+t[0]+","+t[1]+")":null}function t(e){var t=o.rotate(),r=d3.geo.distance([e.lon,e.lat],[-t[0],-t[1]]),n=l*Math.PI/180;return r>n?"0":"1.0"}var r=this.framework,n=r.select("g.choroplethlayer"),a=r.select("g.scattergeolayer"),o=this.projection,i=this.path,l=this.clipAngle;r.selectAll("path.basepath").attr("d",i),r.selectAll("path.graticulepath").attr("d",i),n.selectAll("path.choroplethlocation").attr("d",i),n.selectAll("path.basepath").attr("d",i),a.selectAll("path.js-line").attr("d",i),null!==l?(a.selectAll("path.point").style("opacity",t).attr("transform",e),a.selectAll("text").style("opacity",t).attr("transform",e)):(a.selectAll("path.point").attr("transform",e),a.selectAll("text").attr("transform",e))}},{"../plotly":48,"./lib/params":27,"./lib/projections":28,"./lib/set-scale":29,"./lib/topojson-utils":30,"./lib/zoom":32,"./lib/zoom-reset":31,"./plot/choropleth":33,"./plot/scattergeo":34,topojson:9}],26:[function(e,t){"use strict";function r(e){for(var t,r,n=0;n<o.length;n++)if(t=o[n],r=new RegExp(t.regex),r.test(e.toLowerCase()))return t.iso3;console.warn("unrecognized country name "+e)}var n=t.exports={},a=e("../../plotly"),o=e("../raw/country-name_to_iso3.json"),i={"ISO-3":a.Lib.identity,"USA-states":a.Lib.identity,"country names":r};n.locationToId=function(e,t){var r=i[e];return r(t)}},{"../../plotly":48,"../raw/country-name_to_iso3.json":35}],27:[function(e,t){"use strict";var r=t.exports={};r.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa"},r.axesNames=["lonaxis","lataxis"],r.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},r.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},r.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,80],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},r.clipPad=.001,r.precision=.1,r.landColor="#F0DC82",r.waterColor="#3399FF",r.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},r.sphereSVG={type:"Sphere"},r.fillLayers=["ocean","land","lakes"],r.lineLayers=["subunits","countries","coastlines","rivers","frame"],r.baseLayers=["ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame"],r.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"},r.baseLayersOverChoropleth=["rivers","lakes"]
},{}],28:[function(e,t){function r(){function e(e,r){return{type:"Feature",id:e.id,properties:e.properties,geometry:t(e.geometry,r)}}function t(e,r){if(!e)return null;if("GeometryCollection"===e.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(e){return t(e,r)})};if(!k.hasOwnProperty(e.type))return null;var n=k[e.type];return d3.geo.stream(e,r(n)),n.result()}function r(){}function n(e){if((t=e.length)<4)return!1;for(var t,r=0,n=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++r<t;)n+=e[r-1][1]*e[r][0]-e[r-1][0]*e[r][1];return 0>=n}function a(e,t){for(var r=t[0],n=t[1],a=!1,o=0,i=e.length,l=i-1;i>o;l=o++){var s=e[o],c=s[0],u=s[1],d=e[l],f=d[0],h=d[1];u>n^h>n&&(f-c)*(n-u)/(h-u)+c>r&&(a=!a)}return a}function o(e){return e>1?z:-1>e?-z:Math.asin(e)}function i(e,t){var r=(2+z)*Math.sin(t);t/=2;for(var n=0,a=1/0;10>n&&Math.abs(a)>A;n++){var o=Math.cos(t);t-=a=(t+Math.sin(t)*(o+2)-r)/(2*o*(1+o))}return[2/Math.sqrt(L*(4+L))*e*(1+Math.cos(t)),2*Math.sqrt(L/(4+L))*Math.sin(t)]}function l(e,t){function r(r,n){var a=D(r/t,n);return a[0]*=e,a}return arguments.length<2&&(t=e),1===t?D:1/0===t?c:(r.invert=function(r,n){var a=D.invert(r/e,n);return a[0]*=t,a},r)}function s(){var e=2,t=O(l),r=t(e);return r.coefficient=function(r){return arguments.length?t(e=+r):e},r}function c(e,t){return[e*Math.cos(t)/Math.cos(t/=2),2*Math.sin(t)]}function u(e,t){return[3*e/(2*L)*Math.sqrt(L*L/3-t*t),t]}function d(e,t){return[e,1.25*Math.log(Math.tan(L/4+.4*t))]}function f(e){return function(t){var r,n=e*Math.sin(t),a=30;do t-=r=(t+Math.sin(t)-n)/(1+Math.cos(t));while(Math.abs(r)>A&&--a>0);return t/2}}function h(e,t,r){function n(r,n){return[e*r*Math.cos(n=a(n)),t*Math.sin(n)]}var a=f(r);return n.invert=function(n,a){var i=o(a/t);return[n/(e*Math.cos(i)),o((2*i+Math.sin(2*i))/r)]},n}function p(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}function g(e,t){var r,n=Math.min(18,36*Math.abs(t)/L),a=Math.floor(n),o=n-a,i=(r=E[a])[0],l=r[1],s=(r=E[++a])[0],c=r[1],u=(r=E[Math.min(19,++a)])[0],d=r[1];return[e*(s+o*(u-i)/2+o*o*(u-2*s+i)/2),(t>0?z:-z)*(c+o*(d-l)/2+o*o*(d-2*c+l)/2)]}function m(e,t){return[e*Math.cos(t),t]}d3.geo.project=function(e,r){var n=r.stream;if(!n)throw new Error("not yet supported");return(e&&y.hasOwnProperty(e.type)?y[e.type]:t)(e,n)};var y={Feature:e,FeatureCollection:function(t,r){return{type:"FeatureCollection",features:t.features.map(function(t){return e(t,r)})}}},v=[],x=[],b={point:function(e,t){v.push([e,t])},result:function(){var e=v.length?v.length<2?{type:"Point",coordinates:v[0]}:{type:"MultiPoint",coordinates:v}:null;return v=[],e}},w={lineStart:r,point:function(e,t){v.push([e,t])},lineEnd:function(){v.length&&(x.push(v),v=[])},result:function(){var e=x.length?x.length<2?{type:"LineString",coordinates:x[0]}:{type:"MultiLineString",coordinates:x}:null;return x=[],e}},_={polygonStart:r,lineStart:r,point:function(e,t){v.push([e,t])},lineEnd:function(){var e=v.length;if(e){do v.push(v[0].slice());while(++e<4);x.push(v),v=[]}},polygonEnd:r,result:function(){if(!x.length)return null;var e=[],t=[];return x.forEach(function(r){n(r)?e.push([r]):t.push(r)}),t.forEach(function(t){var r=t[0];e.some(function(e){return a(e[0],r)?(e.push(t),!0):void 0})||e.push([t])}),x=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}},k={Point:b,MultiPoint:b,LineString:w,MultiLineString:w,Polygon:_,MultiPolygon:_,Sphere:_},A=1e-6,M=A*A,L=Math.PI,z=L/2,C=(Math.sqrt(L),L/180),S=180/L,P=d3.geo.projection,O=d3.geo.projectionMutator;d3.geo.interrupt=function(e){function t(t,r){for(var n=0>r?-1:1,a=l[+(0>r)],o=0,i=a.length-1;i>o&&t>a[o][2][0];++o);var s=e(t-a[o][1][0],r);return s[0]+=e(a[o][1][0],n*r>n*a[o][0][1]?a[o][0][1]:r)[0],s}function r(){i=l.map(function(t){return t.map(function(t){var r,n=e(t[0][0],t[0][1])[0],a=e(t[2][0],t[2][1])[0],o=e(t[1][0],t[0][1])[1],i=e(t[1][0],t[1][1])[1];return o>i&&(r=o,o=i,i=r),[[n,o],[a,i]]})})}function n(){for(var e=1e-6,t=[],r=0,n=l[0].length;n>r;++r){var o=l[0][r],i=180*o[0][0]/L,s=180*o[0][1]/L,c=180*o[1][1]/L,u=180*o[2][0]/L,d=180*o[2][1]/L;t.push(a([[i+e,s+e],[i+e,c-e],[u-e,c-e],[u-e,d+e]],30))}for(var r=l[1].length-1;r>=0;--r){var o=l[1][r],i=180*o[0][0]/L,s=180*o[0][1]/L,c=180*o[1][1]/L,u=180*o[2][0]/L,d=180*o[2][1]/L;t.push(a([[u-e,d-e],[u-e,c+e],[i+e,c+e],[i+e,s-e]],30))}return{type:"Polygon",coordinates:[d3.merge(t)]}}function a(e,t){for(var r,n,a,o=-1,i=e.length,l=e[0],s=[];++o<i;){r=e[o],n=(r[0]-l[0])/t,a=(r[1]-l[1])/t;for(var c=0;t>c;++c)s.push([l[0]+c*n,l[1]+c*a]);l=r}return s.push(r),s}function o(e,t){return Math.abs(e[0]-t[0])<A&&Math.abs(e[1]-t[1])<A}var i,l=[[[[-L,0],[0,z],[L,0]]],[[[-L,0],[0,-z],[L,0]]]];e.invert&&(t.invert=function(r,n){for(var a=i[+(0>n)],s=l[+(0>n)],c=0,u=a.length;u>c;++c){var d=a[c];if(d[0][0]<=r&&r<d[1][0]&&d[0][1]<=n&&n<d[1][1]){var f=e.invert(r-e(s[c][1][0],0)[0],n);return f[0]+=s[c][1][0],o(t(f[0],f[1]),[r,n])?f:null}}});var s=d3.geo.projection(t),c=s.stream;return s.stream=function(e){var t=s.rotate(),r=c(e),a=(s.rotate([0,0]),c(e));return s.rotate(t),r.sphere=function(){d3.geo.stream(n(),a)},r},s.lobes=function(e){return arguments.length?(l=e.map(function(e){return e.map(function(e){return[[e[0][0]*L/180,e[0][1]*L/180],[e[1][0]*L/180,e[1][1]*L/180],[e[2][0]*L/180,e[2][1]*L/180]]})}),r(),s):l.map(function(e){return e.map(function(e){return[[180*e[0][0]/L,180*e[0][1]/L],[180*e[1][0]/L,180*e[1][1]/L],[180*e[2][0]/L,180*e[2][1]/L]]})})},s},i.invert=function(e,t){var r=.5*t*Math.sqrt((4+L)/L),n=o(r),a=Math.cos(n);return[e/(2/Math.sqrt(L*(4+L))*(1+a)),o((n+r*(a+2))/(2+z))]},(d3.geo.eckert4=function(){return P(i)}).raw=i;var D=d3.geo.azimuthalEqualArea.raw;c.invert=function(e,t){var r=2*o(t/2);return[e*Math.cos(r/2)/Math.cos(r),r]},(d3.geo.hammer=s).raw=l,u.invert=function(e,t){return[2/3*L*e/Math.sqrt(L*L/3-t*t),t]},(d3.geo.kavrayskiy7=function(){return P(u)}).raw=u,d.invert=function(e,t){return[e,2.5*Math.atan(Math.exp(.8*t))-.625*L]},(d3.geo.miller=function(){return P(d)}).raw=d;var T=(f(L),h(Math.SQRT2/z,Math.SQRT2,L));(d3.geo.mollweide=function(){return P(T)}).raw=T,p.invert=function(e,t){var r,n=t,a=25;do{var o=n*n,i=o*o;n-=r=(n*(1.007226+o*(.015085+i*(-.044475+.028874*o-.005916*i)))-t)/(1.007226+o*(.045255+i*(-0.311325+.259866*o-.005916*11*i)))}while(Math.abs(r)>A&&--a>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]},(d3.geo.naturalEarth=function(){return P(p)}).raw=p;var E=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];E.forEach(function(e){e[1]*=1.0144}),g.invert=function(e,t){var r=t/z,n=90*r,a=Math.min(18,Math.abs(n/5)),o=Math.max(0,Math.floor(a));do{var i=E[o][1],l=E[o+1][1],s=E[Math.min(19,o+2)][1],c=s-i,u=s-2*l+i,d=2*(Math.abs(r)-l)/c,f=u/c,h=d*(1-f*d*(1-2*f*d));if(h>=0||1===o){n=(t>=0?5:-5)*(h+a);var p,g=50;do a=Math.min(18,Math.abs(n)/5),o=Math.floor(a),h=a-o,i=E[o][1],l=E[o+1][1],s=E[Math.min(19,o+2)][1],n-=(p=(t>=0?z:-z)*(l+h*(s-i)/2+h*h*(s-2*l+i)/2)-t)*S;while(Math.abs(p)>M&&--g>0);break}}while(--o>=0);var m=E[o][0],y=E[o+1][0],v=E[Math.min(19,o+2)][0];return[e/(y+h*(v-m)/2+h*h*(v-2*y+m)/2),n*C]},(d3.geo.robinson=function(){return P(g)}).raw=g,m.invert=function(e,t){return[e/Math.cos(t),t]},(d3.geo.sinusoidal=function(){return P(m)}).raw=m}t.exports=r},{}],29:[function(e,t){"use strict";function r(e,t){var r=e.projection,i=e.lonaxis,l=e.lataxis,s=e.domain,c=e.framewidth||0,u=t.w*(s.x[1]-s.x[0]),d=t.h*(s.y[1]-s.y[0]),f=i.range[0]+o,h=i.range[1]-o,p=l.range[0]+o,g=l.range[1]-o,m=i._fullRange[0]+o,y=i._fullRange[1]-o,v=l._fullRange[0]+o,x=l._fullRange[1]-o;r._translate0=[t.l+u/2,t.t+d/2];var b=h-f,w=g-p,_=[f+b/2,p+w/2],k=r._rotate;r._center=[_[0]+k[0],_[1]+k[1]];var A=function(t){function o(e){return Math.min(w*u/(e[1][0]-e[0][0]),w*d/(e[1][1]-e[0][1]))}var i,l,s,b,w=t.scale(),_=r._translate0,k=n(f,p,h,g),A=n(m,v,y,x);s=a(t,k),i=o(s),b=a(t,A),r._fullScale=o(b),t.scale(i),s=a(t,k),l=[_[0]-s[0][0]+c,_[1]-s[0][1]+c],r._translate=l,t.translate(l),s=a(t,k),e._isAlbersUsa||t.clipExtent(s),i=r.scale*i,r._scale=i,e._width=Math.round(s[1][0])+c,e._height=Math.round(s[1][1])+c,e._marginX=(u-Math.round(s[1][0]))/2,e._marginY=(d-Math.round(s[1][1]))/2};return A}function n(e,t,r,n){var a=(r-e)/4;return{type:"Polygon",coordinates:[[[e,t],[e,n],[e+a,n],[e+2*a,n],[e+3*a,n],[r,n],[r,t],[r-a,t],[r-2*a,t],[r-3*a,t],[e,t]]]}}function a(e,t){return d3.geo.path().projection(e).bounds(t)}var o=e("./params").clipPad;t.exports=r},{"./params":27}],30:[function(e,t){"use strict";var r=t.exports={},n=e("./params").locationmodeToLayer,a=e("topojson").feature;r.getTopojsonName=function(e){return[e.scope.replace(/ /g,"-"),"_",e.resolution.toString(),"m"].join("")},r.getTopojsonPath=function(e){var t=window.PLOTLYENV&&window.PLOTLYENV.TOPOJSON_URL||"./topojson/";return t+e+".json"},r.extractTopojson=function(e,t){var r=n[e.locationmode],o=t.objects[r];return{features:a(t,o).features,ids:o.properties.ids}}},{"./params":27,topojson:9}],31:[function(e,t){"use strict";function r(e,t){var r=e.projection,a=e.zoom,o=function(){e.makeProjection(t),e.makePath(),a.scale(r.scale()),a.translate(r.translate()),n(e.hoverContainer),e.render()};return o}var n=e("../../plotly").Fx.loneUnhover;t.exports=r},{"../../plotly":48}],32:[function(e,t){"use strict";function r(e,t){var r;return(r=t._isScoped?a:t._clipAngle?i:o)(e,t.projection)}function n(e,t){var r=t._fullScale;return d3.behavior.zoom().translate(e.translate()).scale(e.scale()).scaleExtent([.5*r,100*r])}function a(e,t){function r(){d3.select(this).style(_)}function a(){i.scale(d3.event.scale).translate(d3.event.translate),e.render()}function o(){d3.select(this).style(k)}var i=e.projection,l=n(i,t);return l.on("zoomstart",r).on("zoom",a).on("zoomend",o),l}function o(e,t){function r(e){return m.invert(e)}function a(e){var t=m(r(e));return Math.abs(t[0]-e[0])>v||Math.abs(t[1]-e[1])>v}function o(){d3.select(this).style(_),s=d3.mouse(this),c=m.rotate(),u=m.translate(),d=c,f=r(s)}function i(){return h=d3.mouse(this),a(s)?(y.scale(m.scale()),void y.translate(m.translate())):(m.scale(d3.event.scale),m.translate([u[0],d3.event.translate[1]]),f?r(h)&&(g=r(h),p=[d[0]+(g[0]-f[0]),c[1],c[2]],m.rotate(p),d=p):(s=h,f=r(s)),void e.render())}function l(){d3.select(this).style(k)}var s,c,u,d,f,h,p,g,m=e.projection,y=n(m,t),v=2;return y.on("zoomstart",o).on("zoom",i).on("zoomend",l),y}function i(e,t){function r(e){y++||e({type:"zoomstart"})}function a(e){e({type:"zoom"})}function o(e){--y||e({type:"zoomend"})}var i,f=e.projection,h={r:f.rotate(),k:f.scale()},p=n(f,t),m=x(p,"zoomstart","zoom","zoomend"),y=0,v=p.on;return p.on("zoomstart",function(){d3.select(this).style(_);var e=d3.mouse(this),t=f.rotate(),n=t,o=f.translate(),y=s(t);i=l(f,e),v.call(p,"zoom",function(){var r=d3.mouse(this);if(f.scale(h.k=d3.event.scale),i){if(l(f,r)){f.rotate(t).translate(o);var s=l(f,r),p=u(i,s),v=g(c(y,p)),x=h.r=d(v,i,n);isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])||(x=n),f.rotate(x),n=x}}else e=r,i=l(f,e);a(m.of(this,arguments))}),r(m.of(this,arguments))}).on("zoomend",function(){d3.select(this).style(k),v.call(p,"zoom",null),o(m.of(this,arguments))}).on("zoom.redraw",function(){e.render()}),d3.rebind(p,m,"on")}function l(e,t){var r=e.invert(t);return r&&isFinite(r[0])&&isFinite(r[1])&&m(r)}function s(e){var t=.5*e[0]*b,r=.5*e[1]*b,n=.5*e[2]*b,a=Math.sin(t),o=Math.cos(t),i=Math.sin(r),l=Math.cos(r),s=Math.sin(n),c=Math.cos(n);return[o*l*c+a*i*s,a*l*c-o*i*s,o*i*c+a*l*s,o*l*s-a*i*c]}function c(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],i=t[0],l=t[1],s=t[2],c=t[3];return[r*i-n*l-a*s-o*c,r*l+n*i+a*c-o*s,r*s-n*c+a*i+o*l,r*c+n*s-a*l+o*i]}function u(e,t){if(e&&t){var r=v(e,t),n=Math.sqrt(y(r,r)),a=.5*Math.acos(Math.max(-1,Math.min(1,y(e,t)))),o=Math.sin(a)/n;return n&&[Math.cos(a),r[2]*o,-r[1]*o,r[0]*o]}}function d(e,t,r){var n=p(t,2,e[0]);n=p(n,1,e[1]),n=p(n,0,e[2]-r[2]);var a,o,i=t[0],l=t[1],s=t[2],c=n[0],u=n[1],d=n[2],h=Math.atan2(l,i)*w,g=Math.sqrt(i*i+l*l);Math.abs(u)>g?(o=(u>0?90:-90)-h,a=0):(o=Math.asin(u/g)*w-h,a=Math.sqrt(g*g-u*u));var m=180-o-2*h,y=(Math.atan2(d,c)-Math.atan2(s,a))*w,v=(Math.atan2(d,c)-Math.atan2(s,-a))*w,x=f(r[0],r[1],o,y),b=f(r[0],r[1],m,v);return b>=x?[o,y,r[2]]:[m,v,r[2]]}function f(e,t,r,n){var a=h(r-e),o=h(n-t);return Math.sqrt(a*a+o*o)}function h(e){return(e%360+540)%360-180}function p(e,t,r){var n=r*b,a=e.slice(),o=0===t?1:0,i=2===t?1:2,l=Math.cos(n),s=Math.sin(n);return a[o]=e[o]*l-e[i]*s,a[i]=e[i]*l+e[o]*s,a}function g(e){return[Math.atan2(2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[1]*e[1]+e[2]*e[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(e[0]*e[2]-e[3]*e[1]))))*w,Math.atan2(2*(e[0]*e[3]+e[1]*e[2]),1-2*(e[2]*e[2]+e[3]*e[3]))*w]}function m(e){var t=e[0]*b,r=e[1]*b,n=Math.cos(r);return[n*Math.cos(t),n*Math.sin(t),Math.sin(r)]}function y(e,t){for(var r=0,n=e.length,a=0;n>r;++r)a+=e[r]*t[r];return a}function v(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function x(e){for(var t=0,r=arguments.length,n=[];++t<r;)n.push(arguments[t]);var a=d3.dispatch.apply(null,n);return a.of=function(t,r){return function(n){var o;try{o=n.sourceEvent=d3.event,n.target=e,d3.event=n,a[n.type].apply(t,r)}finally{d3.event=o}}},a}var b=Math.PI/180,w=180/Math.PI,_={cursor:"pointer"},k={cursor:"auto"};t.exports=r},{}],33:[function(e,t){"use strict";function r(e,t,r,n){Array.isArray(e)&&(t[r]=e[n])}var n=e("../../plotly"),a=e("../lib/params"),o=e("../lib/topojson-utils").extractTopojson,i=e("../lib/location-utils").locationToId,l=t.exports={};l.calcGeoJSON=function(e,t){for(var n,a,l=[],s=e.locations,c=s.length,u=o(e,t),d=u.features,f=u.ids,h=(e.marker||{}).line||{},p=0;c>p;p++)n=f.indexOf(i(e.locationmode,s[p])),-1!==n&&(a=d[n],a.z=e.z[p],void 0!==e.text&&(a.tx=e.text[p]),r(h.color,a,"mlc",p),r(h.width,a,"mlw",p),l.push(a));return l.length>0&&(l[0].trace=e),l},l.plot=function(e,t,r){function o(t){if(e.showHover){var r=e.projection(t.properties.centroid);n.Fx.loneHover({x:r[0],y:r[1],name:t.id,zLabel:t.z,text:t.tx},{container:e.hoverContainer.node()})}}var i,s=e.framework,c=e.topojson,u=s.select("g.choroplethlayer"),d=s.select("g.baselayer"),f=s.select("g.baselayeroverchoropleth"),h=a.baseLayersOverChoropleth;u.selectAll("*").remove(),f.selectAll("*").remove();var p=u.selectAll("g.trace.scatter").data(t);p.enter().append("g").attr("class","trace choropleth"),p.each(function(t){if(t.visible===!0){var r=l.calcGeoJSON(t,c);d3.select(this).selectAll("path.choroplethlocation").data(r).enter().append("path").attr("class","choroplethlocation").on("mouseover",o).on("mouseout",function(){n.Fx.loneUnhover(e.hoverContainer)}).on("mousedown",function(){n.Fx.loneUnhover(e.hoverContainer)}).on("mouseup",o)}});for(var g=0;g<h.length;g++)i=h[g],d.select("g."+i).remove(),e.drawTopo(f,i,r),e.styleLayer(f,i,r);l.style(e)},l.style=function(e){e.framework.selectAll("g.trace.choropleth").each(function(e){var t=d3.select(this),r=e.marker||{},a=r.line||{},o=e.zmin,i=e.zmax,l=n.Colorscale.getScale(e.colorscale),s=n.Colorscale.makeScaleFunction(l,o,i);t.selectAll("path.choroplethlocation").each(function(e){d3.select(this).attr("fill",function(e){return s(e.z)}).call(n.Color.stroke,e.mlc||a.color).call(n.Drawing.dashLine,"",e.mlw||a.width)})})}},{"../../plotly":48,"../lib/location-utils":26,"../lib/params":27,"../lib/topojson-utils":30}],34:[function(e,t){"use strict";function r(e){for(var t=e.lon.length,r=new Array(t),n=0;t>n;n++)r[n]=[e.lon[n],e.lat[n]];return{type:"LineString",coordinates:r,trace:e}}var n=e("../../plotly"),a=e("../lib/topojson-utils").extractTopojson,o=e("../lib/location-utils").locationToId,i=t.exports={};i.calcGeoJSON=function(e,t){var r,i,l,s,c,u,d,f,h=[],p=e.marker||{},g=Array.isArray(e.locations);g?(d=e.locations,r=d.length,i=a(e,t),l=i.features,s=i.ids,c=function(e,t){return f=s.indexOf(o(e.locationmode,d[t])),-1!==f?l[f].properties.centroid:void 0}):(r=e.lon.length,c=function(e,t){return[e.lon[t],e.lat[t]]});for(var m=0;r>m;m++)u=c(e,m),u&&h.push({lon:u[0],lat:u[1],location:g?e.locations[m]:null});return h.length>0&&(h[0].trace=e,n.Lib.mergeArray(p.size,h,"ms"),n.Scatter.arraysToCalcdata(h)),h},i.plot=function(e,t){function a(t){if(e.showHover){var r,a=e.projection([t.lon,t.lat]),o=d3.select(this.parentNode).data()[0];r=Array.isArray(o.locations)?t.location:"("+t.lon+", "+t.lat+")",t.tx&&(r+="<br>"+t.tx),n.Fx.loneHover({x:a[0],y:a[1],text:r,name:o.name,color:t.mc||(o.marker||{}).color},{container:e.hoverContainer.node()})}}var o=e.framework.select("g.scattergeolayer"),l=n.Scatter,s=e.topojson;o.selectAll("*").remove();var c=o.selectAll("g.trace.scatter").data(t);c.enter().append("g").attr("class","trace scattergeo"),c.each(function(e){l.hasLines(e)&&e.visible===!0&&d3.select(this).append("path").datum(r(e)).attr("class","js-line")}),c.append("g").attr("class","points").each(function(t){var r=d3.select(this),o=l.hasMarkers(t),c=l.hasText(t);if(!o&&!c||t.visible!==!0)return void r.remove();var u=i.calcGeoJSON(t,s);o&&r.selectAll("path.point").data(u).enter().append("path").attr("class","point").on("mouseover",a).on("mouseout",function(){n.Fx.loneUnhover(e.hoverContainer)}).on("mousedown",function(){n.Fx.loneUnhover(e.hoverContainer)}).on("mouseup",a),c&&r.selectAll("g").data(u).enter().append("g").append("text")}),i.style(e)},i.style=function(e){var t=e.framework.selectAll("g.trace.scattergeo");t.style("opacity",function(e){return e.opacity}),t.selectAll("g.points").each(function(e){d3.select(this).selectAll("path.point").call(n.Drawing.pointStyle,e),d3.select(this).selectAll("text").call(n.Drawing.textPointStyle,e)}),t.selectAll("path.js-line").style("fill","none").each(function(e){var t=e.trace,r=t.line||{};d3.select(this).call(n.Color.stroke,r.color).call(n.Drawing.dashLine,r.dash||"",r.width||0)})}},{"../../plotly":48,"../lib/location-utils":26,"../lib/topojson-utils":30}],35:[function(e,t){t.exports=[{regex:"afghan",iso3:"AFG"},{regex:"\\b(a|\xe5)land",iso3:"ALA"},{regex:"albania",iso3:"ALB"},{regex:"algeria",iso3:"DZA"},{regex:"^(?=.*americ).*samoa",iso3:"ASM"},{regex:"andorra",iso3:"AND"},{regex:"angola",iso3:"AGO"},{regex:"anguill?a",iso3:"AIA"},{regex:"antarctica",iso3:"ATA"},{regex:"antigua",iso3:"ATG"},{regex:"argentin",iso3:"ARG"},{regex:"armenia",iso3:"ARM"},{regex:"^(?!.*bonaire).*\\baruba",iso3:"ABW"},{regex:"australia",iso3:"AUS"},{regex:"^(?!.*hungary).*austria|\\baust.*\\bemp",iso3:"AUT"},{regex:"azerbaijan",iso3:"AZE"},{regex:"bahamas",iso3:"BHS"},{regex:"bahrain",iso3:"BHR"},{regex:"bangladesh|^(?=.*east).*paki?stan",iso3:"BGD"},{regex:"barbados",iso3:"BRB"},{regex:"belarus|byelo",iso3:"BLR"},{regex:"^(?!.*luxem).*belgium",iso3:"BEL"},{regex:"belize|^(?=.*british).*honduras",iso3:"BLZ"},{regex:"benin|dahome",iso3:"BEN"},{regex:"bermuda",iso3:"BMU"},{regex:"bhutan",iso3:"BTN"},{regex:"bolivia",iso3:"BOL"},{regex:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",iso3:"BES"},{regex:"herzegovina|bosnia",iso3:"BIH"},{regex:"botswana|bechuana",iso3:"BWA"},{regex:"bouvet",iso3:"BVT"},{regex:"brazil",iso3:"BRA"},{regex:"british.?indian.?ocean",iso3:"IOT"},{regex:"brunei",iso3:"BRN"},{regex:"bulgaria",iso3:"BGR"},{regex:"burkina|\\bfaso|upper.?volta",iso3:"BFA"},{regex:"burundi",iso3:"BDI"},{regex:"cambodia|kampuchea|khmer|^p\\.?r\\.?k\\.?$",iso3:"KHM"},{regex:"cameroon",iso3:"CMR"},{regex:"canada",iso3:"CAN"},{regex:"verde",iso3:"CPV"},{regex:"cayman",iso3:"CYM"},{regex:"\\bcen.*\\baf|^c\\.?a\\.?r\\.?$",iso3:"CAF"},{regex:"\\bchad",iso3:"TCD"},{regex:"\\bchile",iso3:"CHL"},{regex:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai).*china|^p\\.?r\\.?c\\.?$",iso3:"CHN"},{regex:"christmas",iso3:"CXR"},{regex:"\\bcocos|keeling",iso3:"CCK"},{regex:"colombia",iso3:"COL"},{regex:"comoro",iso3:"COM"},{regex:"\\bdem.*congo|congo.*\\bdem|congo.*\\bdr|\\bdr.*congo|\\bd\\.?r\\.?c|\\bd\\.?r\\.?o\\.?c|\\br\\.?d\\.?c|belgian.?congo|congo.?free.?state|kinshasa|zaire|l\\w{1,2}opoldville",iso3:"COD"},{regex:"^(?!.*\\bdem)(?!.*\\bdr)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l\\w{1,2}opoldville)(?!.*free).*\\bcongo",iso3:"COG"},{regex:"\\bcook",iso3:"COK"},{regex:"costa.?rica",iso3:"CRI"},{regex:"ivoire|ivory",iso3:"CIV"},{regex:"croatia",iso3:"HRV"},{regex:"\\bcuba",iso3:"CUB"},{regex:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",iso3:"CUW"},{regex:"cyprus",iso3:"CYP"},{regex:"^(?=.*rep).*czech|czechia|bohemia",iso3:"CZE"},{regex:"czechoslovakia",iso3:"CSK"},{regex:"denmark",iso3:"DNK"},{regex:"djibouti",iso3:"DJI"},{regex:"dominica(?!n)",iso3:"DMA"},{regex:"dominican",iso3:"DOM"},{regex:"ecuador",iso3:"ECU"},{regex:"egypt",iso3:"EGY"},{regex:"el.?salvador",iso3:"SLV"},{regex:"guine.*eq|eq.*guine|^(?=.*span).*guinea",iso3:"GNQ"},{regex:"eritrea",iso3:"ERI"},{regex:"estonia",iso3:"EST"},{regex:"ethiopia|abyssinia",iso3:"ETH"},{regex:"falkland|malvinas",iso3:"FLK"},{regex:"faroe|faeroe",iso3:"FRO"},{regex:"fiji",iso3:"FJI"},{regex:"finland",iso3:"FIN"},{regex:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",iso3:"FRA"},{regex:"^(?=.*french).*guiana",iso3:"GUF"},{regex:"french.?polynesia",iso3:"PYF"},{regex:"french.?southern|\\bfr.*\\bso.*\\ban.*\\b\\bt",iso3:"ATF"},{regex:"gabon",iso3:"GAB"},{regex:"gambia",iso3:"GMB"},{regex:"^(?!.*south).*georgia",iso3:"GEO"},{regex:"german.?democratic.?republic|^(d|g)\\.?d\\.?r\\.?$|^(?=.*east).*germany",iso3:"DDR"},{regex:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",iso3:"DEU"},{regex:"ghana|gold.?coast",iso3:"GHA"},{regex:"gibraltar",iso3:"GIB"},{regex:"greece|hellenic|hellas",iso3:"GRC"},{regex:"greenland",iso3:"GRL"},{regex:"grenada",iso3:"GRD"},{regex:"guadeloupe",iso3:"GLP"},{regex:"\\bguam",iso3:"GUM"},{regex:"guatemala",iso3:"GTM"},{regex:"guernsey",iso3:"GGY"},{regex:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",iso3:"GIN"},{regex:"bissau|^(?=.*portu).*guinea",iso3:"GNB"},{regex:"guyana|british.?guiana",iso3:"GUY"},{regex:"haiti",iso3:"HTI"},{regex:"heard.*mcdonald",iso3:"HMD"},{regex:"holy.?see|vatican|papal.?st",iso3:"VAT"},{regex:"^(?!.*brit).*honduras",iso3:"HND"},{regex:"hong.?kong",iso3:"HKG"},{regex:"^(?!.*austr).*hungary",iso3:"HUN"},{regex:"iceland",iso3:"ISL"},{regex:"india(?!.*ocea)",iso3:"IND"},{regex:"indonesia",iso3:"IDN"},{regex:"\\biran|persia",iso3:"IRN"},{regex:"\\biraq|mesopotamia",iso3:"IRQ"},{regex:"ireland",iso3:"IRL"},{regex:"^(?=.*isle).*\\bman",iso3:"IMN"},{regex:"israel",iso3:"ISR"},{regex:"italy",iso3:"ITA"},{regex:"jamaica",iso3:"JAM"},{regex:"japan",iso3:"JPN"},{regex:"jersey",iso3:"JEY"},{regex:"jordan",iso3:"JOR"},{regex:"kazak",iso3:"KAZ"},{regex:"kenya|british.?east.?africa|east.?africa.?prot",iso3:"KEN"},{regex:"kiribati",iso3:"KIR"},{regex:"^(?=.*dem).*\\bkorea|^(?=.*peo).*\\bkorea|^(?=.*nor).*\\bkorea|\\bd\\.?p\\.?r\\.?k",iso3:"PRK"},{regex:"^(?!.*dem)(?!.*peo)(?!.*nor).*\\bkorea|\\br\\.?o\\.?k\\b",iso3:"KOR"},{regex:"kuwait",iso3:"KWT"},{regex:"kyrgyz|kirghiz",iso3:"KGZ"},{regex:"\\blaos?\\b",iso3:"LAO"},{regex:"latvia",iso3:"LVA"},{regex:"lebanon",iso3:"LBN"},{regex:"lesotho|basuto",iso3:"LSO"},{regex:"liberia",iso3:"LBR"},{regex:"libya",iso3:"LBY"},{regex:"liechtenstein",iso3:"LIE"},{regex:"lithuania",iso3:"LTU"},{regex:"^(?!.*belg).*luxem",iso3:"LUX"},{regex:"maca(o|u)",iso3:"MAC"},{regex:"macedonia|^f\\.?y\\.?r\\.?o\\.?m\\.?$",iso3:"MKD"},{regex:"madagascar|malagasy",iso3:"MDG"},{regex:"malawi|nyasa",iso3:"MWI"},{regex:"malaysia",iso3:"MYS"},{regex:"maldive",iso3:"MDV"},{regex:"\\bmali\\b",iso3:"MLI"},{regex:"\\bmalta",iso3:"MLT"},{regex:"marshall",iso3:"MHL"},{regex:"martinique",iso3:"MTQ"},{regex:"mauritania",iso3:"MRT"},{regex:"mauritius",iso3:"MUS"},{regex:"mayotte",iso3:"MYT"},{regex:"\\bmexic",iso3:"MEX"},{regex:"micronesia",iso3:"FSM"},{regex:"moldov|b(a|e)ssarabia",iso3:"MDA"},{regex:"monaco",iso3:"MCO"},{regex:"mongolia",iso3:"MNG"},{regex:"^(?!.*serbia).*montenegro",iso3:"MNE"},{regex:"montserrat",iso3:"MSR"},{regex:"morocco|\\bmaroc",iso3:"MAR"},{regex:"mozambique",iso3:"MOZ"},{regex:"myanmar|burma",iso3:"MMR"},{regex:"namibia",iso3:"NAM"},{regex:"nauru",iso3:"NRU"},{regex:"nepal",iso3:"NPL"},{regex:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",iso3:"NLD"},{regex:"^(?=.*\\bant).*(nether|dutch)",iso3:"ANT"},{regex:"new.?caledonia",iso3:"NCL"},{regex:"new.?zealand",iso3:"NZL"},{regex:"nicaragua",iso3:"NIC"},{regex:"\\bniger(?!ia)",iso3:"NER"},{regex:"nigeria",iso3:"NGA"},{regex:"niue",iso3:"NIU"},{regex:"norfolk",iso3:"NFK"},{regex:"mariana",iso3:"MNP"},{regex:"norway",iso3:"NOR"},{regex:"\\boman|trucial",iso3:"OMN"},{regex:"^(?!.*east).*paki?stan",iso3:"PAK"},{regex:"palau",iso3:"PLW"},{regex:"palestin|\\bgaza|west.?bank",iso3:"PSE"},{regex:"panama",iso3:"PAN"},{regex:"papua|\\bp.*\\bn.*\\bguin.*|^p\\.?n\\.?g\\.?$|new.?guinea",iso3:"PNG"},{regex:"paraguay",iso3:"PRY"},{regex:"peru",iso3:"PER"},{regex:"philippines",iso3:"PHL"},{regex:"pitcairn",iso3:"PCN"},{regex:"poland",iso3:"POL"},{regex:"portugal",iso3:"PRT"},{regex:"puerto.?rico",iso3:"PRI"},{regex:"qatar",iso3:"QAT"},{regex:"r(e|\xe9)union",iso3:"REU"},{regex:"r(o|u|ou)mania",iso3:"ROU"},{regex:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",iso3:"RUS"},{regex:"rwanda",iso3:"RWA"},{regex:"barth(e|\xe9)lemy",iso3:"BLM"},{regex:"helena",iso3:"SHN"},{regex:"kitts|\\bnevis",iso3:"KNA"},{regex:"\\blucia",iso3:"LCA"},{regex:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",iso3:"MAF"},{regex:"miquelon",iso3:"SPM"},{regex:"vincent",iso3:"VCT"},{regex:"^(?!.*amer).*samoa",iso3:"WSM"},{regex:"san.?marino",iso3:"SMR"},{regex:"\\bs(a|\xe3)o.?tom(e|\xe9)",iso3:"STP"},{regex:"\\bsa\\w*.?arabia",iso3:"SAU"},{regex:"senegal",iso3:"SEN"},{regex:"^(?!.*monte).*serbia",iso3:"SRB"},{regex:"seychell",iso3:"SYC"},{regex:"sierra",iso3:"SLE"},{regex:"singapore",iso3:"SGP"},{regex:"^(?!.*martin)(?!.*saba).*maarten",iso3:"SXM"},{regex:"^(?!.*cze).*slovak",iso3:"SVK"},{regex:"slovenia",iso3:"SVN"},{regex:"solomon",iso3:"SLB"},{regex:"somali",iso3:"SOM"},{regex:"\\bs\\w*.?africa",iso3:"ZAF"},{regex:"south.?georgia|sandwich",iso3:"SGS"},{regex:"\\bs\\w*.?sudan",iso3:"SSD"},{regex:"spain",iso3:"ESP"},{regex:"sri.?lanka|ceylon",iso3:"LKA"},{regex:"^(?!.*\\bs(?!u)).*sudan",iso3:"SDN"},{regex:"surinam|dutch.?guiana",iso3:"SUR"},{regex:"svalbard",iso3:"SJM"},{regex:"swaziland",iso3:"SWZ"},{regex:"sweden",iso3:"SWE"},{regex:"switz|swiss",iso3:"CHE"},{regex:"syria",iso3:"SYR"},{regex:"taiwan|taipei|formosa",iso3:"TWN"},{regex:"tajik",iso3:"TJK"},{regex:"tanzania",iso3:"TZA"},{regex:"thailand|\\bsiam",iso3:"THA"},{regex:"^(?=.*leste).*timor|^(?=.*east).*timor",iso3:"TLS"},{regex:"togo",iso3:"TGO"},{regex:"tokelau",iso3:"TKL"},{regex:"tonga",iso3:"TON"},{regex:"trinidad|tobago",iso3:"TTO"},{regex:"tunisia",iso3:"TUN"},{regex:"turkey",iso3:"TUR"},{regex:"turkmen",iso3:"TKM"},{regex:"turks",iso3:"TCA"},{regex:"tuvalu",iso3:"TUV"},{regex:"uganda",iso3:"UGA"},{regex:"ukrain",iso3:"UKR"},{regex:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",iso3:"ARE"},{regex:"united.?kingdom|britain|^u\\.?k\\.?$",iso3:"GBR"},{regex:"^(?!.*islands).*united.?states|^u\\.?s\\.?a\\.?$|^u\\.?s\\.?$",iso3:"USA"},{regex:"minor.?outlying.?is",iso3:"UMI"},{regex:"uruguay",iso3:"URY"},{regex:"uzbek",iso3:"UZB"},{regex:"vanuatu|new.?hebrides",iso3:"VUT"},{regex:"venezuela",iso3:"VEN"},{regex:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",iso3:"VNM"},{regex:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",iso3:"VGB"},{regex:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",iso3:"VIR"},{regex:"futuna|wallis",iso3:"WLF"},{regex:"sahara",iso3:"ESH"},{regex:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",iso3:"YEM"},{regex:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",iso3:"YMD"},{regex:"yugoslavia",iso3:"YUG"},{regex:"zambia|northern.?rhodesia",iso3:"ZMB"},{regex:"zanz",iso3:"EAZ"},{regex:"zimbabwe|^(?!.*northern).*rhodesia",iso3:"ZWE"}]},{}],36:[function(e,t){"use strict";function r(e,t){for(var r=[],n=e.length;n>0;n--)r.push(t);return r}function n(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e[n].p2c(t));return r}function a(e,t){return function(r){var n=e(r),a=t(r);return Math.sqrt(n*n+a*a)}}function o(e,t,a){a||(a="xy");var o=e._fullLayout,f=o._plots[a],h=[a].concat(f.overlays.map(function(e){return e.id})),p=h.map(function(t){return b.Axes.getFromId(e,t,"x")}),g=h.map(function(t){return b.Axes.getFromId(e,t,"y")}),m=t.hovermode||o.hovermode;if(-1===["x","y","closest"].indexOf(m)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return d(e,t);var y,v,x,w,A,M,L,z,C,S,P,O,D=[],T=[];if(Array.isArray(t))for(m="array",x=0;x<t.length;x++)A=e.calcdata[t[x].curveNumber||0],"none"!==A[0].trace.hoverinfo&&T.push(A);else{for(w=0;w<e.calcdata.length;w++)A=e.calcdata[w],M=A[0].trace,"none"!==M.hoverinfo&&-1!==h.indexOf(M.xaxis+M.yaxis)&&T.push(A);var E,I;if(t.target&&"clientX"in t&&"clientY"in t){if($(e).triggerHandler("plotly_beforehover",t)===!1)return;var j=t.target.getBoundingClientRect();if(E=t.clientX-j.left,I=t.clientY-j.top,0>E||E>j.width||0>I||I>j.height)return d(e,t)}else E="xpx"in t?t.xpx:p[0]._length/2,I="ypx"in t?t.ypx:g[0]._length/2;if(y="xval"in t?r(h,t.xval):n(p,E),v="yval"in t?r(h,t.yval):n(g,I),!_(y[0])||!_(v[0]))return console.log("Plotly.Fx.hover failed",t,e),d(e,t)}var N=1/0;for(w=0;w<T.length;w++)if(A=T[w],A&&A[0]&&A[0].trace&&A[0].trace.visible===!0){if(M=A[0].trace,L=h.indexOf(M.xaxis+M.yaxis),z=m,P={cd:A,trace:M,xa:p[L],ya:g[L],name:e.data.length>1||-1!==M.hoverinfo.indexOf("name")?M.name:void 0,index:!1,distance:Math.min(N,k.MAXDIST),color:b.Color.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},O=D.length,"array"===z){var R=t[w];"pointNumber"in R?(P.index=R.pointNumber,z="closest"):(z="","xval"in R&&(C=R.xval,z="x"),"yval"in R&&(S=R.yval,z=z?"closest":"y"))}else C=y[L],S=v[L];if(M._module&&M._module.hoverPoints){var B=M._module.hoverPoints(P,C,S,z);if(B)for(var F,H=0;H<B.length;H++)F=B[H],_(F.x0)&&_(F.y0)&&D.push(i(F,m))}else console.log("unrecognized trace type in hover",M);"closest"===m&&D.length>O&&(D.splice(0,O),N=D[0].distance)}if(0===D.length)return d(e,t);var V="y"===m&&T.length>1;D.sort(function(e,t){return e.distance-t.distance});var q={hovermode:m,rotateLabels:V,bgColor:b.Color.combine(o.plot_bgcolor,o.paper_bgcolor),container:o._hoverlayer,outerContainer:o._paperdiv},G=l(D,q);s(D,V?p[0]:g[0]),c(G,V);var Z=e._hoverdata,U=[];for(x=0;x<D.length;x++){var Y=D[x],X={data:Y.trace._input,fullData:Y.trace,curveNumber:Y.trace.index,pointNumber:Y.index,x:Y.xVal,y:Y.yVal,xaxis:Y.xa,yaxis:Y.ya};void 0!==Y.zLabelVal&&(X.z=Y.zLabelVal),U.push(X)}e._hoverdata=U,u(e,t,Z)&&(Z&&$(e).trigger("plotly_unhover",{points:Z}),$(e).trigger("plotly_hover",{points:e._hoverdata,xaxes:p,yaxes:g,xvals:y,yvals:v}))}function i(e,t){e.posref="y"===t?(e.x0+e.x1)/2:(e.y0+e.y1)/2,e.x0=b.Lib.constrain(e.x0,0,e.xa._length),e.x1=b.Lib.constrain(e.x1,0,e.xa._length),e.y0=b.Lib.constrain(e.y0,0,e.ya._length),e.y1=b.Lib.constrain(e.y1,0,e.ya._length);var r;if(void 0!==e.xLabelVal){r="log"===e.xa.type&&e.xLabelVal<=0;var n=b.Axes.tickText(e.xa,e.xa.c2l(r?-e.xLabelVal:e.xLabelVal),"hover");e.xLabel=r?0===e.xLabelVal?"0":"-"+n.text:n.text,e.xVal=e.xa.c2d(e.xLabelVal)}if(void 0!==e.yLabelVal){r="log"===e.ya.type&&e.yLabelVal<=0;var a=b.Axes.tickText(e.ya,e.ya.c2l(r?-e.yLabelVal:e.yLabelVal),"hover");e.yLabel=r?0===e.yLabelVal?"0":"-"+a.text:a.text,e.yVal=e.ya.c2d(e.yLabelVal)}if(void 0!==e.zLabelVal&&(e.zLabel=String(e.zLabelVal)),void 0!==e.xerr){var o=b.Axes.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xLabel+=void 0!==e.xerrneg?" +"+o+" / -"+b.Axes.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:" &plusmn; "+o,"x"===t&&(e.distance+=1)}if(void 0!==e.yerr){var i=b.Axes.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;
e.yLabel+=void 0!==e.yerrneg?" +"+i+" / -"+b.Axes.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:" &plusmn; "+i,"y"===t&&(e.distance+=1)}var l=e.trace.hoverinfo;return"all"!==l&&(l=l.split("+"),-1===l.indexOf("x")&&(e.xLabel=void 0),-1===l.indexOf("y")&&(e.yLabel=void 0),-1===l.indexOf("z")&&(e.zLabel=void 0),-1===l.indexOf("text")&&(e.text=void 0),-1===l.indexOf("name")&&(e.name=void 0)),e}function l(e,t){var r,n,a=t.hovermode,o=t.rotateLabels,i=t.bgColor,l=t.container,s=t.outerContainer,c=e[0],u=c.xa,d=c.ya,f="y"===a?"yLabel":"xLabel",h=c[f],p=(h||"").split(" ")[0],g=s.node().getBoundingClientRect(),m=g.top,y=g.width,v=g.height,x=c.distance<=k.MAXDIST&&("x"===a||"y"===a);for(r=0;r<e.length;r++)if(n=e[r].trace.hoverinfo,-1===n.indexOf("all")&&-1===n.indexOf(a)){x=!1;break}var _=l.selectAll("g.axistext").data(x?[0]:[]);_.enter().append("g").classed("axistext",!0),_.exit().remove(),_.each(function(){var t=d3.select(this),r=t.selectAll("path").data([0]),n=t.selectAll("text").data([0]);r.enter().append("path").style({fill:b.Color.defaultLine,"stroke-width":"1px",stroke:b.Color.background}),n.enter().append("text").call(b.Drawing.font,T,D,b.Color.background).attr("data-notex",1),n.text(h).call(b.util.convertToTspans).call(b.Drawing.setPosition,0,0).selectAll("tspan.line").call(b.Drawing.setPosition,0,0),t.attr("transform","");var o=n.node().getBoundingClientRect();if("x"===a){n.attr("text-anchor","middle").call(b.Drawing.setPosition,0,"top"===u.side?m-o.bottom-P-O:m-o.top+P+O).selectAll("tspan.line").attr({x:n.attr("x"),y:n.attr("y")});var i="top"===u.side?"-":"";r.attr("d","M0,0L"+P+","+i+P+"H"+(O+o.width/2)+"v"+i+(2*O+o.height)+"H-"+(O+o.width/2)+"V"+i+P+"H-"+P+"Z"),t.attr("transform","translate("+(u._offset+(c.x0+c.x1)/2)+","+(d._offset+("top"===u.side?0:d._length))+")")}else{n.attr("text-anchor","right"===d.side?"start":"end").call(b.Drawing.setPosition,("right"===d.side?1:-1)*(O+P),m-o.top-o.height/2).selectAll("tspan.line").attr({x:n.attr("x"),y:n.attr("y")});var l="right"===d.side?"":"-";r.attr("d","M0,0L"+l+P+","+P+"V"+(O+o.height/2)+"h"+l+(2*O+o.width)+"V-"+(O+o.height/2)+"H"+l+P+"V-"+P+"Z"),t.attr("transform","translate("+(u._offset+("right"===d.side?u._length:0))+","+(d._offset+(c.y0+c.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[f]||"").split(" ")[0]===p})});var A=l.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr||""].join(",")});return A.enter().append("g").classed("hovertext",!0).each(function(){var e=d3.select(this);e.append("rect").call(b.Color.fill,b.Color.addOpacity(i,.8)),e.append("text").classed("name",!0).call(b.Drawing.font,T,D),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(b.Drawing.font,T,D)}),A.exit().remove(),A.each(function(e){var t=d3.select(this).attr("transform",""),r="",n="",l=b.Color.opacity(e.color)?e.color:b.Color.defaultLine,s=b.Color.combine(l,i),c=w(s).getBrightness()>128?"#000":b.Color.background;if(e.name&&void 0===e.zLabelVal){var f=document.createElement("p");f.innerHTML=e.name,r=f.textContent||"",r.length>15&&(r=r.substr(0,12)+"...")}void 0!==e.zLabel?(void 0!==e.xLabel&&(n+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(n+="y: "+e.yLabel+"<br>"),n+=(n?"z: ":"")+e.zLabel):x&&e[a+"Label"]===h?n=e[("x"===a?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(n=e.yLabel):n=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",e.text&&(n+=(n?"<br>":"")+e.text),""===n&&(""===r&&t.remove(),n=r);var p=t.select("text.nums").style("fill",c).call(b.Drawing.setPosition,0,0).text(n).attr("data-notex",1).call(b.util.convertToTspans);p.selectAll("tspan.line").call(b.Drawing.setPosition,0,0);var g=t.select("text.name"),_=0;r&&r!==n?(g.style("fill",s).text(r).call(b.Drawing.setPosition,0,0).attr("data-notex",1).call(b.util.convertToTspans),g.selectAll("tspan.line").call(b.Drawing.setPosition,0,0),_=g.node().getBoundingClientRect().width+2*O):(g.remove(),t.select("rect").remove()),t.select("path").style({fill:s,stroke:c});var k,A,L=p.node().getBoundingClientRect(),z=u._offset+(e.x0+e.x1)/2,C=d._offset+(e.y0+e.y1)/2,S=Math.abs(e.x1-e.x0),D=Math.abs(e.y1-e.y0),T=L.width+P+O+_;e.ty0=m-L.top,e.bx=L.width+2*O,e.by=L.height+2*O,e.anchor="start",e.txwidth=L.width,e.tx2width=_,e.offset=0,o?(e.pos=z,k=v>=C+D/2+T,A=C-D/2-T>=0,"top"!==e.idealAlign&&k||!A?k?(C+=D/2,e.anchor="start"):e.anchor="middle":(C-=D/2,e.anchor="end")):(e.pos=C,k=y>=z+S/2+T,A=z-S/2-T>=0,"left"!==e.idealAlign&&k||!A?k?(z+=S/2,e.anchor="start"):e.anchor="middle":(z-=S/2,e.anchor="end")),p.attr("text-anchor",e.anchor),_&&g.attr("text-anchor",e.anchor),t.attr("transform","translate("+z+","+C+")"+(o?"rotate("+M+")":""))}),A}function s(e,t){function r(e){var t=e[0],r=e[e.length-1];if(a=d-t.pos-t.dp+t.size,o=r.pos+r.dp+r.size-f,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;n=!1}if(!(.01>o)){if(-.01>a){for(l=e.length-1;l>=0;l--)e[l].dp-=o;n=!1}if(n){var c=0;for(i=0;i<e.length;i++)s=e[i],s.pos+s.dp+s.size>f&&c++;for(i=e.length-1;i>=0&&!(0>=c);i--)s=e[i],s.pos>f-1&&(s.del=!0,c--);for(i=0;i<e.length&&!(0>=c);i++)if(s=e[i],s.pos<d+1)for(s.del=!0,c--,o=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=o;for(i=e.length-1;i>=0&&!(0>=c);i--)s=e[i],s.pos+s.dp+s.size>f&&(s.del=!0,c--)}}}for(var n,a,o,i,l,s,c,u=0,d=t._offset,f=t._offset+t._length,h=e.map(function(e,r){return[{i:r,dp:0,pos:e.pos,posref:e.posref,size:e.by*("x"===t._id.charAt(0)?z:1)/2}]}).sort(function(e,t){return e[0].posref-t[0].posref});!n&&u<=e.length;){for(u++,n=!0,i=0;i<h.length-1;){var p=h[i],g=h[i+1],m=p[p.length-1],y=g[0];if(a=m.pos+m.dp+m.size-y.pos-y.dp+y.size,a>.01){for(l=g.length-1;l>=0;l--)g[l].dp+=a;for(p.push.apply(p,g),h.splice(i+1,1),c=0,l=p.length-1;l>=0;l--)c+=p[l].dp;for(o=c/p.length,l=p.length-1;l>=0;l--)p[l].dp-=o;n=!1}else i++}h.forEach(r)}for(i=h.length-1;i>=0;i--){var v=h[i];for(l=v.length-1;l>=0;l--){var x=v[l],b=e[x.i];b.offset=x.dp,b.del=x.del}}}function c(e,t){e.each(function(e){var r=d3.select(this);if(e.del)return void r.remove();var n="end"===e.anchor?-1:1,a=r.select("text.nums"),o={start:1,end:-1,middle:0}[e.anchor],i=o*(P+O),l=i+o*(e.txwidth+O),s=0,c=e.offset;"middle"===e.anchor&&(i-=e.tx2width/2,l-=e.tx2width/2),t&&(c*=-S,s=e.offset*C),r.select("path").attr("d","middle"===e.anchor?"M-"+e.bx/2+",-"+e.by/2+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(n*P+s)+","+(P+c)+"v"+(e.by/2-P)+"h"+n*e.bx+"v-"+e.by+"H"+(n*P+s)+"V"+(c-P)+"Z"),a.call(b.Drawing.setPosition,i+s,c+e.ty0-e.by/2+O).selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")}),e.tx2width&&(r.select("text.name, text.name tspan.line").call(b.Drawing.setPosition,l+o*O+s,c+e.ty0-e.by/2+O),r.select("rect").call(b.Drawing.setRect,l+(o-1)*e.tx2width/2+s,c-e.by/2-1,e.tx2width,e.by+2))})}function u(e,t,r){if(!t.target)return!1;if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var a=r[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber))return!0}return!1}function d(e,t){var r=e._fullLayout;t||(t={}),t.target&&$(e).triggerHandler("plotly_beforehover",t)===!1||(r._hoverlayer.selectAll("g").remove(),t.target&&e._hoverdata&&$(e).trigger("plotly_unhover",{points:e._hoverdata}),e._hoverdata=void 0)}function f(e){if(e._hasGL3D)return[["toImage"],["orbitRotation","tableRotation","zoom3d","pan3d"],["resetCameraDefault3d","resetCameraLastSave3d"],["hoverClosest3d"]];if(e._hasGeo)return[["toImage"],["zoomInGeo","zoomOutGeo","resetGeo"],["hoverClosestGeo"]];var t,r,n=b.Axes.list({_fullLayout:e},null,!0),a=!0;for(t=0;t<n.length;t++)if(!n[t].fixedrange){a=!1;break}return r=a?[["toImage"]]:[["toImage"],["zoom2d","pan2d"],["zoomIn2d","zoomOut2d","resetScale2d","autoScale2d"]],e._hasCartesian?r.push(["hoverClosest2d","hoverCompare2d"]):e._hasPie&&r.push(["hoverClosestPie"]),r}function h(e,t){return e?"nsew"===e?"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function p(e,t,r,n,a,o,i,l){function s(e,t){for(C=0;C<e.length;C++)if(!e[C].fixedrange)return t;return""}function c(e){e[0]=Number(e[0]),e[1]=Number(e[1])}function u(r,n,a){var o=G.getBoundingClientRect();for(U=n-o.left,Y=a-o.top,X={l:U,r:U,w:0,t:Y,b:Y,h:0},$=e._hmpixcount?e._hmlumcount/e._hmpixcount:w(e._fullLayout.plot_bgcolor).getLuminance(),J=J="M0,0H"+j+"V"+N+"H0V0",K=!1,Q="xy",W=t.plot.append("path").attr("class","zoombox").style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",J+"Z"),et=t.plot.append("path").attr("class","zoombox-corners").style({fill:b.Color.background,stroke:b.Color.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),C=0;C<R.length;C++)c(R[C].range)}function d(e,t){var r=Math.max(0,Math.min(j,e+U)),n=Math.max(0,Math.min(N,t+Y)),a=Math.abs(r-U),o=Math.abs(n-Y),i=Math.floor(Math.min(o,a,k.MINZOOM)/2);X.l=Math.min(U,r),X.r=Math.max(U,r),X.t=Math.min(Y,n),X.b=Math.max(Y,n),!F||o<Math.min(Math.max(.6*a,k.MINDRAG),k.MINZOOM)?a<k.MINDRAG?(Q="",X.r=X.l,X.t=X.b,et.attr("d","M0,0Z")):(X.t=0,X.b=N,Q="x",et.attr("d","M"+(X.l-.5)+","+(Y-k.MINZOOM-.5)+"h-3v"+(2*k.MINZOOM+1)+"h3ZM"+(X.r+.5)+","+(Y-k.MINZOOM-.5)+"h3v"+(2*k.MINZOOM+1)+"h-3Z")):!B||a<Math.min(.6*o,k.MINZOOM)?(X.l=0,X.r=j,Q="y",et.attr("d","M"+(U-k.MINZOOM-.5)+","+(X.t-.5)+"v-3h"+(2*k.MINZOOM+1)+"v3ZM"+(U-k.MINZOOM-.5)+","+(X.b+.5)+"v3h"+(2*k.MINZOOM+1)+"v-3Z")):(Q="xy",et.attr("d","M"+(X.l-3.5)+","+(X.t-.5+i)+"h3v"+-i+"h"+i+"v-3h-"+(i+3)+"ZM"+(X.r+3.5)+","+(X.t-.5+i)+"h-3v"+-i+"h"+-i+"v-3h"+(i+3)+"ZM"+(X.r+3.5)+","+(X.b+.5-i)+"h-3v"+i+"h"+-i+"v3h"+(i+3)+"ZM"+(X.l-3.5)+","+(X.b+.5-i)+"h3v"+i+"h"+i+"v3h-"+(i+3)+"Z")),X.w=X.r-X.l,X.h=X.b-X.t,W.attr("d",J+"M"+X.l+","+X.t+"v"+X.h+"h"+X.w+"v-"+X.h+"h-"+X.w+"Z"),K||(W.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),et.transition().style("opacity",1).duration(200),K=!0)}function f(e,t,r){var n,a,o;for(n=0;n<e.length;n++)a=e[n],a.fixedrange||(o=a.range,a.range=[o[0]+(o[1]-o[0])*t,o[0]+(o[1]-o[0])*r])}function p(t,r){return Math.min(X.h,X.w)<2*k.MINDRAG?(2===r?M():m(e),v(e)):(("xy"===Q||"x"===Q)&&f(T,X.l/j,X.r/j),("xy"===Q||"y"===Q)&&f(E,(N-X.b)/N,(N-X.t)/N),v(e),L(Q),void(I&&e.data&&e._context.showTips&&(b.Lib.notifier("Double-click to<br>zoom back out","long"),I=!1)))}function y(t,r){var n=1===(i+l).length;if(t)L();else if(2!==r||n)if(1===r&&n){var a=i?E[0]:T[0],o="s"===i||"w"===l?0:1,s=a._name+".range["+o+"]",c=g(a,o),u="left",d="middle";if(a.fixedrange)return;i?(d="n"===i?"top":"bottom","right"===a.side&&(u="right")):"e"===l&&(u="right"),q.call(b.util.makeEditable,null,{immediate:!0,background:O.paper_bgcolor,text:String(c),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:u,verticalAlign:d}).on("edit",function(t){var r="category"===a.type?a.c2l(t):a.d2l(t);void 0!==r&&b.relayout(e,s,r)})}else m(e);else M()}function x(t){function r(e,t,r){if(!e.fixedrange){c(e.range);var n=e.range,a=n[0]+(n[1]-n[0])*t;e.range=[a+(n[0]-a)*r,a+(n[1]-a)*r]}}if(e._context.scrollZoom||O._enablescrollzoom){var n=e.querySelector(".plotly");if(!(n.scrollHeight-n.clientHeight>10||n.scrollWidth-n.clientWidth>10)){clearTimeout(rt);var a=-t.deltaY;if(isFinite(a)||(a=t.wheelDelta/10),!isFinite(a))return void console.log("did not find wheel motion attributes",t);var o,s=Math.exp(-Math.min(Math.max(a,-20),20)/100),u=at.draglayer.select(".nsewdrag").node().getBoundingClientRect(),d=(t.clientX-u.left)/u.width,f=tt[0]+tt[2]*d,h=(u.bottom-t.clientY)/u.height,p=tt[1]+tt[3]*(1-h);if(l){for(o=0;o<T.length;o++)r(T[o],d,s);tt[2]*=s,tt[0]=f-tt[2]*d}if(i){for(o=0;o<E.length;o++)r(E[o],h,s);tt[3]*=s,tt[1]=p-tt[3]*(1-h)}return z(tt),A(i,l),rt=setTimeout(function(){tt=[0,0,j,N],L()},nt),b.Lib.pauseEvent(t)}}}function _(e,t){function r(e,t){for(var r=0;r<e.length;r++){var n=e[r];n.fixedrange||(n.range=[n._r[0]-t/n._m,n._r[1]-t/n._m])}}function n(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function a(e,t,r){for(var a=1-t,o=0,i=0;i<e.length;i++){var l=e[i];l.fixedrange||(o=i,l.range[t]=l._r[a]+(l._r[t]-l._r[a])/n(r/l._length))}return e[o]._length*(e[o]._r[t]-e[o].range[t])/(e[o]._r[t]-e[o]._r[a])}return"ew"===B||"ns"===F?(B&&r(T,e),F&&r(E,t),z([B?-e:0,F?-t:0,j,N]),void A(F,B)):("w"===B?e=a(T,0,e):"e"===B?e=a(T,1,-e):B||(e=0),"n"===F?t=a(E,1,t):"s"===F?t=a(E,0,-t):F||(t=0),z(["w"===B?e:0,"n"===F?t:0,j-e,N-t]),void A(F,B))}function A(t,r){function n(e){for(o=0;o<e.length;o++)e[o].fixedrange||i.push(e[o]._id)}function a(n,a){var l;for(o=0;o<n.length;o++)l=n[o],(r&&-1!==i.indexOf(l.xref)||t&&-1!==i.indexOf(l.yref))&&a.draw(e,o)}var o,i=[];for(r&&n(T),t&&n(E),o=0;o<i.length;o++)b.Axes.doTicks(e,i[o],!0);a(O.annotations||[],b.Annotations),a(O.shapes||[],b.Shapes)}function M(){var t,r,n=e._context.doubleClick,a=(B?T:[]).concat(F?E:[]),o={};if("autosize"===n)for(r=0;r<a.length;r++)t=a[r],t.fixedrange||(o[t._name+".autorange"]=!0);else if("reset"===n)for(r=0;r<a.length;r++)t=a[r],o[t._name+".range"]=t._rangeInitial.slice();else if("reset+autosize"===n)for(r=0;r<a.length;r++)t=a[r],t.fixedrange||(void 0===t._rangeInitial||t.range[0]===t._rangeInitial[0]&&t.range[1]===t._rangeInitial[1]?o[t._name+".autorange"]=!0:o[t._name+".range"]=t._rangeInitial.slice());b.relayout(e,o)}function L(t){for(var r={},n=0;n<R.length;n++){var a=R[n];t&&-1===t.indexOf(a._id.charAt(0))||(a._r[0]!==a.range[0]&&(r[a._name+".range[0]"]=a.range[0]),a._r[1]!==a.range[1]&&(r[a._name+".range[1]"]=a.range[1]),a.range=a._r.slice())}z([0,0,j,N]),b.relayout(e,r)}function z(e){var t,r,n,a,o,s,c=O._plots,u=Object.keys(c);for(t=0;t<u.length;t++)if(r=c[u[t]],n=r.x(),a=r.y(),o=l&&-1!==T.indexOf(n)&&!n.fixedrange,s=i&&-1!==E.indexOf(a)&&!a.fixedrange,o||s){var d=[0,0,n._length,a._length];o&&(d[0]=e[0],d[2]=e[2]),s&&(d[1]=e[1],d[3]=e[3]),r.plot.attr("viewBox",d.join(" "))}}var C,S,P,O=e._fullLayout,D=[t].concat(i&&l?t.overlays:[]),T=[t.x()],E=[t.y()],j=T[0]._length,N=E[0]._length;for(C=1;C<D.length;C++)S=D[C].x(),P=D[C].y(),-1===T.indexOf(S)&&T.push(S),-1===E.indexOf(P)&&E.push(P);var R=T.concat(E),B=s(T,l),F=s(E,i),H=h(F+B,O.dragmode),V=i+l+"drag",q=t.draglayer.selectAll("."+V).data([0]);q.enter().append("rect").classed("drag",!0).classed(V,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id),q.call(b.Drawing.setRect,r,n,a,o).call(k.setCursor,H);var G=q.node();if(!F&&!B)return G.onmousedown=null,G.style.pointerEvents=i+l==="nsew"?"all":"none",G;var Z={element:G,prepFn:function(e,t,r){i+l==="nsew"&&("zoom"===O.dragmode?!e.shiftKey:e.shiftKey)?(Z.moveFn=d,Z.doneFn=p,u(e,t,r)):(Z.moveFn=_,Z.doneFn=y)}};k.dragElement(Z);var U,Y,X,$,J,K,Q,W,et,tt=[0,0,j,N],rt=null,nt=300,at=t.mainplot?O._plots[t.mainplot]:t;return i.length*l.length!==1&&(void 0!==G.onwheel?G.onwheel=x:void 0!==G.onmousewheel&&(G.onmousewheel=x)),G}function g(e,t){var r,n=e.range[t],a=Math.abs(n-e.range[1-t]);return"date"===e.type?b.Lib.ms2DateTime(n,a):"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,d3.format("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,d3.format("."+String(r)+"g")(n))}function m(e){e._dragging=!0;var t=e._replotPending;e._replotPending=!1,setTimeout(function(){e._replotPending=t,y(e)},k.DBLCLICKDELAY)}function y(e){e._dragging=!1,e._replotPending&&b.plot(e)}function v(e){d3.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function x(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t["z-index"]=999999999,t.background="none",document.body.appendChild(e),e}var b=e("./plotly"),w=e("tinycolor2"),_=e("./isnumeric"),k=t.exports={};k.layoutAttributes={dragmode:{type:"enumerated",values:["zoom","pan","orbit","turntable"]},hovermode:{type:"enumerated",values:["x","y","closest",!1]}},k.supplyLayoutDefaults=function(e,t,r){function n(r,n){return b.Lib.coerce(e,t,k.layoutAttributes,r,n)}var a,o;n("dragmode",t._hasGL3D?"turntable":"zoom"),t._hasCartesian?(a=t._isHoriz=k.isHoriz(r),o=a?"y":"x"):o="closest",n("hovermode",o)},k.isHoriz=function(e){var t,r,n=!0;for(t=0;t<e.length;t++)if(r=e[t],"h"!==r.orientation){n=!1;break}return n},k.DBLCLICKDELAY=600,k.MINDRAG=8,k.MINZOOM=20;var A=20;k.init=function(e){var t=e._fullLayout;if(!(t._hasGL3D||t._hasGeo||e._context.staticPlot)){var r=Object.keys(t._plots).sort(function(e,r){if((t._plots[e].mainplot&&!0)===(t._plots[r].mainplot&&!0)){var n=e.split("y"),a=r.split("y");return n[0]===a[0]?Number(n[1]||1)-Number(a[1]||1):Number(n[0]||1)-Number(a[0]||1)}return t._plots[e].mainplot?1:-1});r.forEach(function(r){var n=t._plots[r],a=n.x(),o=n.y(),i=(a._linepositions[r]||[])[3],l=(o._linepositions[r]||[])[3];if(_(i)&&"top"===a.side&&(i-=A),_(l)&&"right"!==o.side&&(l-=A),!n.mainplot){var s=p(e,n,0,0,a._length,o._length,"ns","ew");$(s).mousemove(function(n){k.hover(e,n,r),t._lasthover=s,t._hoversubplot=r}).mouseout(function(t){b.Lib.isIE()||k.unhover(e,t)}).click(function(t){k.click(e,t)}),p(e,n,-A,-A,A,A,"n","w"),p(e,n,a._length,-A,A,A,"n","e"),p(e,n,-A,o._length,A,A,"s","w"),p(e,n,a._length,o._length,A,A,"s","e")}_(i)&&("free"===a.anchor&&(i-=t._size.h*(1-o.domain[1])),p(e,n,.1*a._length,i,.8*a._length,A,"","ew"),p(e,n,0,i,.1*a._length,A,"","w"),p(e,n,.9*a._length,i,.1*a._length,A,"","e")),_(l)&&("free"===o.anchor&&(l-=t._size.w*a.domain[0]),p(e,n,l,.1*o._length,A,.8*o._length,"ns",""),p(e,n,l,.9*o._length,A,.1*o._length,"s",""),p(e,n,l,0,A,.1*o._length,"n",""))}),$(t._hoverlayer.node()).off("mousemove click").on("mousemove",function(r){r.target=t._lasthover,k.hover(e,r,t._hoversubplot)}).on("click",function(r){r.target=t._lasthover,k.click(e,r)}),t._hoverlayer.node().onmousedown=function(e){t._lasthover.onmousedown(e)}}};var M=60,L=Math.PI*M/180,z=1/Math.sin(L),C=Math.cos(L),S=Math.sin(L),P=6,O=3,D=13,T="Arial, sans-serif";k.MAXDIST=20;var E=100;k.hover=function(e,t,r){return"string"==typeof e&&(e=document.getElementById(e)),void 0===e._lastHoverTime&&(e._lastHoverTime=0),void 0!==e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),Date.now()>e._lastHoverTime+E?(o(e,t,r),void(e._lastHoverTime=Date.now())):void(e._hoverTimer=setTimeout(function(){o(e,t,r),e._lastHoverTime=Date.now(),e._hoverTimer=void 0},E))},k.unhover=function(e,t,r){"string"==typeof e&&(e=document.getElementById(e)),e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),d(e,t,r)},k.getDistanceFunction=function(e,t,r,n){return"closest"===e?n||a(t,r):"x"===e?t:r},k.getClosest=function(e,t,r){if(r.index!==!1)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var n=0;n<e.length;n++){var a=t(e[n]);a<r.distance&&(r.index=n,r.distance=a)}return r},k.loneHover=function(e,t){var r={color:e.color||b.Color.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},n=d3.select(t.container),a=t.outerContainer?d3.select(t.outerContainer):n,o={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||b.Color.background,container:n,outerContainer:a},i=l([r],o);return c(i,o.rotateLabels),i.node()},k.loneUnhover=function(e){var t=e instanceof d3.selection?e:d3.select(e);t.selectAll("g.hovertext").remove()},k.click=function(e,t){e._hoverdata&&t&&t.target&&($(e).trigger("plotly_click",{points:e._hoverdata}),t.stopImmediatePropagation())},k.modeBar=function(e){function t(){var t=new b.ModeBar({buttons:o,container:a._paperdiv.node(),Plotly:b,graphInfo:e});return a._privateplot&&d3.select(t.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),t}function r(){b.Lib.removeElement(e.querySelector(".modebar"))}var n,a=e._fullLayout||{};if(!e._context.displayModeBar)return r();var o=f(a);a._modebar||(r(),a._modebar=t()),n=a._modebar,n.hasButtons(o)||(a._modebar.cleanup(),a._modebar=t())};var I=!0;k.dragAlign=function(e,t,r,n,a){var o=(e-r)/(n-r),i=o+t/(n-r),l=(o+i)/2;return"left"===a||"bottom"===a?o:"center"===a||"middle"===a?l:"right"===a||"top"===a?i:2/3-l>o?o:i>4/3-l?i:l};var j=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];k.dragCursors=function(e,t,r,n){return e="left"===r?0:"center"===r?1:"right"===r?2:b.Lib.constrain(Math.floor(3*e),0,2),t="bottom"===n?0:"middle"===n?1:"top"===n?2:b.Lib.constrain(Math.floor(3*t),0,2),j[t][e]},k.dragElement=function(e){function t(t){var d=document.querySelector(".plugin-editable");return d&&d3.select(d).on("blur").call(d),c._dragged=!1,c._dragging=!0,a=t.clientX,o=t.clientY,s=t.target,i=(new Date).getTime(),i-c._mouseDownTime<k.DBLCLICKDELAY?u+=1:(u=1,c._mouseDownTime=i),e.prepFn&&e.prepFn(t,a,o),l=x(),l.onmousemove=r,l.onmouseup=n,l.onmouseout=n,b.Lib.pauseEvent(t)}function r(t){var r=t.clientX-a,n=t.clientY-o;return Math.abs(r)<k.MINDRAG&&(r=0),Math.abs(n)<k.MINDRAG&&(n=0),(r||n)&&(c._dragged=!0),e.moveFn&&e.moveFn(r,n,c._dragged),b.Lib.pauseEvent(t)}function n(t){if(l.onmousemove=null,l.onmouseup=null,l.onmouseout=null,b.Lib.removeElement(l),!c._dragging)return void(c._dragged=!1);if(c._dragging=!1,(new Date).getTime()-c._mouseDownTime>k.DBLCLICKDELAY&&(u=Math.max(u-1,1)),e.doneFn&&e.doneFn(c._dragged,u),!c._dragged){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),s.dispatchEvent(r)}return y(c),c._dragged=!1,b.Lib.pauseEvent(t)}var a,o,i,l,s,c=b.Lib.getPlotDiv(e.element)||{},u=1;c._mouseDownTime||(c._mouseDownTime=0),e.element.onmousedown=t,e.element.style.pointerEvents="all"},k.setCursor=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)},k.inbox=function(e,t){return 0>e*t||0===e?k.MAXDIST*(.6-.3/Math.max(3,Math.abs(e-t))):1/0}},{"./isnumeric":41,"./plotly":48,tinycolor2:8}],37:[function(e,t){"use strict";function r(e){return"object"==typeof e&&(e=e.type),e}function n(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){console.log(e)}}function a(e,t){e._fullLayout._paperdiv.style("background","white"),n(e,t)}function o(e,t){e._context||(e._context=$.extend({},R.defaultConfig));var r=e._context;t&&(Object.keys(t).forEach(function(e){e in r&&(r[e]="setBackground"===e&&"opaque"===t[e]?a:t[e])}),e._fullLayout&&e._fullLayout._modebar&&delete e._fullLayout._modebar),r.staticPlot&&(r.workspace=!1,r.editable=!1,r.autosizable=!1,r.scrollZoom=!1,r.doubleClick=!1,r.showTips=!1,r.showLink=!1,r.displayModeBar=!1)}function i(e,t){t.text("");var r=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)r.on("click",function(){$(e).trigger("plotly_beforeexport");var t=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",r=$('<div id="hiddenform" style="display:none;"><form action="'+t+'/external" method="post" target="_blank"><input type="text" name="data" /></form></div>').appendTo(e);return r.find("input").val(R.graphJson(e,!1,"keepdata")),r.find("form").submit(),r.remove(),$(e).trigger("plotly_afterexport"),!1});else{var n=window.location.pathname.split("/");r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]})}}function l(e){var t,r,n,a,o,i=e._fullLayout,l=e._fullData,s=R.getSubplotIds(i,"gl3d");for(i._paperdiv.style({width:i.width+"px",height:i.height+"px"}),e._context.setBackground(e,i.paper_bgcolor),t=0;t<s.length;t++)r=s[t],n=R.getSubplotData(l,"gl3d",r),a=i[r]._scene,void 0===a&&(o={container:e.querySelector(".gl-container"),id:r,staticPlot:e._context.staticPlot,plot3dPixelRatio:e._context.plot3dPixelRatio},a=new I.Scene(o,i),i[r]._scene=a),a.plot(n,i,e.layout)}function s(e){var t,r,n,a,o=e._fullLayout,i=e._fullData,l=R.getSubplotIds(o,"geo");for(void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojsons:{}}),t=0;t<l.length;t++)r=l[t],n=R.getSubplotData(i,"geo",r),a=o[r]._geo,void 0===a&&(a=new I.Geo({id:r,container:o._geocontainer.node()},o),o[r]._geo=a),a.plot(n,o)}function c(e,t,r){var n=d3.select(e).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=n.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),t&&(e.data=t),r&&(e.layout=r),I.micropolar.manager.fillLayout(e),"initial"===e._fullLayout.autosize&&e._context.autosizable&&(S(e,{}),e._fullLayout.autosize=r.autosize=!0),a.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=I.micropolar.manager.framework(e),e.framework({data:e.data,layout:e.layout},a.node()),e.framework.setUndoPoint();var o=e.framework.svg(),i=1,l=e._fullLayout.title;""!==l&&l||(i=0);var s="Click to enter title",c=function(){this.call(I.util.convertToTspans)},u=o.select(".title-group text").call(c);if(e._context.editable){u.attr({"data-unformatted":l}),l&&l!==s||(i=.2,u.attr({"data-unformatted":s}).text(s).style({opacity:i}).on("mouseover.opacity",function(){d3.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d3.select(this).transition().duration(1e3).style("opacity",0)}));var d=function(){this.call(I.util.makeEditable).on("edit",function(t){e.framework({layout:{title:t}}),this.attr({"data-unformatted":t}).text(t).call(c),this.call(d)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(c)})};u.call(d),I.ToolPanel.tweakMenu(e)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),R.addLinks(e),Promise.resolve()}function u(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1);var n=I.Axes.list({_fullLayout:e});for(t=0;t<n.length;t++){var a=n[t];a.anchor&&"free"!==a.anchor&&(a.anchor=I.Axes.cleanId(a.anchor)),a.overlaying&&(a.overlaying=I.Axes.cleanId(a.overlaying)),a.type||(a.isdate?a.type="date":a.islog?a.type="log":a.isdate===!1&&a.islog===!1&&(a.type="linear")),("withzero"===a.autorange||"tozero"===a.autorange)&&(a.autorange=!0,a.rangemode="tozero"),delete a.islog,delete a.isdate,delete a.categories,p(a,"domain")&&delete a.domain,void 0!==a.autotick&&(void 0===a.tickmode&&(a.tickmode=a.autotick?"auto":"linear"),delete a.autotick)}void 0===e.annotations||Array.isArray(e.annotations)||(console.log("annotations must be an array"),delete e.annotations);var o=(e.annotations||[]).length;for(t=0;o>t;t++){var i=e.annotations[t];i.ref&&("paper"===i.ref?(i.xref="paper",i.yref="paper"):"data"===i.ref&&(i.xref="x",i.yref="y"),delete i.ref),d(i,"xref"),d(i,"yref")}void 0===e.shapes||Array.isArray(e.shapes)||(console.log("shapes must be an array"),delete e.shapes);var l=(e.shapes||[]).length;for(t=0;l>t;t++){var s=e.shapes[t];d(s,"xref"),d(s,"yref")}var c=e.legend;c&&(c.x>3?(c.x=1.02,c.xanchor="left"):c.x<-2&&(c.x=-.02,c.xanchor="right"),c.y>3?(c.y=1.02,c.yanchor="bottom"):c.y<-2&&(c.y=-.02,c.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var u,f,h,g,m,y,v,x=R.getSubplotIds(e,"gl3d");for(t=0;t<x.length;t++)if(u=e[x[t]],f=u.cameraposition,Array.isArray(f)&&4===f[0].length){for(h=f[0],m=f[1],g=f[2],y=j([],h),v=[],r=0;3>r;++r)v[r]=m[t]+g*y[2+4*r];u.camera={eye:{x:v[0],y:v[1],z:v[2]},center:{x:m[0],y:m[1],z:m[2]},up:{x:y[1],y:y[5],z:y[9]}},delete u.cameraposition}return I.Lib.markTime("finished rest of cleanLayout, starting color"),I.Color.clean(e),I.Lib.markTime("finished cleanLayout color.clean"),e}function d(e,t){var r=e[t],n=t.charAt(0);r&&"paper"!==r&&(e[t]=I.Axes.cleanId(r,n))}function f(e,t){for(var r=[],n=(e.concat(Array.isArray(t)?t:[]).filter(function(e){return"uid"in e}).map(function(e){return e.uid})),a=0;a<e.length;a++){var o=e[a];if(!("uid"in o)||-1!==r.indexOf(o.uid)){var i,l;for(l=0;100>l&&(i=I.Lib.randstr(n),-1!==r.indexOf(i));l++);o.uid=I.Lib.randstr(n),n.push(o.uid)}if(r.push(o.uid),"histogramy"===o.type&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.error_y&&"opacity"in o.error_y){var s=I.Color.defaults,c=o.error_y.color||(R.traceIs(o,"bar")?I.Color.defaultLine:s[a%s.length]);o.error_y.color=I.Color.addOpacity(I.Color.rgb(c),I.Color.opacity(c)*o.error_y.opacity),delete o.error_y.opacity}"bardir"in o&&("h"!==o.bardir||!R.traceIs(o,"bar")&&"histogram"!==o.type.substr(0,9)||(o.orientation="h",L(o)),delete o.bardir),"histogramy"===o.type&&L(o),("histogramx"===o.type||"histogramy"===o.type)&&(o.type="histogram"),"scl"in o&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=I.Axes.cleanId(o.xaxis,"x")),o.yaxis&&(o.yaxis=I.Axes.cleanId(o.yaxis,"y")),o.scene&&(o.scene=I.Gl3dLayout.cleanId(o.scene)),R.traceIs(o,"pie")||(Array.isArray(o.textposition)?o.textposition=o.textposition.map(h):o.textposition&&(o.textposition=h(o.textposition))),p(o,"line")&&delete o.line,"marker"in o&&(p(o.marker,"line")&&delete o.marker.line,p(o,"marker")&&delete o.marker),I.Lib.markTime("finished rest of cleanData, starting color"),I.Color.clean(o),I.Lib.markTime("finished cleanData color.clean")}}function h(e){var t="middle",r="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right"),t+" "+r}function p(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}function g(e){if(e&&e.margin){var t,r=e.width,n=e.height,a=e.margin,o=r-(a.l+a.r),i=n-(a.t+a.b);0>o&&(t=(r-1)/(a.l+a.r),a.l=Math.floor(t*a.l),a.r=Math.floor(t*a.r)),0>i&&(t=(n-1)/(a.t+a.b),a.t=Math.floor(t*a.t),a.b=Math.floor(t*a.b))}}function m(e,t){for(var r,n=R.getSubplotIds(t,"gl3d"),a=0;a<n.length;a++)r=n[a],!e[r]&&t[r]._scene&&t[r]._scene.destroy()}function y(e,t){for(var r,n=Object.keys(t),a=0;a<n.length;++a){var o=n[a];if("_"===o.charAt(0)||"function"==typeof t[o]){if(o in e)continue;e[o]=t[o]}else if(Array.isArray(t[o])&&Array.isArray(e[o])&&t[o].length&&$.isPlainObject(t[o][0])){if(t[o].length!==e[o].length)throw new Error("relinkPrivateKeys needs equal length arrays");for(r=0;r<t[o].length;r++)y(e[o][r],t[o][r])}else $.isPlainObject(t[o])&&$.isPlainObject(e[o])&&(y(e[o],t[o]),Object.keys(e[o]).length||delete e[o])}}function v(e){var t,r,n,a,o=I.Axes.list(e),i=e._fullData,l=e._fullLayout,s=e.calcdata=new Array(i.length);for(e.firstscatter=!0,e.numboxes=0,e._hmpixcount=0,e._hmlumcount=0,l._piecolormap={},l._piedefaultcolorcount=0,t=0;t<o.length;t++)o[t]._categories=[];for(t=0;t<i.length;t++)r=i[t],n=r._module,a=[],n&&r.visible===!0&&n.calc&&(a=n.calc(e,r)),Array.isArray(a)&&a[0]||(a=[{x:!1,y:!1}]),a[0].t||(a[0].t={}),a[0].trace=r,I.Lib.markTime("done with calcdata for "+t),s[t]=a}function x(e,t){var r,n,a=t+1,o=[];for(r=0;r<e.length;r++)n=e[r],o.push(0>n?a+n:n);return o}function b(e,t,r){var n,a;for(n=0;n<t.length;n++){if(a=t[n],a!==parseInt(a,10))throw new Error("all values in "+r+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(a,n+1)>-1||a>=0&&t.indexOf(-e.data.length+a)>-1||0>a&&t.indexOf(e.data.length+a)>-1)throw new Error("each index in "+r+" must be unique.")}}function w(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),b(e,t,"currentIndices"),"undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&b(e,r,"newIndices"),"undefined"!=typeof r&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function _(e,t,r){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n++)if(a=t[n],"object"!=typeof a||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")
}function k(e,t,r,n){var a=$.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!$.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"==typeof r)throw new Error("indices must be an integer or array of integers");b(e,r,"indices");for(var o in t){if(!Array.isArray(t[o])||t[o].length!==r.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(!(!a||o in n&&Array.isArray(n[o])&&n[o].length===t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function A(e,t,r,n){var a,o,i,l,s,c=$.isPlainObject(n),u=[];Array.isArray(r)||(r=[r]),r=x(r,e.data.length-1);for(var d in t)for(var f=0;f<r.length;f++){if(a=e.data[r[f]],i=I.Lib.nestedProperty(a,d),o=i.get(),l=t[d][f],!Array.isArray(l))throw new Error("attribute: "+d+" index: "+f+" must be an array");if(!Array.isArray(o))throw new Error("cannot extend missing or non-array attribute: "+d);s=c?n[d][f]:n,N(s)||(s=-1),u.push({prop:i,target:o,insert:l,maxp:Math.floor(s)})}return u}function M(e,t,r,n,a,o){k(e,t,r,n);for(var i,l,s,c=A(e,t,r,n),u=[],d={},f={},h=0;h<c.length;h++)l=c[h].prop,s=c[h].maxp,i=a(c[h].target,c[h].insert),s>=0&&s<i.length&&(u=o(i,s)),s=c[h].target.length,l.set(i),Array.isArray(d[l.astr])||(d[l.astr]=[]),Array.isArray(f[l.astr])||(f[l.astr]=[]),d[l.astr].push(u),f[l.astr].push(s);return{update:d,maxPoints:f}}function L(e){var t;if(I.Lib.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);I.Lib.swapAttrs(e,["error_?.copy_ystyle"]),n&&I.Lib.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(e.hoverinfo){var a=e.hoverinfo.split("+");for(t=0;t<a.length;t++)"x"===a[t]?a[t]="y":"y"===a[t]&&(a[t]="x");e.hoverinfo=a.join("+")}}function z(e){if(e&&e._context&&e._context.workspace&&e._fullLayout&&"plot"===e.tabtype&&"none"!==$(e).css("display")){var t=$(e).find(".plot-container"),r=e._fullLayout.width>parseInt(t.css("width"),10);e._fullLayout.autosize||!r?t.removeClass("is-fixed-size"):r&&t.addClass("is-fixed-size")}}function C(e){var t,r={left:0,right:0,bottom:0,top:0};if(e)for(t in e)e.hasOwnProperty(t)&&(r.left+=e[t].left||0,r.right+=e[t].right||0,r.bottom+=e[t].bottom||0,r.top+=e[t].top||0);return r}function S(e,t){var r,n,a,o,i=e._fullLayout,l=C(e._boundingBoxMargins);if(e._context.workspace){setFileAndCommentsSize(e);var s=i._container.node().getBoundingClientRect();n=l.left+l.right,r=l.bottom+l.top,o=Math.round(.9*(s.width-n)),a=Math.round(.9*(s.height-r))}else e._context.fillFrame?(o=window.innerWidth,a=window.innerHeight,document.body.style.overflow="hidden"):(a=parseFloat(window.getComputedStyle(e).height)||i.height,o=parseFloat(window.getComputedStyle(e).width)||i.width);return Math.abs(i.width-o)>1||Math.abs(i.height-a)>1?(i.height=e.layout.height=a,i.width=e.layout.width=o):"initial"!==i.autosize&&(delete t.autosize,i.autosize=e.layout.autosize=!0),g(i),t}function P(e){var t;if("string"==typeof e){if(t=document.getElementById(e),null===t)throw new Error("No DOM element with id '"+e+"' exits on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}function O(e){function t(e){e.append("g").classed("maplayer",!0),e.append("g").classed("barlayer",!0),e.append("g").classed("errorlayer",!0),e.append("g").classed("boxlayer",!0),e.append("g").classed("scatterlayer",!0)}var r=d3.select(e),n=I.Axes.getSubplots(e),a=e._fullLayout;a._hasGL3D&&I.Gl3dAxes.initAxes(e);var o=a._fileandcomments=r.selectAll(".file-and-comments");if(o.node()||(o=r),a._container=o.selectAll(".plot-container").data([0]),a._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).classed("workspace-plot",e._context.workspace),a._paperdiv=a._container.selectAll(".svg-container").data([0]),a._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===a.autosize&&(e._context.workspace&&setFileAndCommentsSize(e),S(e,{}),a.autosize=!0,e.layout.autosize=!0),a._glcontainer=a._paperdiv.selectAll(".gl-container").data([0]),a._glcontainer.enter().append("div").classed("gl-container",!0),a._geocontainer=a._paperdiv.selectAll(".geo-container").data([0]),a._geocontainer.enter().append("div").classed("geo-container",!0),a._paperdiv.selectAll(".main-svg").remove(),a._paper=a._paperdiv.insert("svg",":first-child").classed("main-svg",!0),a._toppaper=a._paperdiv.append("svg").classed("main-svg",!0),!a._uid){var i=[];d3.selectAll("defs").each(function(){this.id&&i.push(this.id.split("-")[1])}),a._uid=I.Lib.randstr(i)}a._paperdiv.selectAll(".main-svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink"}),a._defs=a._paper.append("defs").attr("id","defs-"+a._uid),a._draggers=a._paper.append("g").classed("draglayer",!0);var l=[];a._plots={},a._paper.selectAll("g.subplot").data(n).enter().append("g").classed("subplot",!0).each(function(r){var o=a._plots[r]={},i=d3.select(this).classed(r,!0);o.id=r,o.x=function(){return I.Axes.getFromId(e,r,"x")},o.y=function(){return I.Axes.getFromId(e,r,"y")};var s=o.x(),c=o.y();o.overlays=[];var u=I.Axes.getFromId(e,s.overlaying)||s;u!==s&&u.overlaying&&(u=s,s.overlaying=!1);var d=I.Axes.getFromId(e,c.overlaying)||c;d!==c&&d.overlaying&&(d=c,c.overlaying=!1);var f=u._id+d._id;f!==r&&-1!==n.indexOf(f)?(o.mainplot=f,l.push(o),s.domain=u.domain.slice(),c.domain=d.domain.slice()):(o.bg=i.append("rect").style("stroke-width",0),o.gridlayer=i.append("g"),o.overgrid=i.append("g"),o.zerolinelayer=i.append("g"),o.overzero=i.append("g"),o.plot=i.append("svg").call(t),o.overplot=i.append("g"),o.xlines=i.append("path"),o.ylines=i.append("path"),o.overlines=i.append("g"),o.xaxislayer=i.append("g"),o.yaxislayer=i.append("g"),o.overaxes=i.append("g")),o.draglayer=a._draggers.append("g")}),l.forEach(function(e){var r=a._plots[e.mainplot];r.overlays.push(e),e.gridlayer=r.overgrid.append("g"),e.zerolinelayer=r.overzero.append("g"),e.plot=r.overplot.append("svg").call(t),e.xlines=r.overlines.append("path"),e.ylines=r.overlines.append("path"),e.xaxislayer=r.overaxes.append("g"),e.yaxislayer=r.overaxes.append("g")}),n.forEach(function(e){var t=a._plots[e];t.plot.attr("preserveAspectRatio","none").style("fill","none"),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}),a._shapelayer=a._paper.append("g").classed("shapelayer",!0),a._pielayer=a._paper.append("g").classed("pielayer",!0),a._glimages=a._paper.append("g").classed("glimages",!0),a._geoimages=a._paper.append("g").classed("geoimages",!0),a._infolayer=a._toppaper.append("g").classed("infolayer",!0),a._hoverlayer=a._toppaper.append("g").classed("hoverlayer",!0);var s=I.Lib.syncOrAsync([T,function(){return I.Axes.doTicks(e,"redraw")},I.Fx.init],e);return s&&s.then&&e._promises.push(s),s}function D(e){var t=e._fullLayout;t._size||(t._size={}),t._pushmargin||(t._pushmargin={});var r=t._size,n=JSON.stringify(r),a=Math.max(t.margin.l||0,0),o=Math.max(t.margin.r||0,0),i=Math.max(t.margin.t||0,0),l=Math.max(t.margin.b||0,0),s=t._pushmargin;return t.margin.autoexpand!==!1&&(s.base={l:{val:0,size:a},r:{val:1,size:o},t:{val:1,size:i},b:{val:0,size:l}},Object.keys(s).forEach(function(e){var r=s[e].l||{},n=s[e].b||{},c=r.val,u=r.size,d=n.val,f=n.size;Object.keys(s).forEach(function(e){if(N(u)&&s[e].r){var r=s[e].r.val,n=s[e].r.size;if(r>c){var h=(u*r+(n-t.width)*c)/(r-c),p=(n*(1-c)+(u-t.width)*(1-r))/(r-c);h>=0&&p>=0&&h+p>a+o&&(a=h,o=p)}}if(N(f)&&s[e].t){var g=s[e].t.val,m=s[e].t.size;if(g>d){var y=(f*g+(m-t.height)*d)/(g-d),v=(m*(1-d)+(f-t.height)*(1-g))/(g-d);y>=0&&v>=0&&y+v>l+i&&(l=y,i=v)}}})})),r.l=Math.round(a),r.r=Math.round(o),r.t=Math.round(i),r.b=Math.round(l),r.p=Math.round(t.margin.pad),r.w=Math.round(t.width)-r.l-r.r,r.h=Math.round(t.height)-r.t-r.b,e._replotting||"{}"===n||n===JSON.stringify(t._size)?void 0:I.plot(e)}function T(e){return I.Lib.syncOrAsync([D,E],e)}function E(e){var t,r=e._fullLayout,n=r._size,a=I.Axes.list(e);for(t=0;t<a.length;t++)a[t]._linepositions={};r._paperdiv.style({width:r.width+"px",height:r.height+"px"}).selectAll(".main-svg").call(I.Drawing.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor);var o=[];return r._paper.selectAll("g.subplot").each(function(t){var a=r._plots[t],i=I.Axes.getFromId(e,t,"x"),l=I.Axes.getFromId(e,t,"y");i.setScale(),l.setScale(),a.bg&&a.bg.call(I.Drawing.setRect,i._offset-n.p,l._offset-n.p,i._length+2*n.p,l._length+2*n.p).call(I.Color.fill,r.plot_bgcolor),a.plot.call(I.Drawing.setRect,i._offset,l._offset,i._length,l._length);var s=I.Drawing.crispRound(e,i.linewidth,1),c=I.Drawing.crispRound(e,l.linewidth,1),u=n.p+c,d="M"+-u+",",f="h"+(i._length+2*u),h="free"===i.anchor&&-1===o.indexOf(i._id),p=n.h*(1-(i.position||0))+s/2%1,g=i.anchor===l._id&&(i.mirror||"top"!==i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"bottom"],m=l._length+n.p+s/2,y=i.anchor===l._id&&(i.mirror||"top"===i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"top"],v=-n.p-s/2,x=n.p,b=g?0:s,w=y?0:s,_=","+(-x-w)+"v"+(l._length+2*x+w+b),k="free"===l.anchor&&-1===o.indexOf(l._id),A=n.w*(l.position||0)+c/2%1,M=l.anchor===i._id&&(l.mirror||"right"!==l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"left"],L=-n.p-c/2,z=l.anchor===i._id&&(l.mirror||"right"===l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"right"],C=i._length+n.p+c/2;i._linepositions[t]=[g?m:void 0,y?v:void 0,h?p:void 0],i.anchor===l._id?i._linepositions[t][3]="top"===i.side?v:m:h&&(i._linepositions[t][3]=p),l._linepositions[t]=[M?L:void 0,z?C:void 0,k?A:void 0],l.anchor===i._id?l._linepositions[t][3]="right"===l.side?C:L:k&&(l._linepositions[t][3]=A);var S="translate("+i._offset+","+l._offset+")",P=S,O=S;h&&(P="translate("+i._offset+","+n.t+")",v+=l._offset-n.t,m+=l._offset-n.t),k&&(O="translate("+n.l+","+l._offset+")",L+=i._offset-n.l,C+=i._offset-n.l),a.xlines.attr("transform",P).attr("d",(g?d+m+f:"")+(y?d+v+f:"")+(h?d+p+f:"")||"M0,0").style("stroke-width",s+"px").call(I.Color.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)"),a.ylines.attr("transform",O).attr("d",(M?"M"+L+_:"")+(z?"M"+C+_:"")+(k?"M"+A+_:"")||"M0,0").attr("stroke-width",c+"px").call(I.Color.stroke,l.showline?l.linecolor:"rgba(0,0,0,0)"),a.xaxislayer.attr("transform",P),a.yaxislayer.attr("transform",O),a.gridlayer.attr("transform",S),a.zerolinelayer.attr("transform",S),a.draglayer.attr("transform",S),h&&o.push(i._id),k&&o.push(l._id)}),I.Axes.makeClipPaths(e),R.titles(e,"gtitle"),I.Fx.modeBar(e),z(e),e._promises.length&&Promise.all(e._promises)}var I=e("./plotly"),j=e("gl-mat4/fromQuat"),N=e("./isnumeric"),R=t.exports={},B=R.modules={},F=R.allTypes=[],H=R.allCategories={};R.register=function(e,t,r){if(B[t])throw new Error("type "+t+" already registered");for(var n={},a=0;a<r.length;a++)n[r[a]]=!0,H[r[a]]=!0;B[t]={module:e,categories:n},F.push(t)},R.getModule=function(e){if(void 0!==e.r)return console.log("Oops, tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",e),!1;var t=B[r(e)];return t?t.module:!1},R.traceIs=function(e,t){if(e=r(e),"various"===e)return!1;var n=B[e];return n||(void 0!==e&&console.warn("unrecognized trace type "+e),n=B[R.attributes.type.dflt]),!!n.categories[t]},R.subplotsRegistry={gl3d:{attr:"scene",idRegex:/^scene[0-9]*$/},geo:{attr:"geo",idRegex:/^geo[0-9]*$/}},R.getSubplotIds=function(e,t){for(var r,n=R.subplotsRegistry[t].idRegex,a=Object.keys(e),o=[],i=0;i<a.length;i++)r=a[i],n.test(r)&&o.push(r);return o},R.getSubplotIdsInData=function(e,t){for(var r,n=R.subplotsRegistry[t].attr,a=[],o=0;o<e.length;o++)r=e[o],I.Plots.traceIs(r,t)&&-1===a.indexOf(r[n])&&a.push(r[n]);return a},R.getSubplotData=function(e,t,r){for(var n,a=R.subplotsRegistry[t].attr,o=[],i=0;i<e.length;i++)n=e[i],n[a]===r&&o.push(n);return o},R.newTab=function(e,t){I.ToolPanel.makeMenu(document.getElementById(e));var r={workspace:!0,editable:!0,autosizable:!0,scrollZoom:!0,showLink:!1,setBackground:"opaque"};return I.plot(e,[],t,r)},R.redrawText=function(e){return e=P(e),e._fullLayout._hasGL3D||e.data&&e.data[0]&&e.data[0].r?void 0:new Promise(function(t){setTimeout(function(){I.Annotations.drawAll(e),I.Legend.draw(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(R.previousPromises(e))},300)})},R.defaultConfig={staticPlot:!1,workspace:!1,editable:!1,autosizable:!1,fillFrame:!1,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showLink:!0,sendData:!0,linkText:"Edit chart",displayModeBar:"hover",displaylogo:!0,plot3dPixelRatio:2,setBackground:n},R.addLinks=function(e){var t=e._fullLayout,r=t._paper.selectAll("text.js-plot-link-container").data([0]);r.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans",Arial,sans-serif',"font-size":"12px",fill:I.Color.defaultLine,"pointer-events":"all"}).each(function(){var e=d3.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)});var n=r.node(),a={y:t._paper.attr("height")-9};n&&n.offsetParent&&n.getComputedTextLength()>=t.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=t._paper.attr("width")-7),r.attr(a);var o=r.select(".js-link-to-tool"),l=r.select(".js-link-spacer"),s=r.select(".js-sourcelinks");I.Lib.showSources(e),e._context.showLink&&i(e,o),l.text(o.text()&&s.text()?" - ":"")},R.adjustReservedMargins=function(e,t,r){var n;return e._boundingBoxMargins=e._boundingBoxMargins||{},e._boundingBoxMargins[t]={},["left","right","top","bottom"].forEach(function(a){n=r[a]||0,e._boundingBoxMargins[t][a]=n}),e._boundingBoxMargins},I.plot=function(e,t,r,n){function a(){var t,r,n,a=e.calcdata;for(I.Legend.draw(e),t=0;t<a.length;t++)r=a[t],n=r[0].trace,n.visible===!0&&n._module.colorbar?n._module.colorbar(e,r):R.autoMargin(e,"cb"+n.uid);return D(e),R.previousPromises(e)}function i(){var t=JSON.stringify(k._size)===L?[]:[a,T];return I.Lib.syncOrAsync(t.concat(I.Fx.init),e)}function d(){var t,r,n,a,o,i;if(A){for(n=I.Axes.getSubplots(e),o=e._modules,t=0;t<n.length;t++)for(a=e._fullLayout._plots[n[t]],r=0;r<o.length;r++)i=o[r],i.setPositions&&i.setPositions(e,a);return I.Lib.markTime("done with bar/box adjustments"),I.ErrorBars&&(I.ErrorBars.calc(e),I.Lib.markTime("done Plotly.ErrorBars.calc")),I.Lib.syncOrAsync([I.Shapes.calcAutorange,I.Annotations.calcAutorange,h],e)}}function h(){for(var t=I.Axes.list(e,"",!0),r=0;r<t.length;r++)I.Axes.doAutoRange(t[r])}function p(){return I.Axes.doTicks(e,"redraw")}function g(){function t(e,t){var r,n,a,o=[];for(r=0;r<e.length;r++)n=e[r],a=n[0].trace,a.xaxis+a.yaxis===t&&o.push(n);return o}function r(e,t){var r,n,a,o=[];for(r=0;r<e.length;r++)n=e[r],a=n[0].trace,a._module===t&&a.visible===!0&&o.push(n);return o}var n,a,o,i,c,u,d,f,h,p,g,m=e.calcdata,y=I.Axes.getSubplots(e),v=e._modules;for(e._fullLayout._hasGL3D&&l(e),e._fullLayout._hasGeo&&s(e),n=0;n<m.length;n++)o=m[n],i=o[0].trace,i.visible===!0&&i._module.colorbar||(c=i.uid,k._paper.selectAll(".hm"+c+",.contour"+c+",.cb"+c+",#clip"+c).remove());for(n=0;n<y.length;n++){for(u=y[n],d=e._fullLayout._plots[u],f=t(m,u),h=[],d.plot.selectAll("g.trace").remove(),a=0;a<v.length;a++){if(g=v[a],!g.plot)return;p=r(f,g),g.plot(e,d,p),I.Lib.markTime("done "+(p[0]&&p[0][0].trace.type)),p[0]&&p[0][0].trace&&R.traceIs(p[0][0].trace,"errorBarsOK")&&(h=h.concat(p))}I.ErrorBars&&(I.ErrorBars.plot(e,d,h),I.Lib.markTime("done ErrorBars"))}var x=r(m,I.Pie);return x.length&&I.Pie.plot(e,x),R.style(e),I.Lib.markTime("done plots.style"),I.Shapes.drawAll(e),I.Annotations.drawAll(e),R.addLinks(e),R.previousPromises(e)}function m(){e._replotting=!1,I.Lib.markTime("done plot"),$(e).trigger("plotly_afterplot")}I.Lib.markTime("in plot"),e=P(e);var y=$(e).triggerHandler("plotly_beforeplot",[t,r,n]);if(y!==!1){t||r||I.Lib.isPlotDiv(e)||console.log("Warning: calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),o(e,n),r||(r={}),d3.select(e).classed("js-plotly-plot",!0),I.Drawing.makeTester(e),e._promises=[];var x=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(f(t,e.data),x?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),(!e.layout||x)&&(e.layout=u(r)),e._dragging)return void(e._replotPending=!0);if(e._replotPending=!1,R.supplyDefaults(e),t&&t[0]&&t[0].r)return c(e,t,r);e._context.editable&&I.ToolPanel.tweakMenu(e),e._replotting=!0;var b=e._fullData.length>0;if(b){var w=I.Axes.getSubplots(e).join(""),_=Object.keys(e._fullLayout._plots||{}).join("");(e.framework!==O||x||_!==w)&&(e.framework=O,O(e))}else x&&O(e);$(e).find(".data-only").attr("disabled",!b);var k=e._fullLayout,A=!e.calcdata||e.calcdata.length!==(e.data||[]).length;A&&(v(e),(e._context.doubleClick!==!1||e._context.displayModeBar!==!1)&&I.Axes.saveRangeInitial(e));for(var M=0;M<e.calcdata.length;M++)e.calcdata[M][0].trace=e._fullData[M];var L=JSON.stringify(k._size),z=I.Lib.syncOrAsync([R.previousPromises,a,T,i,d,p,g],e,m);return z&&z.then?z:Promise.resolve()}},R.previousPromises=function(e){return(e._promises||[]).length?Promise.all(e._promises).then(function(){e._promises=[]}):void 0},I.redraw=function(e){return e=P(e),I.Lib.isPlotDiv(e)?(e.calcdata=void 0,I.plot(e).then(function(){$(e).trigger("plotly_redraw")})):void console.log("This element is not a Plotly Plot",e)},I.newPlot=function(e,t,r,n){e=P(e),I.Plots.purge(e),I.plot(e,t,r,n)},R.attributes={type:{type:"enumerated",values:F,dflt:"scatter"},visible:{type:"enumerated",values:[!0,!1,"legendonly"],dflt:!0},showlegend:{type:"boolean",dflt:!0},legendgroup:{type:"string",dflt:""},opacity:{type:"number",min:0,max:1,dflt:1},name:{type:"string"},xaxis:{type:"axisid",dflt:"x"},yaxis:{type:"axisid",dflt:"y"},scene:{type:"sceneid",dflt:"scene"},geo:{type:"geoid",dflt:"geo"},uid:{type:"string",dflt:""},hoverinfo:{type:"flaglist",flags:["x","y","z","text","name"],extras:["all","none"],dflt:"all"}},R.supplyDefaults=function(e){var t,r,n,a,o,i,l=e._fullLayout||{},s=e._fullLayout={},c=e.layout||{},u=e._fullData||[],d=e._fullData=[],f=e.data||[],h=e._modules=[];for(R.supplyLayoutGlobalDefaults(c,s),t=0;t<f.length;t++)r=f[t],n=R.supplyDataDefaults(r,t,s),d.push(n),R.traceIs(n,"cartesian")?s._hasCartesian=!0:R.traceIs(n,"gl3d")?s._hasGL3D=!0:R.traceIs(n,"geo")?s._hasGeo=!0:R.traceIs(n,"pie")?s._hasPie=!0:"r"in n&&(s._hasPolar=!0),a=n._module,a&&-1===h.indexOf(a)&&h.push(a);for(t=0;t<h.length;t++)a=h[t],a.cleanData&&a.cleanData(d);if(u.length===f.length)for(t=0;t<d.length;t++)y(d[t],u[t]);for(R.supplyLayoutModuleDefaults(c,s,d),m(s,l),y(s,l),D(e),o=I.Axes.list(e),t=0;t<o.length;t++)i=o[t],i._td=e,i.setScale();if((e.calcdata||[]).length===d.length)for(t=0;t<d.length;t++)r=d[t],(e.calcdata[t][0]||{}).trace=r},R.supplyDataDefaults=function(e,t,r){function n(t,r){return I.Lib.coerce(e,a,R.attributes,t,r)}var a={},o=I.Color.defaults[t%I.Color.defaults.length];a.index=t;var i,l,s=n("visible");return n("type"),n("uid"),R.traceIs(a,"gl3d")&&(i=n("scene")),R.traceIs(a,"geo")&&(i=n("geo")),(s||i)&&(l=R.getModule(a),a._module=l),l&&s&&l.supplyDefaults(e,a,o,r),s&&(n("name","trace "+t),R.traceIs(a,"pie")||n("hoverinfo"),R.traceIs(a,"noOpacity")||n("opacity"),R.traceIs(a,"cartesian")&&(n("xaxis"),n("yaxis")),R.traceIs(a,"showLegend")&&(n("showlegend"),n("legendgroup"))),a._input=e,a},R.layoutAttributes={font:{type:"font",dflt:{family:'"Open sans", verdana, arial, sans-serif',size:12,color:I.Color.defaultLine}},title:{type:"string",dflt:"Click to enter Plot title"},titlefont:{type:"font"},autosize:{type:"enumerated",values:[!0,!1,"initial"]},width:{type:"number",min:10,dflt:700},height:{type:"number",min:10,dflt:450},margin:{l:{type:"number",min:0,dflt:80},r:{type:"number",min:0,dflt:80},t:{type:"number",min:0,dflt:100},b:{type:"number",min:0,dflt:80},pad:{type:"number",min:0,dflt:0},autoexpand:{type:"boolean",dflt:!0}},paper_bgcolor:{type:"color",dflt:I.Color.background},plot_bgcolor:{type:"color",dflt:I.Color.background},separators:{type:"string",dflt:".,"},hidesources:{type:"boolean",dflt:!1},smith:{type:"enumerated",values:[!1],dflt:!1},showlegend:{type:"boolean"},_hasCartesian:{type:"boolean",dflt:!1},_hasGL3D:{type:"boolean",dflt:!1},_hasGeo:{type:"boolean",dflt:!1},_hasPie:{type:"boolean",dflt:!1},_composedModules:{"*":"Fx"},_nestedModules:{xaxis:"Axes",yaxis:"Axes",scene:"Gl3dLayout",geo:"GeoLayout",legend:"Legend",annotations:"Annotations",shapes:"Shapes"}},R.supplyLayoutGlobalDefaults=function(e,t){function r(r,n){return I.Lib.coerce(e,t,R.layoutAttributes,r,n)}var n=r("font");r("title"),r("titlefont",{family:n.family,size:Math.round(1.4*n.size),color:n.color});var a=r("autosize",e.width&&e.height?!1:"initial");r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),"initial"!==a&&g(t),r("paper_bgcolor"),r("separators"),r("hidesources"),r("smith"),r("_hasCartesian"),r("_hasGL3D"),r("_hasGeo"),r("_hasPie")},R.supplyLayoutModuleDefaults=function(e,t,r){var n,a,o=["Axes","Annotations","Shapes","Fx","Bars","Boxes","Gl3dLayout","GeoLayout","Pie","Legend"];for(n=0;n<o.length;n++)a=o[n],I[a]&&I[a].supplyLayoutDefaults(e,t,r)},R.purge=function(e){delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._modules,delete e._tester,delete e._testref,delete e._promises,delete e._redrawTimer,delete e._replotting,delete e.firstscatter,delete e.hmlumcount,delete e.hmpixcount,delete e.numboxes,delete e._hoverTimer,delete e._lastHoverTime},R.style=function(e){var t,r,n=I.ErrorBars?e._modules.concat(I.ErrorBars):e._modules;for(t=0;t<n.length;t++)r=n[t],r.style&&r.style(e)},I.extendTraces=function e(t,r,n,a){t=P(t);var o=M(t,r,n,a,function(e,t){return e.concat(t)},function(e,t){return e.splice(0,e.length-t)});I.redraw(t);var i=[t,o.update,n,o.maxPoints];I.Queue&&I.Queue.add(t,I.prependTraces,i,e,arguments)},I.prependTraces=function e(t,r,n,a){t=P(t);var o=M(t,r,n,a,function(e,t){return t.concat(e)},function(e,t){return e.splice(t,e.length)});I.redraw(t);var i=[t,o.update,n,o.maxPoints];I.Queue&&I.Queue.add(t,I.extendTraces,i,e,arguments)},I.addTraces=function e(t,r,n){t=P(t);var a,o=[],i=I.deleteTraces,l=e,s=[t,o],c=[t,r];for(_(t,r,n),Array.isArray(r)||(r=[r]),a=0;a<r.length;a+=1)t.data.push(r[a]);for(a=0;a<r.length;a++)o.push(-r.length+a);if("undefined"==typeof n)return I.redraw(t),void(I.Queue&&I.Queue.add(t,i,s,l,c));Array.isArray(n)||(n=[n]);try{w(t,o,n)}catch(e){throw t.data.splice(t.data.length-r.length,r.length),e}I.Queue&&I.Queue.startSequence(t),I.Queue&&I.Queue.add(t,i,s,l,c),I.moveTraces(t,o,n),I.Queue&&I.Queue.stopSequence(t)},I.deleteTraces=function e(t,r){t=P(t);var n,a,o=[],i=I.addTraces,l=e,s=[t,o,r],c=[t,r];if("undefined"==typeof r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),b(t,r,"indices"),r=x(r,t.data.length-1),r.sort().reverse(),n=0;n<r.length;n+=1)a=t.data.splice(r[n],1)[0],o.push(a);I.redraw(t),I.Queue&&I.Queue.add(t,i,s,l,c)},I.moveTraces=function e(t,r,n){t=P(t);var a,o=[],i=[],l=e,s=e,c=[t,n,r],u=[t,r,n];if(w(t,r,n),r=Array.isArray(r)?r:[r],"undefined"==typeof n)for(n=[],a=0;a<r.length;a++)n.push(-r.length+a);for(n=Array.isArray(n)?n:[n],r=x(r,t.data.length-1),n=x(n,t.data.length-1),a=0;a<t.data.length;a++)-1===r.indexOf(a)&&o.push(t.data[a]);for(a=0;a<r.length;a++)i.push({newIndex:n[a],trace:t.data[r[a]]});for(i.sort(function(e,t){return e.newIndex-t.newIndex}),a=0;a<i.length;a+=1)o.splice(i[a].newIndex,0,i[a].trace);t.data=o,I.redraw(t),I.Queue&&I.Queue.add(t,l,c,s,u)},I.restyle=function e(t,r,n,a){function o(){return a.map(function(){return void 0})}function i(e){var t=I.Axes.id2name(e);-1===p.indexOf(t)&&p.push(t)}function l(e){return"LAYOUT"+e+".autorange"}function s(e){return"LAYOUT"+e+".range"}function c(e,r,n){if(Array.isArray(e))return void e.forEach(function(e){c(e,r,n)});if(!(e in f)){var i;i="LAYOUT"===e.substr(0,6)?I.Lib.nestedProperty(t.layout,e.replace("LAYOUT","")):I.Lib.nestedProperty(t.data[a[n]],e),e in M||(M[e]=o()),void 0===M[e][n]&&(M[e][n]=i.get()),void 0!==r&&i.set(r)}}t=P(t);var u,d=t._fullLayout,f={};if("string"==typeof r)f[r]=n;else{if(!$.isPlainObject(r))return void console.log("restyle fail",r,n,a);f=r,void 0===a&&(a=n)}Object.keys(f).length&&(t.changed=!0),N(a)?a=[a]:Array.isArray(a)&&a.length||(a=t._fullData.map(function(e,t){return t}));var h=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull"];for(u=0;u<a.length;u++)if(R.traceIs(t._fullData[a[u]],"box")){h.push("name");break}var p,g=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],m=["zmin","zmax","zauto","marker.cmin","marker.cmax","marker.cauto","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],y=["type","x","y","x0","y0","orientation","xaxis","yaxis"],v=!1,x=!1,b=!1,w=!1,_=!1,k=!1,A={},M={},z={};(d._hasGL3D||d._hasGeo)&&(b=!0);var C=["zmin","zmax"],S=["xbins.start","xbins.end","xbins.size"],O=["ybins.start","ybins.end","ybins.size"],D=["contours.start","contours.end","contours.size"];for(var T in f){var E,j,B,F,H,V=f[T];if(A[T]=V,"LAYOUT"!==T.substr(0,6)){for(M[T]=o(),u=0;u<a.length;u++){if(E=t.data[a[u]],j=t._fullData[a[u]],B=I.Lib.nestedProperty(E,T),F=B.get(),H=Array.isArray(V)?V[u%V.length]:V,-1!==C.indexOf(T))c("zauto",!1,u);else if("colorscale"===T)c("autocolorscale",!1,u);else if("autocolorscale"===T)c("colorscale",void 0,u);else if("marker.colorscale"===T)c("marker.autocolorscale",!1,u);else if("marker.autocolorscale"===T)c("marker.colorscale",void 0,u);else if("zauto"===T)c(C,void 0,u);else if(-1!==S.indexOf(T))c("autobinx",!1,u);else if("autobinx"===T)c(S,void 0,u);else if(-1!==O.indexOf(T))c("autobiny",!1,u);else if("autobiny"===T)c(O,void 0,u);else if(-1!==D.indexOf(T))c("autocontour",!1,u);else if("autocontour"===T)c(D,void 0,u);else if(-1!==["x0","dx"].indexOf(T)&&j.x&&"scaled"!==j.xtype)c("xtype","scaled",u);else if(-1!==["y0","dy"].indexOf(T)&&j.y&&"scaled"!==j.ytype)c("ytype","scaled",u);else if("colorbar.thicknessmode"===T&&B.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&j.colorbar){var q=-1!==["top","bottom"].indexOf(j.colorbar.orient)?d.height-d.margin.t-d.margin.b:d.width-d.margin.l-d.margin.r;c("colorbar.thickness",j.colorbar.thickness*("fraction"===H?1/q:q),u)}else if("colorbar.lenmode"===T&&B.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&j.colorbar){var G=-1!==["top","bottom"].indexOf(j.colorbar.orient)?d.width-d.margin.l-d.margin.r:d.height-d.margin.t-d.margin.b;c("colorbar.len",j.colorbar.len*("fraction"===H?1/G:G),u)}else"colorbar.tick0"===T||"colorbar.dtick"===T?c("colorbar.tickmode","linear",u):"colorbar.tickmode"===T&&c(["colorbar.tick0","colorbar.dtick"],void 0,u);if("type"===T&&"pie"===H!=("pie"===F)){var Z="x",U="y";"bar"!==H&&"bar"!==F||"h"!==E.orientation||(Z="y",U="x"),I.Lib.swapAttrs(E,["?","?src"],"labels",Z),I.Lib.swapAttrs(E,["d?","?0"],"label",Z),I.Lib.swapAttrs(E,["?","?src"],"values",U),"pie"===F?d._pielayer.selectAll("g.trace").remove():R.traceIs(E,"cartesian")&&(z[E.xaxis||"x"]=!0,z[E.yaxis||"y"]=!0)}M[T][u]=F;var Y=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==Y.indexOf(T)){if("orientation"===T){if(B.set(H),B.get()===M[T][u])continue}else"orientationaxes"===T&&(E.orientation={v:"h",h:"v"}[j.orientation]);L(E)}else B.set(H)}if(-1!==["swapxyaxes","orientationaxes"].indexOf(T)&&I.Axes.swap(t,a),"orientationaxes"===T){var X=I.Lib.nestedProperty(t.layout,"hovermode");"x"===X.get()?X.set("y"):"y"===X.get()&&X.set("x")}if(-1!==a.indexOf(0)&&-1!==y.indexOf(T)&&(I.Axes.clearTypes(t,a),v=!0),(-1===["autobinx","autobiny","zauto"].indexOf(T)||H!==!1)&&(_=!0),(-1!==["colorbar","line"].indexOf(B.parts[0])||"marker"===B.parts[0]&&"colorbar"===B.parts[1])&&(k=!0),-1!==h.indexOf(T)){if(-1!==["orientation","type"].indexOf(T)){for(p=[],u=0;u<a.length;u++){var J=t.data[a[u]];R.traceIs(J,"cartesian")&&(i(J.xaxis||"x"),i(J.yaxis||"y"),"type"===r&&c(["autobinx","autobiny"],!0,u))}c(p.map(l),!0,0),c(p.map(s),[0,1],0)}v=!0}else-1!==m.indexOf(T)?b=!0:-1!==g.indexOf(T)&&(x=!0)}else B=I.Lib.nestedProperty(t.layout,T.replace("LAYOUT","")),M[T]=[B.get()],B.set(Array.isArray(V)?V[0]:V),v=!0}var K=Object.keys(z);e:for(u=0;u<K.length;u++){for(var Q=K[u],W=Q.charAt(0),et=W+"axis",tt=0;tt<t.data.length;tt++)if(R.traceIs(t.data[tt],"cartesian")&&(t.data[tt][et]||W)===Q)continue e;c("LAYOUT"+I.Axes.id2name(Q),null,0)}I.Queue&&I.Queue.add(t,e,[t,M,a],e,[t,A,a]);var rt=!1;I.Axes.list(t).forEach(function(e){e.autorange&&(rt=!0)}),(v||w||x&&rt)&&(t.calcdata=void 0);var nt;w?nt=[function(){var e=t.layout;return t.layout=void 0,I.plot(t,"",e)}]:v||b||x?nt=[I.plot]:(R.supplyDefaults(t),nt=[R.previousPromises],_&&nt.push(function(){var e,r,n;for(e=0;e<t.calcdata.length;e++)r=t.calcdata[e],n=(((r[0]||{}).trace||{})._module||{}).arraysToCalcdata,n&&n(r);return R.style(t),I.Legend.draw(t),R.previousPromises(t)}),k&&nt.push(function(){return t.calcdata.forEach(function(e){if((e[0].t||{}).cb){var t=e[0].trace,r=e[0].t.cb;R.traceIs(t,"contour")&&r.line({width:t.contours.showlines!==!1?t.line.width:0,dash:t.line.dash,color:"line"===t.contours.coloring?r._opts.line.color:t.line.color}),R.traceIs(t,"markerColorscale")?r.options(t.marker.colorbar)():r.options(t.colorbar)()}}),R.previousPromises(t)}));var at=I.Lib.syncOrAsync(nt,t);return at&&at.then||(at=Promise.resolve()),at.then(function(){$(t).trigger("plotly_restyle",$.extend(!0,[],[A,a]))})},I.relayout=function e(t,r,n){function a(e,t){if(Array.isArray(e))return void e.forEach(function(e){a(e,t)});if(!(e in h)){var r=I.Lib.nestedProperty(f,e);e in A||(A[e]=r.get()),void 0!==t&&r.set(t)}}function o(e,r){var n=I.Axes.id2name(e[r+"ref"]||r);return(t._fullLayout[n]||{}).autorange}if(t=P(t),!t.framework||!t.framework.isPolar){var i,l,s,c,u,d,f=t.layout,h={},p=!1,g=!1,m=!1,y=!1,v=!1,x=!1,b=!1;if("string"==typeof r)h[r]=n;else{if(!$.isPlainObject(r))return void console.log("relayout fail",r,n);h=r}Object.keys(h).length&&(t.changed=!0),s=Object.keys(h),l=I.Axes.list(t);for(var w=0;w<s.length;w++){if(0===s[w].indexOf("allaxes")){for(var _=0;_<l.length;_++)u=l[_]._id.substr(1),d=-1!==u.indexOf("scene")?u+".":"",i=s[w].replace("allaxes",d+l[_]._name),h[i]||(h[i]=h[s[w]]);
delete h[s[w]]}s[w].match(/^annotations\[[0-9-]+\].ref$/)&&(c=h[s[w]].split("y"),h[s[w].replace("ref","xref")]=c[0],h[s[w].replace("ref","yref")]=2===c.length?"y"+c[1]:"paper",delete h[s[w]])}var k={},A={},M=["height","width"];for(var L in h){var z=I.Lib.nestedProperty(f,L),C=h[L],O=z.parts.length,D="string"==typeof z.parts[O-1]?O-1:O-2,E=z.parts[D],j=z.parts[D-1]+"."+E,N=z.parts.slice(0,D).join("."),B=I.Lib.nestedProperty(t.layout,N).get(),F=I.Lib.nestedProperty(t._fullLayout,N).get();if(k[L]=C,A[L]="reverse"===E?C:z.get(),-1!==M.indexOf(L)?a("autosize",!1):"autosize"===L?a(M,void 0):j.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?a(N+".autorange",!1):j.match(/^[xyz]axis[0-9]*\.autorange$/)?a([N+".range[0]",N+".range[1]"],void 0):j.match(/^aspectratio\.[xyz]$/)?a(z.parts[0]+".aspectmode","manual"):j.match(/^aspectmode$/)?a([N+".x",N+".y",N+".z"],void 0):"tick0"===E||"dtick"===E?a(N+".tickmode","linear"):"tickmode"===E&&a([N+".tick0",N+".dtick"],void 0),"type"===E&&"log"===F.type!=("log"===C)){var H=B;if(H&&H.range)if(F.autorange)"log"===C&&(H.range=H.range[1]>H.range[0]?[1,2]:[2,1]);else{var V=H.range[0],q=H.range[1];"log"===C?(0>=V&&0>=q&&a(N+".autorange",!0),0>=V?V=q/1e6:0>=q&&(q=V/1e6),a(N+".range[0]",Math.log(V)/Math.LN10),a(N+".range[1]",Math.log(q)/Math.LN10)):(a(N+".range[0]",Math.pow(10,V)),a(N+".range[1]",Math.pow(10,q)))}else a(N+".autorange",!0)}if("reverse"===E)B.range?B.range.reverse():(a(N+".autorange",!0),B.range=[1,0]),F.autorange?v=!0:y=!0;else if("annotations"===z.parts[0]||"shapes"===z.parts[0]){var G=z.parts[1],Z=z.parts[0],U=f[Z]||[],Y=I[I.Lib.titleCase(Z)],X=U[G]||{};2===z.parts.length&&("add"===h[L]||$.isPlainObject(h[L])?A[L]="remove":"remove"===h[L]?-1===G?(A[Z]=U,delete A[L]):A[L]=X:console.log("???",h)),!o(X,"x")&&!o(X,"y")||I.Lib.containsAny(L,["color","opacity","align","dash"])||(v=!0),Y.draw(t,G,z.parts.slice(2).join("."),h[L]),delete h[L]}else 0===z.parts[0].indexOf("scene")?y=!0:0===z.parts[0].indexOf("geo")?y=!0:"hiddenlabels"===L?v=!0:-1!==z.parts[0].indexOf("legend")?p=!0:-1!==L.indexOf("title")?g=!0:-1!==z.parts[0].indexOf("bgcolor")?m=!0:z.parts.length>1&&I.Lib.containsAny(z.parts[1],["tick","exponent","grid","zeroline"])?g=!0:-1!==L.indexOf(".linewidth")&&-1!==L.indexOf("axis")?g=m=!0:z.parts.length>1&&-1!==z.parts[1].indexOf("line")?m=!0:z.parts.length>1&&"mirror"===z.parts[1]?g=m=!0:"margin.pad"===L?g=m=!0:"margin"===z.parts[0]||"autorange"===z.parts[1]||"rangemode"===z.parts[1]||"type"===z.parts[1]||"domain"===z.parts[1]||L.match(/^(bar|box|font)/)?v=!0:"hovermode"===L?x=!0:"dragmode"===L?b=!0:-1===["hovermode","dragmode","height","width","autosize"].indexOf(L)&&(y=!0),z.set(C)}I.Queue&&I.Queue.add(t,e,[t,A],e,[t,k]),h.autosize&&(h=S(t,h)),(h.height||h.width||h.autosize)&&(v=!0);var J=Object.keys(h),K=[R.previousPromises];if(y||v)K.push(function(){return t.layout=void 0,v&&(t.calcdata=void 0),I.plot(t,"",f)});else if(J.length){R.supplyDefaults(t),p&&K.push(function(){return I.Legend.draw(t),R.previousPromises(t)}),m&&K.push(T),g&&K.push(function(){return I.Axes.doTicks(t,"redraw"),R.titles(t,"gtitle"),R.previousPromises(t)}),x&&I.Fx.modeBar(t);var Q;if(b)for(Q=R.getSubplotIds(t._fullLayout,"gl3d"),w=0;w<Q.length;w++)u=t._fullLayout[Q[w]]._scene,u.handleDragmode(t._fullLayout.dragmode)}var W=I.Lib.syncOrAsync(K,t);return W&&W.then||(W=Promise.resolve()),W.then(function(){$(t).trigger("plotly_relayout",$.extend(!0,{},k))})}},R.resize=function(e){e=P(e),e._context.workspace&&setFileAndCommentsSize(e),e&&"none"!==$(e).css("display")&&(e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if((e._fullLayout||{}).autosize){var t=e.changed;e.autoplay=!0,I.relayout(e,{autosize:!0}),e.changed=t}},100)),z(e)},R.autoMargin=function(e,t,r){var n=e._fullLayout;if(n._pushmargin||(n._pushmargin={}),n.margin.autoexpand!==!1){if(r){var a=r.pad||12;r.l+r.r>.5*n.width&&(r.l=r.r=0),r.b+r.t>.5*n.height&&(r.b=r.t=0),n._pushmargin[t]={l:{val:r.x,size:r.l+a},r:{val:r.x,size:r.r+a},b:{val:r.y,size:r.b+a},t:{val:r.y,size:r.t+a}}}else delete n._pushmargin[t];e._replotting||D(e)}},R.titles=function(e,t){function r(e){I.Lib.syncOrAsync([n,a],e)}function n(t){return t.attr("transform",A?"rotate("+[A.rotate,s.x,s.y]+") translate(0, "+A.offset+")":null),t.style({"font-family":w,"font-size":d3.round(_,2)+"px",fill:I.Color.rgb(k),opacity:C*I.Color.opacity(k)}).attr(s).call(I.util.convertToTspans).attr(s),t.selectAll("tspan.line").attr(s),R.previousPromises(e)}function a(e){var t=d3.select(e.node().parentNode);if(L&&L.selection&&L.side&&O){t.attr("transform",null);var r=0,n={left:"right",right:"left",top:"bottom",bottom:"top"}[L.side],a=-1!==["left","top"].indexOf(L.side)?-1:1,o=N(L.pad)?L.pad:2,i=I.Drawing.bBox(t.node()),l={left:0,top:0,right:c.width,bottom:c.height},s=f?c.width:(l[L.side]-i[L.side])*("left"===L.side||"top"===L.side?-1:1);if(0>s?r=s:(i.left-=L.offsetLeft,i.right-=L.offsetLeft,i.top-=L.offsetTop,i.bottom-=L.offsetTop,L.selection.each(function(){var e=I.Drawing.bBox(this);I.Lib.bBoxIntersect(i,e,o)&&(r=Math.max(r,a*(e[L.side]-i[n])+o))}),r=Math.min(s,r)),r>0||0>s){var u={left:[-r,0],right:[r,0],top:[0,-r],bottom:[0,r]}[L.side];t.attr("transform","translate("+u+")")}}}function o(){C=0,S=!0,O=j,c._infolayer.select("."+t).attr({"data-unformatted":O}).text(O).on("mouseover.opacity",function(){d3.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d3.select(this).transition().duration(1e3).style("opacity",0)})}if(e=P(e),!t)return I.Axes.listIds(e).forEach(function(t){R.titles(e,t+"title")}),void R.titles(e,"gtitle");var i,l,s,c=e._fullLayout,u=c._size,d=t.charAt(0),f="cb"===t.substr(1,2);if(f){var h=t.substr(3).replace("title","");e._fullData.some(function(t,r){return t.uid===h?(i=r,l=e.calcdata[r][0].t.cb.axis,!0):void 0})}else l=c[I.Axes.id2name(t.replace("title",""))]||c;var p,g,m,y,v,x=l===c?"title":l._name+".title",b=f?"colorscale":(l._id||d).toUpperCase()+" axis",w=l.titlefont.family,_=l.titlefont.size,k=l.titlefont.color,A="",M={},L={selection:d3.select(e).selectAll("g."+l._id+"tick"),side:l.side},z=f?0:1.5;f?(L.offsetLeft=u.l,L.offsetTop=u.t):L.selection.size()&&(v=d3.select(L.selection.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/),v&&(L.offsetLeft=+v[1],L.offsetTop=+v[2])),f&&l.titleside?(p=u.l+l.titlex*u.w,g=u.t+(1-l.titley)*u.h+("top"===l.titleside?3+.75*_:-3-.25*_),s={x:p,y:g,"text-anchor":"start"},L={},t="h"+t):"x"===d?(m=l,y="free"===m.anchor?{_offset:u.t+(1-(m.position||0))*u.h,_length:0}:I.Axes.getFromId(e,m.anchor),p=m._offset+m._length/2,g=y._offset+("top"===m.side?-10-_*(z+(m.showticklabels?1:0)):y._length+10+_*(z+(m.showticklabels?1.5:.5))),s={x:p,y:g,"text-anchor":"middle"},L.side||(L.side="bottom")):"y"===d?(y=l,m="free"===y.anchor?{_offset:u.l+(y.position||0)*u.w,_length:0}:I.Axes.getFromId(e,y.anchor),g=y._offset+y._length/2,p=m._offset+("right"===y.side?m._length+10+_*(z+(y.showticklabels?1:.5)):-10-_*(z+(y.showticklabels?.5:0))),M={center:0},s={x:p,y:g,"text-anchor":"middle"},A={rotate:"-90",offset:0},L.side||(L.side="left")):(b="Plot",_=c.titlefont.size,p=c.width/2,g=c._size.t/2,s={x:p,y:g,"text-anchor":"middle"},L={});var C=1,S=!1,O=l.title.trim();""===O&&(C=0),O.match(/Click to enter .+ title/)&&(C=.2,S=!0);var D;if(f){D=d3.select(e).selectAll("."+l._id.substr(1)+" .cbtitle");var T="h"===t.charAt(0)?t.substr(1):"h"+t;D.selectAll("."+T+",."+T+"-math-group").remove()}else D=c._infolayer.selectAll(".g-"+t).data([0]),D.enter().append("g").classed("g-"+t,!0);var E=D.selectAll("text").data([0]);E.enter().append("text"),E.text(O).attr("class",t),E.attr({"data-unformatted":O}).call(r);var j="Click to enter "+b.replace(/\d+/,"")+" title";e._context.editable?(O||o(),E.call(I.util.makeEditable).on("edit",function(t){if(f){var r=e._fullData[i];R.traceIs(r,"markerColorscale")?I.restyle(e,"marker.colorbar.title",t,i):I.restyle(e,"colorbar.title",t,i)}else I.relayout(e,x,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(r)}).on("input",function(e){this.text(e||" ").attr(s).selectAll("tspan.line").attr(s)})):(!O||O.match(/Click to enter .+ title/))&&E.remove(),E.classed("js-placeholder",S)},R.graphJson=function(e,t,r,n,a){function o(e){if("function"==typeof e)return null;if($.isPlainObject(e)){var t,n={};for(t in e)if("function"!=typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===r){if("src"===t.substr(t.length-3))continue}else if("keepall"!==r){var a=e[t+"src"];if("string"==typeof a&&a.indexOf(":")>0)continue}n[t]=o(e[t])}return n}return Array.isArray(e)?e.map(o):e&&e.getTime?I.Lib.ms2DateTime(e):e}e=P(e),(a&&t&&!e._fullData||a&&!t&&!e._fullLayout)&&R.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,s={data:(i||[]).map(function(e){var r=o(e);return t&&delete r.fit,r})};return t||(s.layout=o(l)),e.framework&&e.framework.isPolar&&(s=e.framework.getConfig()),"object"===n?s:JSON.stringify(s)}},{"./isnumeric":41,"./plotly":48,"gl-mat4/fromQuat":6}],38:[function(e,t){"use strict";function r(e){var t=l.Plots.attributes,r=o({type:e}),n={},c={};n=s(n,t),n=a(r.attributes,n,"attributes",e),n.type=e,n=i(n),p.traces[e]={attributes:n},void 0!==r.layoutAttributes&&(c=a(r.layoutAttributes,c,"layoutAttributes",e),p.traces[e].layoutAttributes=c)}function n(){var e=l.Plots.layoutAttributes,t=l.Plots.subplotsRegistry,r={};r=s(r,e),r=a(e,r,"layoutAttributes",d),r=i(r),Object.keys(r).forEach(function(e){(t.gl3d.idRegex.test(e)||t.geo.idRegex.test(e)||/^xaxis[0-9]*$/.test(e)||/^yaxis[0-9]*$/.test(e))&&(r[e][h]=!0)}),p.layout={layoutAttributes:r}}function a(e,t,r,n){var i,d,f,h,p;return Object.keys(e).forEach(function(g){return g===c?void Object.keys(e[g]).forEach(function(s){i=o({module:e[g][s]}),void 0!==i&&(d=i[r],f=a(d,{},r,n),l.Lib.nestedProperty(t,s).set(f))}):g===u?void Object.keys(e[g]).forEach(function(i){i===n&&(h=o({module:e[g][i]}),void 0!==h&&(p=h[r],p=a(p,{},r,n),t=s(t,p)))}):void(t[g]=e[g])}),t}function o(e){return"type"in e?l.Plots.getModule({type:e.type}):"module"in e?l[e.module]:void 0}function i(e){return Object.keys(e).forEach(function(t){"_"===t.charAt(0)&&t!==f&&delete e[t]}),e}var l=e("./plotly"),s=e("object-assign"),c="_nestedModules",u="_composedModules",d="*",f="_isLinkedToArray",h="_isSubplotObj",p={traces:{},layout:{}};t.exports=function(){return l.Plots.allTypes.forEach(r),n(),p}},{"./plotly":48,"object-assign":7}],39:[function(e,t){"use strict";function r(e,t){var r=t(e),n=r?t(e+"type","array"):"scaled";return"scaled"===n&&(t(e+"0"),t("d"+e)),r}function n(e){for(var t,r=!0,n=!1,a=!1,o=0;o<e.length;o++){if(t=e[o],!Array.isArray(t)){r=!1;break}t.length>0&&(n=!0);for(var i=0;i<t.length;i++)if(p(t[i])){a=!0;break}}return r&&n&&a}function a(e){return p(e)?+e:void 0}function o(e,t,r,n,a,o){var i,l,s,c=[],u=f.Plots.traceIs(e,"contour"),d=f.Plots.traceIs(e,"histogram");if(Array.isArray(t)&&!d&&"category"!==o.type){t=t.map(o.d2c);var h=t.length;if(!(a>=h))return t.slice(0,a+1);if(u)c=t.slice(0,a);else if(1===a)c=[t[0]-.5,t[0]+.5];else{for(c=[1.5*t[0]-.5*t[1]],s=1;h>s;s++)c.push(.5*(t[s-1]+t[s]));c.push(1.5*t[h-1]-.5*t[h-2])}if(a>h){var p=c[c.length-1],g=p-c[c.length-2];for(s=h;a>s;s++)p+=g,c.push(p)}}else for(l=n||1,i=void 0===r?0:d||"category"===o.type?r:o.d2c(r),s=u?0:-.5;a>s;s++)c.push(i+l*s);return c}function i(e){return.5-.25*Math.min(1,.5*e)}function l(e,t,r){var n,a,o=1;if(Array.isArray(r))for(n=0;n<t.length;n++)a=t[n],e[a[0]][a[1]]=r[a[0]][a[1]];else c(e,t);for(n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;100>n&&o>y;n++)o=c(e,t,i(o));return o>y&&console.log("interp2d didn't converge quickly",o),e}function s(e){var t,r,n,a,o,i,l,s,c=[],u={},f=[],h=e[0],p=[],g=[0,0,0],m=d.maxRowLength(e);for(r=0;r<e.length;r++)for(t=p,p=h,h=e[r+1]||[],n=0;m>n;n++)void 0===p[n]&&(i=(void 0!==p[n-1]?1:0)+(void 0!==p[n+1]?1:0)+(void 0!==t[n]?1:0)+(void 0!==h[n]?1:0),i?(0===r&&i++,0===n&&i++,r===e.length-1&&i++,n===p.length-1&&i++,4>i&&(u[[r,n]]=[r,n,i]),c.push([r,n,i])):f.push([r,n]));for(;f.length;){for(l={},s=!1,o=f.length-1;o>=0;o--)a=f[o],r=a[0],n=a[1],i=((u[[r-1,n]]||g)[2]+(u[[r+1,n]]||g)[2]+(u[[r,n-1]]||g)[2]+(u[[r,n+1]]||g)[2])/20,i&&(l[a]=[r,n,i],f.splice(o,1),s=!0);if(!s)throw"findEmpties iterated with no new neighbors";for(a in l)u[a]=l[a],c.push(l[a])}return c.sort(function(e,t){return t[2]-e[2]})}function c(e,t,r){var n,a,o,i,l,s,c,u,d,f,h,p,g,m=0;for(i=0;i<t.length;i++){for(n=t[i],a=n[0],o=n[1],h=e[a][o],f=0,d=0,l=0;4>l;l++)s=v[l],c=e[a+s[0]],c&&(u=c[o+s[1]],void 0!==u&&(0===f?p=g=u:(p=Math.min(p,u),g=Math.max(g,u)),d++,f+=u));if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";e[a][o]=f/d,void 0===h?4>d&&(m=1):(e[a][o]=(1+r)*e[a][o]-r*h,g>p&&(m=Math.max(m,Math.abs(e[a][o]-h)/(g-p))))}return m}function u(e,t,r){function n(e,t){var r=t.length-2,n=f.Lib.constrain(f.Lib.findBin(e,t),0,r),a=t[n],o=t[n+1],i=f.Lib.constrain(n+(e-a)/(o-a)-.5,0,r),l=Math.round(i),s=Math.abs(i-l);return i&&i!==r&&s?{bin0:l,frac:s,bin1:Math.round(l+s/(i-l))}:{bin0:l,bin1:l,frac:0}}function a(e,t){if(void 0!==e){var r=G((e-A)/(M-A));return r[0]=Math.round(r[0]),r[1]=Math.round(r[1]),r[2]=Math.round(r[2]),tt+=t,rt+=r[0]*t,nt+=r[1]*t,at+=r[2]*t,r}return[0,0,0,0]}function o(e,t,r){e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=Math.round(255*r[3])}function i(e,t,r,n){var o=e[r.bin0];if(void 0===o)return a(void 0,1);var i,l=e[r.bin1],s=t[r.bin0],c=t[r.bin1],u=l-o||0,d=s-o||0;return i=void 0===l?void 0===c?0:void 0===s?2*(c-o):2*(2*c-s-o)/3:void 0===c?void 0===s?0:2*(2*o-l-s)/3:void 0===s?2*(2*c-l-o)/3:c+o-l-s,a(o+r.frac*u+n.frac*(d+r.frac*i))}f.Lib.markTime("in Heatmap.plot");var l=r[0].trace,s=l.uid,c=t.x(),u=t.y(),p=e._fullLayout,g="hm"+s,m="cb"+s;if(p._paper.selectAll(".contour"+s).remove(),l.visible!==!0)return p._paper.selectAll("."+g).remove(),void p._paper.selectAll("."+m).remove();var y,v,x,b,w,_,k=r[0].z,A=l.zmin,M=l.zmax,L=f.Colorscale.getScale(l.colorscale),z=r[0].x,C=r[0].y,S=f.Plots.traceIs(l,"contour"),P=S?"best":l.zsmooth,O=k.length,D=d.maxRowLength(k),T=!1,E=!1;for(_=0;void 0===y&&_<z.length-1;)y=c.c2p(z[_]),_++;for(_=z.length-1;void 0===v&&_>0;)v=c.c2p(z[_]),_--;for(y>v&&(x=v,v=y,y=x,T=!0),_=0;void 0===b&&_<C.length-1;)b=u.c2p(C[_]),_++;for(_=C.length-1;void 0===w&&_>0;)w=u.c2p(C[_]),_--;if(b>w&&(x=b,b=w,w=x,E=!0),S&&(z=r[0].xfill,C=r[0].yfill),"fast"!==P){var I="best"===P?0:.5;y=Math.max(-I*c._length,y),v=Math.min((1+I)*c._length,v),b=Math.max(-I*u._length,b),w=Math.min((1+I)*u._length,w)}var j=Math.round(v-y),N=Math.round(w-b);if(!(0>=j||0>=N)){var R,B;"fast"===P?(R=D,B=O):(R=j,B=N);var F=document.createElement("canvas");F.width=R,F.height=B;var H,V,q=F.getContext("2d"),G=d3.scale.linear().domain(L.map(function(e){return e[0]})).range(L.map(function(e){var t=h(e[1]).toRgb();return[t.r,t.g,t.b,t.a]})).clamp(!0);"fast"===P?(H=T?function(e){return D-1-e}:f.Lib.identity,V=E?function(e){return O-1-e}:f.Lib.identity):(H=function(e){return f.Lib.constrain(Math.round(c.c2p(z[e])-y),0,j)},V=function(e){return f.Lib.constrain(Math.round(u.c2p(C[e])-b),0,N)}),f.Lib.markTime("done init png");var Z,U,Y,X,$,J,K=V(0),Q=[K,K],W=T?0:1,et=E?0:1,tt=0,rt=0,nt=0,at=0;if(P){var ot=0,it=new Uint8Array(j*N*4);if("best"===P){var lt,st,ct,ut=new Array(z.length),dt=new Array(C.length),ft=new Array(j);for(_=0;_<z.length;_++)ut[_]=Math.round(c.c2p(z[_])-y);for(_=0;_<C.length;_++)dt[_]=Math.round(u.c2p(C[_])-b);for(_=0;j>_;_++)ft[_]=n(_,ut);for(U=0;N>U;U++)for(lt=n(U,dt),st=k[lt.bin0],ct=k[lt.bin1],_=0;j>_;_++,ot+=4)J=i(st,ct,ft[_],lt),o(it,ot,J)}else for(U=0;O>U;U++)for($=k[U],Q=V(U),_=0;D>_;_++)J=a($[_],1),ot=4*(Q*j+H(_)),o(it,ot,J);var ht=q.createImageData(j,N);ht.data.set(it),q.putImageData(ht,0,0)}else for(U=0;O>U;U++)if($=k[U],Q.reverse(),Q[et]=V(U+1),Q[0]!==Q[1]&&void 0!==Q[0]&&void 0!==Q[1])for(Y=H(0),Z=[Y,Y],_=0;D>_;_++)Z.reverse(),Z[W]=H(_+1),Z[0]!==Z[1]&&void 0!==Z[0]&&void 0!==Z[1]&&(X=$[_],J=a(X,(Z[1]-Z[0])*(Q[1]-Q[0])),q.fillStyle="rgba("+J.join(",")+")",q.fillRect(Z[0],Q[0],Z[1]-Z[0],Q[1]-Q[0]));f.Lib.markTime("done filling png"),rt=Math.round(rt/tt),nt=Math.round(nt/tt),at=Math.round(at/tt);var pt=h("rgb("+rt+","+nt+","+at+")");e._hmpixcount=(e._hmpixcount||0)+tt,e._hmlumcount=(e._hmlumcount||0)+tt*pt.getLuminance(),p._paper.selectAll("."+g).remove(),t.plot.select(".maplayer").append("svg:image").classed(g,!0).datum(r[0]).attr({xmlns:"http://www.w3.org/2000/svg","xlink:xlink:href":F.toDataURL("image/png"),height:N,width:j,x:y,y:b,preserveAspectRatio:"none"}),f.Lib.markTime("done showing png")}}var d=t.exports={},f=e("./plotly"),h=e("tinycolor2"),p=e("./isnumeric"),g=f.Scatter.attributes;f.Plots.register(d,"heatmap",["cartesian","2dMap"]);var m=f.Colorbar.traceColorbarAttributes;d.attributes={z:{type:"data_array"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,text:{type:"data_array"},transpose:{type:"boolean",dflt:!1},xtype:{type:"enumerated",values:["array","scaled"]},ytype:{type:"enumerated",values:["array","scaled"]},zauto:m.zauto,zmin:m.zmin,zmax:m.zmax,colorscale:m.colorscale,autocolorscale:{type:"boolean",dflt:!1},reversescale:m.reversescale,showscale:m.showscale,zsmooth:{type:"enumerated",values:["fast","best",!1],dflt:!1},connectgaps:{type:"boolean",dflt:!1},_nestedModules:{colorbar:"Colorbar"},_composedModules:{histogram2d:"Histogram",histogram2dcontour:"Histogram"}},d.supplyDefaults=function(e,t,r,n){function a(r,n){return f.Lib.coerce(e,t,d.attributes,r,n)}var o=f.Plots.traceIs(t,"contour");if(o||a("zsmooth"),f.Plots.traceIs(t,"histogram")){if(f.Histogram.supplyDefaults(e,t),t.visible===!1)return}else{var i=d.handleXYZDefaults(e,t,a);if(!i)return void(t.visible=!1);a("text");var l=d.hasColumns(t);l||a("transpose"),a("connectgaps",l&&(o||t.zsmooth!==!1))}o&&"none"===(t.contours||{}).coloring||f.Colorscale.handleDefaults(e,t,n,a,{prefix:"",cLetter:"z"})},d.handleXYZDefaults=function(e,t,a){var o,i,l=a("z");if(void 0===l||!l.length)return 0;if(d.hasColumns(e)){if(o=a("x"),i=a("y"),!o||!i)return 0}else if(o=r("x",a),i=r("y",a),!n(l))return 0;return t.z.length},d.hasColumns=function(e){return!Array.isArray(e.z[0])},d.convertColumnXYZ=function(e){var t=e.x,r=e.y,n=e.z,a=e.text,o=Math.min(t.length,r.length,n.length),i=void 0!==a&&!Array.isArray(a[0]);o<t.length&&(t=t.slice(0,o)),o<r.length&&(r=r.slice(0,o));var l,s,c,u=f.Lib.distinctVals(t),d=u.vals,h=f.Lib.distinctVals(r),p=h.vals,g=f.Lib.init2dArray(p.length,d.length);i&&(c=f.Lib.init2dArray(p.length,d.length));for(var m=0;o>m;m++)l=f.Lib.findBin(t[m]+u.minDiff/2,d),s=f.Lib.findBin(r[m]+h.minDiff/2,p),g[s][l]=n[m],i&&(c[s][l]=a[m]);e.x=d,e.y=p,e.z=g,i&&(e.text=c)},d.calc=function(e,t){function r(e){b=t._input.zsmooth=t.zsmooth=!1,f.Lib.notifier("cannot fast-zsmooth: "+e)}f.Lib.markTime("start convert x&y");var n,a,i,c,u,h,p,g,m=f.Axes.getFromId(e,t.xaxis||"x"),y=f.Axes.getFromId(e,t.yaxis||"y"),v=f.Plots.traceIs(t,"contour"),x=f.Plots.traceIs(t,"histogram"),b=v?"best":t.zsmooth;if(m._minDtick=0,y._minDtick=0,f.Lib.markTime("done convert x&y"),x){var w=f.Histogram.calc2d(e,t);n=w.x,a=w.x0,i=w.dx,c=w.y,u=w.y0,h=w.dy,p=w.z}else d.hasColumns(t)&&d.convertColumnXYZ(t),n=t.x?m.makeCalcdata(t,"x"):[],c=t.y?y.makeCalcdata(t,"y"):[],a=t.x0||0,i=t.dx||1,u=t.y0||0,h=t.dy||1,p=d.cleanZ(t),(v||t.connectgaps)&&(t._emptypoints=s(p),t._interpz=l(p,t._emptypoints,t._interpz));if("fast"===b)if("log"===m.type||"log"===y.type)r("log axis found");else if(!x){if(n.length){var _=(n[n.length-1]-n[0])/(n.length-1),k=Math.abs(_/100);for(g=0;g<n.length-1;g++)if(Math.abs(n[g+1]-n[g]-_)>k){r("x scale is not linear");break}}if(c.length&&"fast"===b){var A=(c[c.length-1]-c[0])/(c.length-1),M=Math.abs(A/100);for(g=0;g<c.length-1;g++)if(Math.abs(c[g+1]-c[g]-A)>M){r("y scale is not linear");break}}}var L=f.Lib.aggNums(Math.max,null,p.map(function(e){return e.length})),z="scaled"===t.xtype?"":t.x,C=o(t,z,a,i,L,m),S="scaled"===t.ytype?"":t.y,P=o(t,S,u,h,p.length,y);f.Axes.expand(m,C),f.Axes.expand(y,P);var O={x:C,y:P,z:p};if(f.Colorscale.calc(t,p,"","z"),v&&t.contours&&"heatmap"===t.contours.coloring){var D="contour"===t.type?"heatmap":"histogram2d";O.xfill=o(D,z,a,i,L,m),O.yfill=o(D,S,u,h,p.length,y)}return[O]},d.cleanZ=function(e){var t,r,n,o,i,l,s=e.z;if(e.transpose){for(t=0,i=0;i<s.length;i++)t=Math.max(t,s[i].length);if(0===t)return!1;n=function(e){return e.length},o=function(e,t,r){return e[r][t]}}else t=s.length,n=function(e,t){return e[t].length},o=function(e,t,r){return e[t][r]};var c=new Array(t);for(i=0;t>i;i++)for(r=n(s,i),c[i]=new Array(r),l=0;r>l;l++)c[i][l]=a(o(s,i,l));return c};var y=.01,v=[[-1,0],[1,0],[0,-1],[0,1]];d.maxRowLength=function(e){for(var t=0,r=0;r<e.length;r++)t=Math.max(t,e[r].length);return t},d.plot=function(e,t,r){r.forEach(function(r){u(e,t,r)})},d.colorbar=f.Colorbar.traceColorbar,d.style=function(e){d3.select(e).selectAll("image").style("opacity",function(e){return e.trace.opacity})},d.hoverPoints=function(e,t,r,n,a){if(!(e.distance<f.Fx.MAXDIST)){var o,i,l,s,c=e.cd[0],u=c.trace,d=e.xa,h=e.ya,p=c.x,g=c.y,m=c.z,y=c.zmask,v=p,x=g;if(e.index!==!1){try{l=Math.round(e.index[1]),s=Math.round(e.index[0])}catch(t){return void console.log("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index)}if(0>l||l>=m[0].length||0>s||s>m.length)return}else{if(f.Fx.inbox(t-p[0],t-p[p.length-1])>f.Fx.MAXDIST||f.Fx.inbox(r-g[0],r-g[g.length-1])>f.Fx.MAXDIST)return;if(a){v=[2*p[0]-p[1]];for(var b=1;b<p.length;b++)v.push((p[b]+p[b-1])/2);for(v.push([2*p[p.length-1]-p[p.length-2]]),x=[2*g[0]-g[1]],b=1;b<g.length;b++)x.push((g[b]+g[b-1])/2);x.push([2*g[g.length-1]-g[g.length-2]])}l=Math.max(0,Math.min(v.length-2,f.Lib.findBin(t,v))),s=Math.max(0,Math.min(x.length-2,f.Lib.findBin(r,x)))}var w=d.c2p(p[l]),_=d.c2p(p[l+1]),k=h.c2p(g[s]),A=h.c2p(g[s+1]);a?(_=w,o=p[l],A=k,i=g[s]):(o=(p[l]+p[l+1])/2,i=(g[s]+g[s+1])/2,u.zsmooth&&(w=_=(w+_)/2,k=A=(k+A)/2));var M=m[s][l];y&&!y[s][l]&&(M=void 0);var L;return Array.isArray(u.text)&&Array.isArray(u.text[s])&&(L=u.text[s][l]),[$.extend(e,{index:[s,l],distance:f.Fx.MAXDIST+10,x0:w,x1:_,y0:k,y1:A,xLabelVal:o,yLabelVal:i,zLabelVal:M,text:L})]}}},{"./isnumeric":41,"./plotly":48,tinycolor2:8}],40:[function(e,t){"use strict";function r(e,t){for(var r=e.length,n=0,a=0;r>a;a++)t[a]?(e[a]/=t[a],n+=e[a]):e[a]=null;return n}var n=t.exports={},a=e("./plotly"),o=e("./isnumeric"),i=a.Scatter.attributes,l=a.Bars.attributes;a.Plots.register(a.Bars,"histogram",["cartesian","bar","histogram","oriented","errorBarsOK","showLegend"]),a.Plots.register(a.Heatmap,"histogram2d",["cartesian","2dMap","histogram"]);var s={start:{type:"number",dflt:0},end:{type:"number",dflt:1},size:{type:"any",dflt:1}};n.attributes={z:{type:"data_array"},x:i.x,y:i.y,marker:{color:{type:"data_array"}},orientation:l.orientation,histfunc:{type:"enumerated",values:["count","sum","avg","min","max"],dflt:"count"},histnorm:{type:"enumerated",values:["","percent","probability","density","probability density"],dflt:""},autobinx:{type:"boolean",dflt:!0},nbinsx:{type:"integer",min:0,dflt:0},xbins:s,autobiny:{type:"boolean",dflt:!0},nbinsy:{type:"integer",min:0,dflt:0},ybins:s},n.supplyDefaults=function(e,t){function r(r,o){return a.Lib.coerce(e,t,n.attributes,r,o)}var o,i=["x"],l=r("x"),s=r("y");if(a.Plots.traceIs(t,"2dMap")){if(!(l&&l.length&&s&&s.length))return void(t.visible=!1);o=r("z")||r("marker.color"),i=["x","y"]}else{var c=r("orientation",s&&!l?"h":"v"),u=t["v"===c?"x":"y"];if(!u||!u.length)return void(t.visible=!1);"h"===c&&(i=["y"]),o=t["h"===c?"x":"y"]}o&&r("histfunc"),r("histnorm"),i.forEach(function(e){var t=r("autobin"+e);t?r("nbins"+e):(r(e+"bins.start"),r(e+"bins.end"),r(e+"bins.size"))})};var c={count:function(e,t,r){return r[e]++,1},sum:function(e,t,r,n){var a=n[t];return o(a)?(a=Number(a),r[e]+=a,a):0},avg:function(e,t,r,n,a){var i=n[t];return o(i)&&(i=Number(i),r[e]+=i,a[e]++),0},min:function(e,t,r,n){var a=n[t];if(o(a)){if(a=Number(a),!o(r[e]))return r[e]=a,a;if(r[e]>a)return r[e]=a,a-r[e]}return 0},max:function(e,t,r,n){var a=n[t];if(o(a)){if(a=Number(a),!o(r[e]))return r[e]=a,a;if(r[e]<a)return r[e]=a,a-r[e]}return 0}},u={percent:function(e,t){for(var r=e.length,n=100/t,a=0;r>a;a++)e[a]*=n},probability:function(e,t){for(var r=e.length,n=0;r>n;n++)e[n]/=t},density:function(e,t,r,n){var a=e.length;n=n||1;for(var o=0;a>o;o++)e[o]*=r[o]*n},"probability density":function(e,t,r,n){var a=e.length;n&&(t/=n);for(var o=0;a>o;o++)e[o]*=r[o]/t}};n.calc=function(e,t){if(t.visible===!0){var n,i=[],l=[],s=a.Axes.getFromId(e,"h"===t.orientation?t.yaxis||"y":t.xaxis||"x"),d="h"===t.orientation?"y":"x",f={x:"y",y:"x"}[d],h=s.makeCalcdata(t,d);t["autobin"+d]===!1&&d+"bins"in t||(t[d+"bins"]=a.Axes.autoBin(h,s,t["nbins"+d]),t._input[d+"bins"]=t[d+"bins"]);var p,g,m,y,v=t[d+"bins"],x="string"==typeof v.size,b=x?[]:v,w=[],_=[],k=0,A=t.histnorm,M=t.histfunc,L=-1!==A.indexOf("density"),z="max"===M||"min"===M,C=z?null:0,S=c.count,P=u[A],O=!1;for(Array.isArray(t[f])&&"count"!==M&&(y=t[f],O="avg"===M,S=c[M]),n=v.start,g=v.end+(v.start-a.Axes.tickIncrement(v.start,v.size))/1e6;g>n&&i.length<5e3;)p=a.Axes.tickIncrement(n,v.size),i.push((n+p)/2),l.push(C),x&&b.push(n),L&&w.push(1/(p-n)),O&&_.push(0),n=p;var D=l.length;for(n=0;n<h.length;n++)m=a.Lib.findBin(h[n],b),m>=0&&D>m&&(k+=S(m,n,l,y,_));O&&(k=r(l,_)),P&&P(l,k,w);var T=Math.min(i.length,l.length),E=[],I=0,j=T-1;for(n=0;T>n;n++)if(l[n]){I=n;break}for(n=T-1;n>I;n--)if(l[n]){j=n;break}for(n=I;j>=n;n++)o(i[n])&&o(l[n])&&E.push({p:i[n],s:l[n],b:0});return E}},n.calc2d=function(e,t){var n,o,i,l,s,d,f=a.Axes.getFromId(e,t.xaxis||"x"),h=t.x?f.makeCalcdata(t,"x"):[],p=a.Axes.getFromId(e,t.yaxis||"y"),g=t.y?p.makeCalcdata(t,"y"):[],m=Math.min(h.length,g.length);h.length>m&&h.splice(m,h.length-m),g.length>m&&g.splice(m,g.length-m),a.Lib.markTime("done convert data"),!t.autobinx&&"xbins"in t||(t.xbins=a.Axes.autoBin(h,f,t.nbinsx,"2d"),"histogram2dcontour"===t.type&&(t.xbins.start-=t.xbins.size,t.xbins.end+=t.xbins.size),t._input.xbins=t.xbins),!t.autobiny&&"ybins"in t||(t.ybins=a.Axes.autoBin(g,p,t.nbinsy,"2d"),"histogram2dcontour"===t.type&&(t.ybins.start-=t.ybins.size,t.ybins.end+=t.ybins.size),t._input.ybins=t.ybins),a.Lib.markTime("done autoBin"),s=[];var y,v,x=[],b=[],w="string"==typeof t.xbins.size?[]:t.xbins,_="string"==typeof t.xbins.size?[]:t.ybins,k=0,A=[],M=t.histnorm,L=t.histfunc,z=-1!==M.indexOf("density"),C="max"===L||"min"===L,S=C?null:0,P=c.count,O=u[M],D=!1,T=[],E=[],I="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";I&&"count"!==L&&(D="avg"===L,P=c[L]);var j=t.xbins,N=j.end+(j.start-a.Axes.tickIncrement(j.start,j.size))/1e6;for(d=j.start;N>d;d=a.Axes.tickIncrement(d,j.size))x.push(S),Array.isArray(w)&&w.push(d),D&&b.push(0);Array.isArray(w)&&w.push(d);var R=x.length;for(n=t.xbins.start,o=(d-n)/R,n+=o/2,j=t.ybins,N=j.end+(j.start-a.Axes.tickIncrement(j.start,j.size))/1e6,d=j.start;N>d;d=a.Axes.tickIncrement(d,j.size))s.push(x.concat()),Array.isArray(_)&&_.push(d),D&&A.push(b.concat());Array.isArray(_)&&_.push(d);var B=s.length;for(i=t.ybins.start,l=(d-i)/B,i+=l/2,z&&(T=x.map(function(e,t){return Array.isArray(w)?1/(w[t+1]-w[t]):1/o}),E=s.map(function(e,t){return Array.isArray(_)?1/(_[t+1]-_[t]):1/l})),a.Lib.markTime("done making bins"),d=0;m>d;d++)y=a.Lib.findBin(h[d],w),v=a.Lib.findBin(g[d],_),y>=0&&R>y&&v>=0&&B>v&&(k+=P(y,d,s[v],I,A[v]));if(D)for(v=0;B>v;v++)k+=r(s[v],A[v]);if(O)for(v=0;B>v;v++)O(s[v],k,T,E[v]);return a.Lib.markTime("done binning"),{x:h,x0:n,dx:o,y:g,y0:i,dy:l,z:s}}},{"./isnumeric":41,"./plotly":48}],41:[function(e,t){"use strict";function r(e){for(var t,r=e.length,n=0;r>n;n++)if(t=e.charCodeAt(n),(9>t||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(8192>t||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(e=+e,0===e&&r(n))return!1}else if("number"!==t)return!1;return 1>e-e}},{}],42:[function(e,t){"use strict";function r(e){return e.visible&&i.Plots.traceIs(e,"showLegend")}function n(e){return-1!==(e.traceorder||"").indexOf("grouped")}function a(e){return-1!==(e.traceorder||"").indexOf("reversed")}var o=t.exports={},i=e("./plotly");o.layoutAttributes={bgcolor:{type:"color"},bordercolor:{type:"color",dflt:i.Color.defaultLine},borderwidth:{type:"number",min:0,dflt:0},font:{type:"font"},traceorder:{type:"flaglist",flags:["reversed","grouped"],extras:["normal"]},tracegroupgap:{type:"number",min:0,dflt:10},x:{type:"number",min:-2,max:3,dflt:1.02},xanchor:{type:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{type:"number",min:-2,max:3,dflt:1},yanchor:{type:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}},o.supplyLayoutDefaults=function(e,t,l){function s(e,t){return i.Lib.coerce(u,d,o.layoutAttributes,e,t)}for(var c,u=e.legend||{},d=t.legend={},f=0,h="normal",p=0;p<l.length;p++)c=l[p],r(c)&&(f++,i.Plots.traceIs(c,"pie")&&f++),(i.Plots.traceIs(c,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(c.fill))&&(h=n({traceorder:h})?"grouped+reversed":"reversed"),void 0!==c.legendgroup&&""!==c.legendgroup&&(h=a({traceorder:h})?"reversed+grouped":"grouped");var g=i.Lib.coerce(e,t,i.Plots.layoutAttributes,"showlegend",f>1);g!==!1&&(s("bgcolor",t.paper_bgcolor),s("bordercolor"),s("borderwidth"),s("font",t.font),s("traceorder",h),n(t.legend)&&s("tracegroupgap"),s("x"),s("xanchor"),s("y"),s("yanchor"),i.Lib.noneOrAll(u,d,["x","y"]))},o.lines=function(e){var t=e[0].trace,r=t.visible&&t.fill&&"none"!==t.fill,n=i.Scatter.hasLines(t),a=d3.select(this).select(".legendfill").selectAll("path").data(r?[e]:[]);a.enter().append("path").classed("js-fill",!0),a.exit().remove(),a.attr("d","M5,0h30v6h-30z").call(i.Drawing.fillGroupStyle);var o=d3.select(this).select(".legendlines").selectAll("path").data(n?[e]:[]);o.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),o.exit().remove(),o.call(i.Drawing.lineGroupStyle)},o.points=function(e){function t(e,t,r){var n=i.Lib.nestedProperty(l,e).get(),a=Array.isArray(n)&&t?t(n):n;if(r){if(a<r[0])return r[0];if(a>r[1])return r[1]}return a}function r(e){return e[0]}var n,a,o=e[0],l=o.trace,s=i.Scatter.hasMarkers(l),c=i.Scatter.hasText(l),u=i.Scatter.hasLines(l);if(s||c||u){var d={},f={};s&&(d.mc=t("marker.color",r),d.mo=t("marker.opacity",i.Lib.mean,[.2,1]),d.ms=t("marker.size",i.Lib.mean,[2,16]),d.mlc=t("marker.line.color",r),d.mlw=t("marker.line.width",i.Lib.mean,[0,5]),f.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),u&&(f.line={width:t("line.width",r,[0,10])}),c&&(d.tx="Aa",d.tp=t("textposition",r),d.ts=10,d.tc=t("textfont.color",r),d.tf=t("textfont.family",r)),n=[i.Lib.minExtend(o,d)],a=i.Lib.minExtend(l,f)}var h=d3.select(this).select("g.legendpoints"),p=h.selectAll("path.scatterpts").data(s?n:[]);p.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),p.exit().remove(),p.call(i.Drawing.pointStyle,a),s&&(n[0].mrc=3);var g=h.selectAll("g.pointtext").data(c?n:[]);g.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),g.exit().remove(),g.selectAll("text").call(i.Drawing.textPointStyle,a)},o.bars=function(e){var t=e[0].trace,r=t.marker||{},n=r.line||{},a=d3.select(this).select("g.legendpoints").selectAll("path.legendbar").data(i.Plots.traceIs(t,"bar")?[e]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(e){var t=(e.mlw+1||n.width+1)-1,a=d3.select(this);a.style("stroke-width",t+"px").call(i.Color.fill,e.mc||r.color),t&&a.call(i.Color.stroke,e.mlc||n.color)})},o.boxes=function(e){var t=e[0].trace,r=d3.select(this).select("g.legendpoints").selectAll("path.legendbox").data(i.Plots.traceIs(t,"box")&&t.visible?[e]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(e){var r=(e.lw+1||t.line.width+1)-1,n=d3.select(this);n.style("stroke-width",r+"px").call(i.Color.fill,e.fc||t.fillcolor),r&&n.call(i.Color.stroke,e.lc||t.line.color)
})},o.pie=function(e){var t=e[0].trace,r=d3.select(this).select("g.legendpoints").selectAll("path.legendpie").data(i.Plots.traceIs(t,"pie")&&t.visible?[e]:[]);r.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.size()&&r.call(i.Pie.styleOne,e[0],t)},o.style=function(e){e.each(function(e){var t=d3.select(this),r=t.selectAll("g.legendfill").data([e]);r.enter().append("g").classed("legendfill",!0);var n=t.selectAll("g.legendlines").data([e]);n.enter().append("g").classed("legendlines",!0);var a=t.selectAll("g.legendsymbols").data([e]);a.enter().append("g").classed("legendsymbols",!0),a.style("opacity",e[0].trace.opacity),a.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(o.bars).each(o.boxes).each(o.pie).each(o.lines).each(o.points)},o.texts=function(e,t,r,n,a){function l(e){i.util.convertToTspans(e,function(){t.firstRender&&o.repositionLegend(t,a)}),e.selectAll("tspan.line").attr({x:e.attr("x")})}var s=t._fullLayout,c=r[0].trace,u=i.Plots.traceIs(c,"pie"),d=c.index,f=u?r[0].label:c.name,h=d3.select(e).selectAll("text.legendtext").data([0]);h.enter().append("text").classed("legendtext",!0),h.attr({x:40,y:0}).style("text-anchor","start").call(i.Drawing.font,s.legend.font).text(f).attr({"data-unformatted":f}),t._context.editable&&!u?h.call(i.util.makeEditable).call(l).on("edit",function(e){this.attr({"data-unformatted":e}),this.text(e).call(l),this.text()||(e="    "),i.restyle(t,"name",e,d)}):h.call(l)},o.getLegendData=function(e,t){function o(e,r){if(""!==e&&n(t))-1===g.indexOf(e)?(g.push(e),m=!0,p[e]=[[r]]):p[e].push([r]);else{var a="~~i"+v;g.push(a),p[a]=[[r]],v++}}var l,s,c,u,d,f,h,p={},g=[],m=!1,y={},v=0;for(d=0;d<e.length;d++)if(l=e[d],s=l[0],c=s.trace,u=c.legendgroup,r(c)&&c.showlegend)if(i.Plots.traceIs(c,"pie"))for(y[u]||(y[u]={}),f=0;f<l.length;f++)h=l[f].label,y[u][h]||(o(u,{label:h,color:l[f].color,i:l[f].i,trace:c}),y[u][h]=!0);else o(u,s);if(!g.length)return[];var x,b,w=g.length;if(m&&n(t))for(b=new Array(w),d=0;w>d;d++)x=p[g[d]],b[d]=a(t)?x.reverse():x;else{for(b=[new Array(w)],d=0;w>d;d++)x=p[g[d]][0],b[0][a(t)?w-d-1:d]=x;w=1}return t._lgroupsLength=w,b},o.draw=function(e){var t=e._fullLayout;if(t._infolayer&&e.calcdata){var r=t.legend,a=t.showlegend&&o.getLegendData(e.calcdata,r),l=t.hiddenlabels||[];if(!t.showlegend||!a.length)return t._infolayer.selectAll(".legend").remove(),void i.Plots.autoMargin(e,"legend");"undefined"==typeof e.firstRender?e.firstRender=!0:e.firstRender&&(e.firstRender=!1);var s=t._infolayer.selectAll("svg.legend").data([0]);s.enter(0).append("svg").attr("class","legend");var c=s.selectAll("rect.bg").data([0]);c.enter(0).append("rect").attr("class","bg"),c.call(i.Color.stroke,r.bordercolor).call(i.Color.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px");var u=s.selectAll("g.groups").data(a);u.enter().append("g").attr("class","groups"),u.exit().remove(),n(r)&&u.attr("transform",function(e,t){return"translate(0,"+t*r.tracegroupgap+")"});var d=u.selectAll("g.traces").data(i.Lib.identity);if(d.enter().append("g").attr("class","traces"),d.exit().remove(),d.call(o.style).style("opacity",function(e){var t=e[0].trace;return i.Plots.traceIs(t,"pie")?-1!==l.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(t,r){o.texts(this,e,t,r,d);var n=d3.select(this).selectAll("rect").data([0]);n.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(i.Color.fill,"rgba(0,0,0,0)"),n.on("click",function(){if(!e._dragged){var r,n,a=e._fullData,o=t[0].trace,s=o.legendgroup,c=[];if(i.Plots.traceIs(o,"pie")){var u=t[0].label,d=l.slice(),f=d.indexOf(u);-1===f?d.push(u):d.splice(f,1),i.relayout(e,"hiddenlabels",d)}else{if(""===s)c=[o.index];else for(var h=0;h<a.length;h++)r=a[h],r.legendgroup===s&&c.push(r.index);n=o.visible===!0?"legendonly":!0,i.restyle(e,"visible",n,c)}}})}),o.repositionLegend(e,d),e._context.editable){var f,h,p,g,m,y;i.Fx.dragElement({element:s.node(),prepFn:function(){p=Number(s.attr("x")),g=Number(s.attr("y")),m=Number(s.attr("width")),y=Number(s.attr("height")),i.Fx.setCursor(s)},moveFn:function(t,n){var a=e._fullLayout._size;s.call(i.Drawing.setPosition,p+t,g+n),f=i.Fx.dragAlign(p+t,m,a.l,a.l+a.w,r.xanchor),h=i.Fx.dragAlign(g+n+y,-y,a.t+a.h,a.t,r.yanchor);var o=i.Fx.dragCursors(f,h,r.xanchor,r.yanchor);i.Fx.setCursor(s,o)},doneFn:function(t){i.Fx.setCursor(s),t&&void 0!==f&&void 0!==h&&i.relayout(e,{"legend.x":f,"legend.y":h})}})}}},o.repositionLegend=function(e,t){var r=e._fullLayout,a=r._size,o=r.legend,l=o.borderwidth,s=0,c=0;t.each(function(e){var t,r,n=e[0].trace,a=d3.select(this),u=a.selectAll(".legendtoggle"),d=a.selectAll(".legendtext"),f=a.selectAll(".legendtext>tspan"),h=1.3*o.font.size,p=f[0].length||1,g=d.node()&&i.Drawing.bBox(d.node()).width,m=a.select("g[class*=math-group]");if(!n.showlegend)return void a.remove();if(m.node()){var y=i.Drawing.bBox(m.node());h=y.height,g=y.width,m.attr("transform","translate(0,"+h/4+")")}else t=h*(.3+(1-p)/2),d.attr("y",t),f.attr("y",t);r=Math.max(h*p,16)+3,a.attr("transform","translate("+l+","+(5+l+c+r/2)+")"),u.attr({x:0,y:-r/2,height:r}),c+=r,s=Math.max(s,g||0)}),n(o)&&(c+=(o._lgroupsLength-1)*o.tracegroupgap),t.selectAll(".legendtoggle").attr("width",(e._context.editable?0:s)+40),s+=45+2*l,c+=10+2*l;var u=a.l+a.w*o.x,d=a.t+a.h*(1-o.y),f="left";"right"===o.xanchor||"auto"===o.xanchor&&o.x>=2/3?(u-=s,f="right"):("center"===o.xanchor||"auto"===o.xanchor&&o.x>1/3)&&(u-=s/2,f="center");var h="top";"bottom"===o.yanchor||"auto"===o.yanchor&&o.y<=1/3?(d-=c,h="bottom"):("middle"===o.yanchor||"auto"===o.yanchor&&o.y<2/3)&&(d-=c/2,h="middle"),s=Math.ceil(s),c=Math.ceil(c),u=Math.round(u),d=Math.round(d),r._infolayer.selectAll("svg.legend").call(i.Drawing.setRect,u,d,s,c),r._infolayer.selectAll("svg.legend .bg").call(i.Drawing.setRect,l/2,l/2,s-l,c-l),i.Plots.autoMargin(e,"legend",{x:o.x,y:o.y,l:s*({right:1,center:.5}[f]||0),r:s*({left:1,center:.5}[f]||0),b:c*({top:1,middle:.5}[h]||0),t:c*({bottom:1,middle:.5}[h]||0)})}},{"./plotly":48}],43:[function(e,t){"use strict";function r(e){var t;return t=O.test(e)?"Y":"y",t+=D.test(e)?"b":""}function n(e){var t;return t=E.test(e)?T.test(e)?"I":"H":"D"}function a(e,t){return t>e}function o(e,t){return t>=e}function i(e,t){return e>t}function l(e,t){return e>=t}function s(e,t){return function(){var r,n,a,o,i,l=e;for(o=0;o<t.length-1;o++){if(r=t[o],-1===r){for(n=!0,a=[],i=0;i<l.length;i++)a[i]=s(l[i],t.slice(o+1))(),a[i]!==a[0]&&(n=!1);return n?a[0]:a}if("number"==typeof r&&!Array.isArray(l))return void 0;if(l=l[r],"object"!=typeof l||null===l)return void 0}return"object"!=typeof l||null===l?void 0:(a=l[t[o]],null===a?void 0:a)}}function c(e,t){var r=["annotations","shapes","range","domain"],n=-1===r.indexOf(t);return Array.isArray(e)&&n}function u(e,t){return function(r){var n,a,o=e,i=[e],l=p(r)&&!c(r,t[t.length-1]);for(a=0;a<t.length-1;a++){if(n=t[a],"number"==typeof n&&!Array.isArray(o))throw"array index but container is not an array";if(-1===n){if(l=!d(o,t.slice(a+1),r))break;return}if(!f(o,n,t[a+1],l))break;if(o=o[n],"object"!=typeof o||null===o)throw"container is not an object";i.push(o)}l?(a===t.length-1&&delete o[t[a]],h(i)):o[t[a]]=r}}function d(e,t,r){var n,a=Array.isArray(r),o=!0,i=r,l=a?!1:p(r),s=t[0];for(n=0;n<e.length;n++)a&&(i=r[n%r.length],l=p(i)),l&&(o=!1),f(e,n,s,l)&&u(e[n],t)(i);return o}function f(e,t,r,n){if(void 0===e[t]){if(n)return!1;e[t]="number"==typeof r?[]:{}}return!0}function h(e){var t,r,n,a,o;for(t=e.length-1;t>=0;t--){if(n=e[t],o=!1,Array.isArray(n))for(r=n.length-1;r>=0;r--)p(n[r])?o?n[r]=void 0:n.pop():o=!0;else if("object"==typeof n&&null!==n)for(a=Object.keys(n),o=!1,r=a.length-1;r>=0;r--)p(n[a[r]])&&!c(n[a[r]],a[r])?delete n[a[r]]:o=!0;if(o)return}}function p(e){return void 0===e||null===e?!0:"object"!=typeof e?!1:Array.isArray(e)?!e.length:!Object.keys(e).length}function g(e,t,r){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:r,obj:e}}function m(){if(null===H){var e={arrayOk:!0};H={family:y.extendFlat(F.family,e),size:y.extendFlat(F.size,e),color:y.extendFlat(F.color,e)}}return H}var y=t.exports={},v=e("./plotly"),x=e("tinycolor2"),b=e("./isnumeric");y.dateTime2ms=function(e){try{if(e.getTime)return+e}catch(e){return!1}var t,r,n,a,o=String(e).split(" ");if(o.length>2)return!1;var i=o[0].split("-");if(i.length>3||3!==i.length&&o[1])return!1;if(4===i[0].length)t=Number(i[0]);else{if(2!==i[0].length)return!1;var l=(new Date).getFullYear();t=((Number(i[0])-l+70)%100+200)%100+l-70}return b(t)?1===i.length?new Date(t,0,1).getTime():(r=Number(i[1])-1,i[1].length>2||!(r>=0&&11>=r)?!1:2===i.length?new Date(t,r,1).getTime():(n=Number(i[2]),i[2].length>2||!(n>=1&&31>=n)?!1:(n=new Date(t,r,n).getTime(),o[1]?(i=o[1].split(":"),i.length>3?!1:(a=Number(i[0]),i[0].length>2||!(a>=0&&23>=a)?!1:(n+=36e5*a,1===i.length?n:(r=Number(i[1]),i[1].length>2||!(r>=0&&59>=r)?!1:(n+=6e4*r,2===i.length?n:(e=Number(i[2]),e>=0&&60>e?n+1e3*e:!1)))))):n))):!1},y.isDateTime=function(e){return y.dateTime2ms(e)!==!1},y.ms2DateTime=function(e,t){if("undefined"==typeof d3)return void console.log("d3 is not defined");t||(t=0);var r=new Date(e),n=d3.time.format("%Y-%m-%d")(r);return 7776e6>t?(n+=" "+y.lpad(r.getHours(),2),432e6>t&&(n+=":"+y.lpad(r.getMinutes(),2),108e5>t&&(n+=":"+y.lpad(r.getSeconds(),2),3e5>t&&(n+="."+y.lpad(r.getMilliseconds(),3)))),n.replace(/([:\s]00)*\.?[0]*$/,"")):n};var w={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},_={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},k=d3.time.format.utc,A={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(k),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(k)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(k)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(e){_[e].forEach(function(t){A[e].D.push(k(t)),["H","I","D"].forEach(function(r){w[r].forEach(function(n){var a=A[e][r];a.push(k(t+"~"+n)),a.push(k(n+"~"+t))})})})});var M=/[a-z]*/g,L=function(e){return e.substr(0,3)},z=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,C=/[\s,\/\-\.\(\)]+/g,S=/~?([ap])~?m(~|$)/,P=function(e,t){return t+"m "},O=/\d\d\d\d/,D=/(^|~)[a-z]{3}/,T=/[ap]m/,E=/:/,I=/q([1-4])/,j=["31~mar","30~jun","30~sep","31~dec"],N=function(e,t){return j[t-1]},R=/ ?([+\-]\d\d:?\d\d|Z)$/;y.parseDate=function(e){if(e.getTime)return e;if("string"!=typeof e)return!1;e=e.toLowerCase().replace(M,L).replace(z,"").replace(C,"~").replace(S,P).replace(I,N).trim().replace(R,"");var t,a,o=null,i=r(e),l=n(e);t=A[i][l],a=t.length;for(var s=0;a>s&&!(o=t[s].parse(e));s++);if(!(o instanceof Date))return!1;var c=o.getTimezoneOffset();return o.setTime(o.getTime()+60*c*1e3),o},y.findBin=function(e,t,r){if(b(t.start))return r?Math.ceil((e-t.start)/t.size)-1:Math.floor((e-t.start)/t.size);var n,s,c=0,u=t.length,d=0;for(s=t[t.length-1]>t[0]?r?a:o:r?l:i;u>c&&d++<100;)n=Math.floor((c+u)/2),s(t[n],e)?c=n+1:u=n;return d>90&&console.log("Long binary search..."),c-1},y.sorterAsc=function(e,t){return e-t},y.distinctVals=function(e){var t=e.slice();t.sort(y.sorterAsc);for(var r=t.length-1,n=t[r]-t[0]||1,a=n/(r||1)/1e4,o=[t[0]],i=0;r>i;i++)t[i+1]>t[i]+a&&(n=Math.min(n,t[i+1]-t[i]),o.push(t[i+1]));return{vals:o,minDiff:n}},y.roundUp=function(e,t,r){for(var n,a=0,o=t.length-1,i=0,l=r?0:1,s=r?1:0,c=r?Math.ceil:Math.floor;o>a&&i++<100;)n=c((a+o)/2),t[n]<=e?a=n+l:o=n-s;return t[a]},y.nestedProperty=function(e,t){if(b(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var r,n,a,o=0,i=t.split(".");o<i.length;){if(r=String(i[o]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])i[o]=r[1];else{if(0!==o)throw"bad property string";i.splice(0,1)}for(n=r[2].substr(1,r[2].length-2).split("]["),a=0;a<n.length;a++)o++,i.splice(o,0,Number(n[a]))}o++}return"object"!=typeof e?g(e,t,i):{set:u(e,i),get:s(e,i),astr:t,parts:i,obj:e}},y.swapAttrs=function(e,t,r,n){r||(r="x"),n||(n="y");for(var a=0;a<t.length;a++){var o=t[a],i=y.nestedProperty(e,o.replace("?",r)),l=y.nestedProperty(e,o.replace("?",n)),s=i.get();i.set(l.get()),l.set(s)}},y.pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1},y.lpad=function(e,t){return String(e+Math.pow(10,t)).substr(1)},y.aggNums=function(e,t,r,n){var a,o;if(n||(n=r.length),b(t)||(t=!1),Array.isArray(r[0])){for(o=new Array(n),a=0;n>a;a++)o[a]=y.aggNums(e,t,r[a]);r=o}for(a=0;n>a;a++)b(t)?b(r[a])&&(t=e(+t,+r[a])):t=r[a];return t},y.len=function(e){return y.aggNums(function(e){return e+1},0,e)},y.mean=function(e,t){return t||(t=y.len(e)),y.aggNums(function(e,t){return e+t},0,e)/t},y.variance=function(e,t,r){return t||(t=y.len(e)),b(r)||(r=y.mean(e,t)),y.aggNums(function(e,t){return e+Math.pow(t-r,2)},0,e)/t},y.stdev=function(e,t,r){return Math.sqrt(y.variance(e,t,r))},y.interp=function(e,t){if(!b(t))throw"n should be a finite number";if(t=t*e.length-.5,0>t)return e[0];if(t>e.length-1)return e[e.length-1];var r=t%1;return r*e[Math.ceil(t)]+(1-r)*e[Math.floor(t)]},y.VERBOSE=!1,y.TIMER=(new Date).getTime(),y.log=function(){y.VERBOSE&&console.log.apply(console,arguments)},y.markTime=function(e){if(y.VERBOSE){var t=(new Date).getTime();console.log(e,t-y.TIMER,"(msec)"),"trace"===y.VERBOSE&&console.trace(),y.TIMER=t}},y.constrain=function(e,t,r){return t>r?Math.max(r,Math.min(t,e)):Math.max(t,Math.min(r,e))};var B=[];y.notifier=function(e,t){function r(e){e.duration(700).style("opacity",0).each("end",function(e){var t=B.indexOf(e);-1!==t&&B.splice(t,1),d3.select(this).remove()})}if(-1===B.indexOf(e)){B.push(e);var n=1e3;b(t)?n=t:"long"===t&&(n=3e3);var a=d3.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0);var o=a.selectAll(".notifier-note").data(B);o.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=d3.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(r)}),t.append("p").html(e),t.transition().duration(700).style("opacity",1).transition().delay(n).call(r)})}},y.bBoxIntersect=function(e,t,r){return r=r||0,e.left<=t.right+r&&t.left<=e.right+r&&e.top<=t.bottom+r&&t.top<=e.bottom+r},y.identity=function(e){return e},y.randstr=function e(t,r,n){if(n||(n=16),void 0===r&&(r=24),0>=r)return"0";var a,o,i,l=Math.log(Math.pow(2,r))/Math.log(n),s="";for(a=2;1/0===l;a*=2)l=Math.log(Math.pow(2,r/a))/Math.log(n)*a;var c=l-Math.floor(l);for(a=0;a<Math.floor(l);a++)i=Math.floor(Math.random()*n).toString(n),s=i+s;c&&(o=Math.pow(n,c),i=Math.floor(Math.random()*o).toString(n),s=i+s);var u=parseInt(s,n);return t&&t.indexOf(s)>-1||1/0!==u&&u>=Math.pow(2,r)?e(t,r,n):s},y.OptionControl=function(e,t){e||(e={}),t||(t="opt");var r={};return r.optionList=[],r._newoption=function(n){n[t]=e,r[n.name]=n,r.optionList.push(n)},r["_"+t]=e,r},y.smooth=function(e,t){if(t=Math.round(t)||0,2>t)return e;var r,n,a,o,i=e.length,l=2*i,s=2*t-1,c=new Array(s),u=new Array(i);for(r=0;s>r;r++)c[r]=(1-Math.cos(Math.PI*(r+1)/t))/(2*t);for(r=0;i>r;r++){for(o=0,n=0;s>n;n++)a=r+n+1-t,-i>a?a-=l*Math.round(a/l):a>=l&&(a-=l*Math.floor(a/l)),0>a?a=-1-a:a>=i&&(a=l-1-a),o+=e[a]*c[n];u[r]=o}return u},y.getSources=function(e){var t=(e.ref_fids||[]).join(",");(e.fid||t)&&window.PLOTLYENV&&window.PLOTLYENV.DOMAIN_WEBAPP&&$.get("/getsources",{fid:e.fid,extrarefs:t},function(t){e.sourcelist=JSON.parse(t),Array.isArray(e.sourcelist)||(console.log("sourcelist error",e.sourcelist),e.sourcelist=[]),y.showSources(e)})},y.showSources=function(e){function t(){return pullf({fid:l.ref_fid}),!1}function r(){var e=$("#sourceModal"),t=e.find("#source-viewer").empty();return t.data("jsontree","").jsontree(JSON.stringify(v),{terminators:!1,collapsibleOuter:!1}).show(),p?e.find("[data-fid]").click(function(){return e.modal("hide"),pullf({fid:$(this).attr("data-fid")}),!1}):(e.find("[data-fid]").each(function(){f=$(this).attr("data-fid").split(":"),$(this).attr({href:"/~"+f[0]+"/"+f[1]})}),window.self!==window.top&&e.css({left:"10px",right:"10px",bottom:"10px",width:"auto",height:"auto",margin:0})),e.modal("show"),e.find(".close").off("click").on("click",function(){return e.modal("hide"),!1}),!1}function n(e,t){return 0>m?(console.log("infinite loop?"),e):(m--,a.forEach(function(r){if(r.ref_by_uid===t){var a;if(b(r.ref_fid))a='<a href="'+r.ref_url+'" target="_blank">'+r.ref_filename+"</a>";else{var o=r.ref_fid.split(":")[0],i=(o!==window.user?o+": ":"")+r.ref_filename;a='<a href="#" data-fid="'+r.ref_fid+'">'+i+"</a>"}e[a]=n({},r.uid)}}),e)}if(!e._context||!e._context.staticPlot){var a=e.sourcelist;if(!a)return void y.getSources(e);var o=d3.select(e).select(".js-sourcelinks"),i=a.filter(function(e){return b(e.ref_fid)}),l=i[0]||a[0];if(o.text(""),e.shouldshowsources=!1,l){var s={},c={};i.forEach(function(e){s[e.url]=1}),a.forEach(function(e){b(e.ref_fid)||(c[e.ref_fid]=1)});var u,d,f=String(l.ref_fid).split(":"),h=y.isPlotDiv(e),p=!h||e._context.workspace;if(h){var g=l.fid.split(":")[0];if(a.every(function(e){return String(e.ref_fid).split(":")[0]===g}))return;if(e.shouldshowsources=!0,e.layout.hidesources)return;o.append("tspan").text("Source: "),u=o.append("a").attr({"xlink:xlink:href":"#"}),b(l.ref_fid)?u.attr({"xlink:xlink:show":"new","xlink:xlink:href":l.ref_url}):p||u.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+f[1]+"/~"+f[0]}),a.length>1&&(o.append("tspan").text(" - "),d=o.append("a").attr({"xlink:xlink:href":"#"}))}else o.node()||(o=d3.select(e).select(".grid-container").append("div").attr("class","grid-sourcelinks js-sourcelinks")),o.append("span").text("Source: "),u=o.append("a").attr({href:"#",class:"link--impt"}),b(l.ref_fid)&&u.attr({target:"_blank",href:l.ref_url}),a.length>1&&(o.append("span").text(" - "),d=o.append("a").attr({href:"#"}).classed("link--impt",!0));u.text(l.ref_filename),(!h||p)&&u.on("click",t),d&&d.text("Full list").on("click",r);var m=a.length,v=n({},null)}}},y.promiseError=function(e){console.log(e,e.stack)},y.syncOrAsync=function(e,t,r){function n(){return y.markTime("async done "+o.name),y.syncOrAsync(e,t,r)}for(var a,o;e.length;){if(o=e.splice(0,1)[0],a=o(t),a&&a.then)return a.then(n).then(void 0,y.promiseError);y.markTime("sync done "+o.name)}return r&&r(t)},y.init2dArray=function(e,t){for(var r=new Array(e),n=0;e>n;n++)r[n]=new Array(t);return r},y.transposeRagged=function(e){var t,r,n=0,a=e.length;for(t=0;a>t;t++)n=Math.max(n,e[t].length);var o=new Array(n);for(t=0;n>t;t++)for(o[t]=new Array(a),r=0;a>r;r++)o[t][r]=e[r][t];return o},y.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,n,a=e.length;if(e[0].length)for(r=new Array(a),n=0;a>n;n++)r[n]=y.dot(e[n],t);else if(t[0].length){var o=y.transposeRagged(t);for(r=new Array(o.length),n=0;n<o.length;n++)r[n]=y.dot(e,o[n])}else for(r=0,n=0;a>n;n++)r+=e[n]*t[n];return r},y.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},y.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},y.rotationXYMatrix=function(e,t,r){return y.dot(y.dot(y.translationMatrix(t,r),y.rotationMatrix(e)),y.translationMatrix(-t,-r))},y.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return y.dot(e,[r[0],r[1],1]).slice(0,2)}},y.apply2DTransform2=function(e){var t=y.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},y.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e};var F={family:{type:"string",noBlank:!0,strict:!0},size:{type:"number",min:1},color:{type:"color"}},H=null,V={data_array:function(e,t,r){Array.isArray(e)?t.set(e):void 0!==r&&t.set(r)},enumerated:function(e,t,r,n){n.coerceNumber&&(e=+e),t.set(-1===n.values.indexOf(e)?r:e)},boolean:function(e,t,r){t.set(e===!0||e===!1?e:r)},number:function(e,t,r,n){t.set(!b(e)||void 0!==n.min&&e<n.min||void 0!==n.max&&e>n.max?r:+e)},integer:function(e,t,r,n){t.set(e%1||!b(e)||void 0!==n.min&&e<n.min||void 0!==n.max&&e>n.max?r:+e)},string:function(e,t,r,n){if(n.strict===!0&&"string"!=typeof e)return void t.set(r);var a=String(e);t.set(void 0===e||n.noBlank===!0&&!a?r:a)},color:function(e,t,r){t.set(x(e).isValid()?e:r)},colorscale:function(e,t,r){t.set(v.Colorscale.getScale(e,r))},font:function(e,t,r,n){e||(e={});var a={},o=n&&n.arrayOk?m():F;y.coerce(e,a,o,"size",r.size),y.coerce(e,a,o,"color",r.color),y.coerce(e,a,o,"family",r.family),t.set(a)},angle:function(e,t,r){"auto"===e?t.set("auto"):b(e)?(Math.abs(e)>180&&(e-=360*Math.round(e/360)),t.set(+e)):t.set(r)},axisid:function(e,t,r){if("string"==typeof e&&e.charAt(0)===r){var n=Number(e.substr(1));if(n%1===0&&n>1)return void t.set(e)}t.set(r)},sceneid:function(e,t,r){if("string"==typeof e&&e.substr(0,5)===r){var n=Number(e.substr(5));if(n%1===0&&n>1)return void t.set(e)}t.set(r)},geoid:function(e,t,r){if("string"==typeof e&&e.substr(0,3)===r){var n=Number(e.substr(3));if(n%1===0&&n>1)return void t.set(e)}t.set(r)},flaglist:function(e,t,r,n){if("string"!=typeof e)return void t.set(r);if(-1!==n.extras.indexOf(e))return void t.set(e);for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];-1===n.flags.indexOf(i)||a.indexOf(i)<o?a.splice(o,1):o++}t.set(a.length?a.join("+"):r)},any:function(e,t,r){t.set(void 0===e?r:e)}};y.coerce=function(e,t,r,n,a){var o=y.nestedProperty(r,n).get(),i=y.nestedProperty(e,n),l=y.nestedProperty(t,n),s=i.get();return void 0===a&&(a=o.dflt),o.arrayOk&&Array.isArray(s)?(l.set(s),s):(V[o.type](s,l,a,o),l.get())},y.noneOrAll=function(e,t,r){if(e){var n,a,o=!1,i=!0;for(n=0;n<r.length;n++)a=e[r[n]],void 0!==a&&null!==a?o=!0:i=!1;if(o&&!i)for(n=0;n<r.length;n++)e[r[n]]=t[r[n]]}},y.mergeArray=function(e,t,r){if(Array.isArray(e))for(var n=Math.min(e.length,t.length),a=0;n>a;a++)t[a][r]=e[a]},y.minExtend=function(e,t){var r={};"object"!=typeof t&&(t={});var n,a,o,i=3,l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],o=e[a],"_"!==a.charAt(0)&&"function"!=typeof o&&(r[a]="module"===a?o:Array.isArray(o)?o.slice(0,i):o&&"object"==typeof o?y.minExtend(e[a],t[a]):o);for(l=Object.keys(t),n=0;n<l.length;n++)a=l[n],o=t[a],"object"==typeof o&&a in r&&"object"==typeof r[a]||(r[a]=o);return r},y.extendFlat=function(e,t){function r(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]}var n={};return"object"==typeof e&&r(e),"object"==typeof t&&r(t),n},y.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},y.containsAny=function(e,t){for(var r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return!0;return!1},y.getPlotDiv=function(e){for(;e&&e.removeAttribute;e=e.parentNode)if(y.isPlotDiv(e))return e},y.isPlotDiv=function(e){var t=d3.select(e);return t.size()&&t.classed("js-plotly-plot")},y.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},y.addStyleRule=function(e,t){if(!y.styleSheet){var r=document.createElement("style");r.appendChild(document.createTextNode("")),document.head.appendChild(r),y.styleSheet=r.sheet}var n=y.styleSheet;n.insertRule?n.insertRule(e+"{"+t+"}",0):n.addRule?n.addRule(e,t,0):console.warn("addStyleRule failed")},y.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob}},{"./isnumeric":41,"./plotly":48,tinycolor2:8}],44:[function(e,t){{var r=t.exports={version:"0.2.2"},n=r;e("./plotly")}n.Axis=function(){function e(e){r=e||r;var l=i.data,c=i.layout;return("string"==typeof r||r.nodeName)&&(r=d3.select(r)),r.datum(l).each(function(e){function r(e){return o(e)%360+c.orientation}var i=e.slice();s={data:n.util.cloneJson(i),layout:n.util.cloneJson(c)};var l=0;i.forEach(function(e,t){e.color||(e.color=c.defaultColorRange[l],l=(l+1)%c.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:d3.rgb(e.color).darker().toString()),s.data[t].color=e.color,s.data[t].strokeColor=e.strokeColor,s.data[t].strokeDash=e.strokeDash,s.data[t].strokeSize=e.strokeSize});var u=i.filter(function(e){var t=e.visible;return"undefined"==typeof t||t===!0}),d=!1,f=u.map(function(e){return d=d||"undefined"!=typeof e.groupId,e});if(d){var h=d3.nest().key(function(e){return"undefined"!=typeof e.groupId?e.groupId:"unstacked"}).entries(f),p=[],g=h.map(function(e){if("unstacked"===e.key)return e.values;var t=e.values[0].r.map(function(){return 0});return e.values.forEach(function(e){e.yStack=[t],p.push(t),t=n.util.sumArrays(e.r,t)}),e.values});u=d3.merge(g)}u.forEach(function(e){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var m=Math.min(c.width-c.margin.left-c.margin.right,c.height-c.margin.top-c.margin.bottom)/2;m=Math.max(10,m);var y,v=[c.margin.left+m,c.margin.top+m];if(d){var x=d3.max(n.util.sumArrays(n.util.arrayLast(u).r[0],n.util.arrayLast(p)));y=[0,x]}else y=d3.extent(n.util.flattenArray(u.map(function(e){return e.r})));c.radialAxis.domain!=n.DATAEXTENT&&(y[0]=0),a=d3.scale.linear().domain(c.radialAxis.domain!=n.DATAEXTENT&&c.radialAxis.domain?c.radialAxis.domain:y).range([0,m]),s.layout.radialAxis.domain=a.domain();var b,w=n.util.flattenArray(u.map(function(e){return e.t})),_="string"==typeof w[0];_&&(w=n.util.deduplicate(w),b=w.slice(),w=d3.range(w.length),u=u.map(function(e){var t=e;return e.t=[w],d&&(t.yStack=e.yStack),t}));var k=u.filter(function(e){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===u.length,A=null===c.needsEndSpacing?_||!k:c.needsEndSpacing,M=c.angularAxis.domain&&c.angularAxis.domain!=n.DATAEXTENT&&!_&&c.angularAxis.domain[0]>=0,L=M?c.angularAxis.domain:d3.extent(w),z=Math.abs(w[1]-w[0]);k&&!_&&(z=0);var C=L.slice();A&&_&&(C[1]+=z);var S=c.angularAxis.ticksCount||4;S>8&&(S=S/(S/8)+S%8),c.angularAxis.ticksStep&&(S=(C[1]-C[0])/S);var P=c.angularAxis.ticksStep||(C[1]-C[0])/(S*(c.minorTicks+1));b&&(P=Math.max(Math.round(P),1)),C[2]||(C[2]=P);var O=d3.range.apply(this,C);if(O=O.map(function(e){return parseFloat(e.toPrecision(12))}),o=d3.scale.linear().domain(C.slice(0,2)).range("clockwise"===c.direction?[0,360]:[360,0]),s.layout.angularAxis.domain=o.domain(),s.layout.angularAxis.endPadding=A?z:0,t=d3.select(this).select("svg.chart-root"),"undefined"==typeof t||t.empty()){var D='<svg xmlns="http://www.w3.org/2000/svg" class="chart-root"><g class="outer-group"><g class="chart-group"><circle class="background-circle"></circle><g class="geometry-group"></g><g class="radial axis-group"><circle class="outside-circle"></circle></g><g class="angular axis-group"></g><g class="guides-group"><line></line><circle r="0"></circle></g></g><g class="legend-group"></g><g class="tooltips-group"></g><g class="title-group"><text></text></g></g></svg>',T=(new DOMParser).parseFromString(D,"application/xml"),E=this.appendChild(this.ownerDocument.importNode(T.documentElement,!0));t=d3.select(E)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var I,j=t.select(".chart-group"),N={fill:"none",stroke:c.tickColor},R={"font-size":c.font.size,"font-family":c.font.family,fill:c.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e){return" "+e+" 0 "+c.font.outlineColor}).join(",")};if(c.showLegend){I=t.select(".legend-group").attr({transform:"translate("+[m,c.margin.top]+")"}).style({display:"block"});var B=u.map(function(e){var t=n.util.cloneJson(e);return t.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",t.visibleInLegend="undefined"==typeof e.visibleInLegend||e.visibleInLegend,t.color="LinePlot"===e.geometry?e.strokeColor:e.color,t}),F=n.util.deepExtend({},n.Legend.defaultConfig().legendConfig),H=n.util.deepExtend(F,{container:I,elements:B,reverseOrder:c.legend.reverseOrder}),V={data:u.map(function(e,t){return e.name||"Element"+t}),legendConfig:H};n.Legend().config(V)();var q=I.node().getBBox();m=Math.min(c.width-q.width-c.margin.left-c.margin.right,c.height-c.margin.top-c.margin.bottom)/2,m=Math.max(10,m),v=[c.margin.left+m,c.margin.top+m],a.range([0,m]),s.layout.radialAxis.domain=a.domain(),I.attr("transform","translate("+[v[0]+m,v[1]-m]+")")}else I=t.select(".legend-group").style({display:"none"});t.attr({width:c.width,height:c.height}).style({opacity:c.opacity}),j.attr("transform","translate("+v+")").style({cursor:"crosshair"});var G=[(c.width-(c.margin.left+c.margin.right+2*m+(q?q.width:0)))/2,(c.height-(c.margin.top+c.margin.bottom+2*m))/2];if(G[0]=Math.max(0,G[0]),G[1]=Math.max(0,G[1]),t.select(".outer-group").attr("transform","translate("+G+")"),c.title){var Z=t.select("g.title-group text").style(R).text(c.title),U=Z.node().getBBox();Z.attr({x:v[0]-U.width/2,y:v[1]-m-20})}var Y=t.select(".radial.axis-group");if(c.radialAxis.gridLinesVisible){var X=Y.selectAll("circle.grid-circle").data(a.ticks(5));X.enter().append("circle").attr({class:"grid-circle"}).style(N),X.attr("r",a),X.exit().remove()}Y.select("circle.outside-circle").attr({r:m}).style(N);var $=t.select("circle.background-circle").attr({r:m}).style({fill:c.backgroundColor,stroke:c.stroke});if(c.radialAxis.visible){var J=d3.svg.axis().scale(a).ticks(5).tickSize(5);Y.call(J).attr({transform:"rotate("+c.radialAxis.orientation+")"}),Y.selectAll(".domain").style(N),Y.selectAll("g>text").text(function(){return this.textContent+c.radialAxis.ticksSuffix}).style(R).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(){return"horizontal"===c.radialAxis.tickOrientation?"rotate("+-c.radialAxis.orientation+") translate("+[0,R["font-size"]]+")":"translate("+[0,R["font-size"]]+")"}}),Y.selectAll("g>line").style({stroke:"black"})}var K=t.select(".angular.axis-group").selectAll("g.angular-tick").data(O),Q=K.enter().append("g").classed("angular-tick",!0);K.attr({transform:function(e,t){return"rotate("+r(e,t)+")"}}).style({display:c.angularAxis.visible?"block":"none"}),K.exit().remove(),Q.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(c.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(c.minorTicks+1)==0)}).style(N),Q.selectAll(".minor").style({stroke:c.minorTickColor}),K.select("line.grid-line").attr({x1:c.tickLength?m-c.tickLength:0,x2:m}).style({display:c.angularAxis.gridLinesVisible?"block":"none"}),Q.append("text").classed("axis-text",!0).style(R);var W=K.select("text.axis-text").attr({x:m+c.labelOffset,dy:".35em",transform:function(e,t){var n=r(e,t),a=m+c.labelOffset,o=c.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-n+" "+a+" 0)":"radial"==o?270>n&&n>90?"rotate(180 "+a+" 0)":null:"rotate("+(180>=n&&n>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:c.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(c.minorTicks+1)!=0?"":b?b[e]+c.angularAxis.ticksSuffix:e+c.angularAxis.ticksSuffix}).style(R);c.angularAxis.rewriteTicks&&W.text(function(e,t){return t%(c.minorTicks+1)!=0?"":c.angularAxis.rewriteTicks(this.textContent,t)});var et=d3.max(j.selectAll(".angular-tick text")[0].map(function(e){return e.getCTM().e+e.getBBox().width}));I.attr({transform:"translate("+[m+et,c.margin.top]+")"});var tt=t.select("g.geometry-group").selectAll("g").size()>0,rt=t.select("g.geometry-group").selectAll("g.geometry").data(u);if(rt.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),rt.exit().remove(),u[0]||tt){var nt=[];u.forEach(function(e,t){var r={};r.radialScale=a,r.angularScale=o,r.container=rt.filter(function(e,r){return r==t}),r.geometry=e.geometry,r.orientation=c.orientation,r.direction=c.direction,r.index=t,nt.push({data:e,geometryConfig:r})});var at=d3.nest().key(function(e){return"undefined"!=typeof e.data.groupId||"unstacked"}).entries(nt),ot=[];at.forEach(function(e){"unstacked"===e.key?ot=ot.concat(e.values.map(function(e){return[e]
})):ot.push(e.values)}),ot.forEach(function(e){var t;t=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e){return n.util.deepExtend(n[t].defaultConfig(),e)});n[t]().config(r)()})}var it,lt,st=t.select(".guides-group"),ct=t.select(".tooltips-group"),ut=n.tooltipPanel().config({container:ct,fontSize:8})(),dt=n.tooltipPanel().config({container:ct,fontSize:8})(),ft=n.tooltipPanel().config({container:ct,hasTick:!0})();if(!_){var ht=st.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});j.on("mousemove.angular-guide",function(){var e=n.util.getMousePos($).angle;ht.attr({x2:-m,transform:"rotate("+e+")"}).style({opacity:.5});var t=(e+180+360-c.orientation)%360;it=o.invert(t);var r=n.util.convertToCartesian(m+12,e+180);ut.text(n.util.round(it)).move([r[0]+v[0],r[1]+v[1]])}).on("mouseout.angular-guide",function(){st.select("line").style({opacity:0})})}var pt=st.select("circle").style({stroke:"grey",fill:"none"});j.on("mousemove.radial-guide",function(){var e=n.util.getMousePos($).radius;pt.attr({r:e}).style({opacity:.5}),lt=a.invert(n.util.getMousePos($).radius);var t=n.util.convertToCartesian(e,c.radialAxis.orientation);dt.text(n.util.round(lt)).move([t[0]+v[0],t[1]+v[1]])}).on("mouseout.radial-guide",function(){pt.style({opacity:0}),ft.hide(),ut.hide(),dt.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e){var r=d3.select(this),a=r.style("fill"),o="black",i=r.style("opacity")||1;if(r.attr({"data-opacity":i}),"none"!=a){r.attr({"data-fill":a}),o=d3.hsl(a).darker().toString(),r.style({fill:o,opacity:1});var l={t:n.util.round(e[0]),r:n.util.round(e[1])};_&&(l.t=b[e[0]]);var s="t: "+l.t+", r: "+l.r,c=this.getBoundingClientRect(),u=t.node().getBoundingClientRect(),d=[c.left+c.width/2-G[0]-u.left,c.top+c.height/2-G[1]-u.top];ft.config({color:o}).text(s),ft.move(d)}else a=r.style("stroke"),r.attr({"data-stroke":a}),o=d3.hsl(a).darker().toString(),r.style({stroke:o,opacity:1})}).on("mousemove.tooltip",function(){return 0!=d3.event.which?!1:void(d3.select(this).attr("data-fill")&&ft.show())}).on("mouseout.tooltip",function(){ft.hide();var e=d3.select(this),t=e.attr("data-fill");e.style(t?{fill:t,opacity:e.attr("data-opacity")}:{stroke:e.attr("data-stroke"),opacity:e.attr("data-opacity")})})}),u}var t,r,a,o,i={data:[],layout:{}},l={},s={},c=d3.dispatch("hover"),u={};return u.render=function(t){return e(t),this},u.config=function(e){if(!arguments.length)return i;var t=n.util.cloneJson(e);return t.data.forEach(function(e,t){i.data[t]||(i.data[t]={}),n.util.deepExtend(i.data[t],n.Axis.defaultConfig().data[0]),n.util.deepExtend(i.data[t],e)}),n.util.deepExtend(i.layout,n.Axis.defaultConfig().layout),n.util.deepExtend(i.layout,t.layout),this},u.getLiveConfig=function(){return s},u.getinputConfig=function(){return l},u.radialScale=function(){return a},u.angularScale=function(){return o},u.svg=function(){return t},d3.rebind(u,c,"on"),u},n.Axis.defaultConfig=function(){var e={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:d3.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return e},n.util={},n.DATAEXTENT="dataExtent",n.AREA="AreaChart",n.LINE="LinePlot",n.DOT="DotPlot",n.BAR="BarChart",n.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},n.util._extend=function(e,t){for(var r in e)t[r]=e[r]},n.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},n.util.dataFromEquation2=function(e,t){var r=t||6,n=d3.range(0,360+r,r).map(function(t){var r=t*Math.PI/180,n=e(r);return[t,n]});return n},n.util.dataFromEquation=function(e,t,r){var n=t||6,a=[],o=[];d3.range(0,360+n,n).forEach(function(t){var r=t*Math.PI/180,n=e(r);a.push(t),o.push(n)});var i={t:a,r:o};return r&&(i.name=r),i},n.util.ensureArray=function(e,t){if("undefined"==typeof e)return null;var r=[].concat(e);return d3.range(t).map(function(e,t){return r[t]||r[0]})},n.util.fillArrays=function(e,t,r){return t.forEach(function(t){e[t]=n.util.ensureArray(e[t],r)}),e},n.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},n.util.deepExtend=function(e,t){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(e[r]=e[r]||{},arguments.callee(e[r],t[r])):e[r]=t[r];return e},n.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},n.util.sumArrays=function(e,t){return d3.zip(e,t).map(function(e){return d3.sum(e)})},n.util.arrayLast=function(e){return e[e.length-1]},n.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-->=0&&e[r]===t[r];);return-2===r},n.util.flattenArray=function(e){for(var t=[];!n.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},n.util.deduplicate=function(e){return e.filter(function(e,t,r){return r.indexOf(e)==t})},n.util.convertToCartesian=function(e,t){var r=t*Math.PI/180,n=e*Math.cos(r),a=e*Math.sin(r);return[n,a]},n.util.round=function(e,t){var r=t||2,n=Math.pow(10,r);return Math.round(e*n)/n},n.util.getMousePos=function(e){var t=d3.mouse(e.node()),r=t[0],n=t[1],a={};return a.x=r,a.y=n,a.pos=t,a.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,a.radius=Math.sqrt(r*r+n*n),a},n.util.duplicatesCount=function(e){for(var t,r={},n={},a=0,o=e.length;o>a;a++)t=e[a],t in r?(r[t]++,n[t]=r[t]):r[t]=1;return n},n.util.duplicates=function(e){return Object.keys(n.util.duplicatesCount(e))},n.util.translator=function(e,t,r,n){if(n){var a=r.slice();r=t,t=a}var o=t.reduce(function(e,t){return"undefined"!=typeof e?e[t]:void 0},e);"undefined"!=typeof o&&(t.reduce(function(e,r,n){return"undefined"!=typeof e?(n===t.length-1&&delete e[r],e[r]):void 0},e),r.reduce(function(e,t,n){return"undefined"==typeof e[t]&&(e[t]={}),n===r.length-1&&(e[t]=o),e[t]},e))},n.PolyChart=function(){function e(){var e=r[0].geometryConfig,t=e.container;"string"==typeof t&&(t=d3.select(t)),t.datum(r).each(function(t){function r(t){var r=e.radialScale(t[1]),n=(e.angularScale(t[0])+e.orientation)*Math.PI/180;return{r:r,t:n}}function n(e){var t=e.r*Math.cos(e.t),r=e.r*Math.sin(e.t);return{x:t,y:r}}var a=!!t[0].data.yStack,i=t.map(function(e){return a?d3.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):d3.zip(e.data.t[0],e.data.r[0])}),l=e.angularScale,s=e.radialScale.domain()[0],c={};c.bar=function(r,n,a){var o=t[a].data,i=e.radialScale(r[1])-e.radialScale(0),s=e.radialScale(r[2]||0),c=o.barWidth;d3.select(this).attr({class:"mark bar",d:"M"+[[i+s,-c/2],[i+s,c/2],[s,c/2],[s,-c/2]].join("L")+"Z",transform:function(t){return"rotate("+(e.orientation+l(t[0]))+")"}})},c.dot=function(e,a,o){var i=e[2]?[e[0],e[1]+e[2]]:e,l=d3.svg.symbol().size(t[o].data.dotSize).type(t[o].data.dotType)(e,a);d3.select(this).attr({class:"mark dot",d:l,transform:function(){var e=n(r(i));return"translate("+[e.x,e.y]+")"}})};var u=d3.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});c.line=function(r,n,a){var o=r[2]?i[a].map(function(e){return[e[0],e[1]+e[2]]}):i[a];if(d3.select(this).each(c.dot).style({opacity:function(){return+t[a].data.dotVisible},fill:p.stroke(r,n,a)}).attr({class:"mark dot"}),!(n>0)){var l=d3.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:u(o),transform:function(){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(){return p.fill(r,n,a)},"fill-opacity":0,stroke:function(){return p.stroke(r,n,a)},"stroke-width":function(){return p["stroke-width"](r,n,a)},"stroke-dasharray":function(){return p["stroke-dasharray"](r,n,a)},opacity:function(){return p.opacity(r,n,a)},display:function(){return p.display(r,n,a)}})}};var d=e.angularScale.range(),f=Math.abs(d[1]-d[0])/i[0].length*Math.PI/180,h=d3.svg.arc().startAngle(function(){return-f/2}).endAngle(function(){return f/2}).innerRadius(function(t){return e.radialScale(s+(t[2]||0))}).outerRadius(function(t){return e.radialScale(s+(t[2]||0))+e.radialScale(t[1])});c.arc=function(){d3.select(this).attr({class:"mark arc",d:h,transform:function(t){return"rotate("+(e.orientation+l(t[0])+90)+")"}})};var p={fill:function(e,r,n){return t[n].data.color},stroke:function(e,r,n){return t[n].data.strokeColor},"stroke-width":function(e,r,n){return t[n].data.strokeSize+"px"},"stroke-dasharray":function(e,r,n){return o[t[n].data.strokeDash]},opacity:function(e,r,n){return t[n].data.opacity},display:function(e,r,n){return"undefined"==typeof t[n].data.visible||t[n].data.visible?"block":"none"}},g=d3.select(this).selectAll("g.layer").data(i);g.enter().append("g").attr({class:"layer"});var m=g.selectAll("path.mark").data(function(e){return e});m.enter().append("path").attr({class:"mark"}),m.style(p).each(c[e.geometryType]),m.exit().remove(),g.exit().remove()})}var t,r=[n.PolyChart.defaultConfig()],a=d3.dispatch("hover"),o={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(e.forEach(function(e,t){r[t]||(r[t]={}),n.util.deepExtend(r[t],n.PolyChart.defaultConfig()),n.util.deepExtend(r[t],e)}),this):r},e.getColorScale=function(){return t},d3.rebind(e,a,"on"),e},n.PolyChart.defaultConfig=function(){var e={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:d3.scale.category20()}};return e},n.BarChart=function(){return n.PolyChart()},n.BarChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"bar"}};return e},n.AreaChart=function(){return n.PolyChart()},n.AreaChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"arc"}};return e},n.DotPlot=function(){return n.PolyChart()},n.DotPlot.defaultConfig=function(){var e={geometryConfig:{geometryType:"dot",dotType:"circle"}};return e},n.LinePlot=function(){return n.PolyChart()},n.LinePlot.defaultConfig=function(){var e={geometryConfig:{geometryType:"line"}};return e},n.Legend=function(){function e(){var r=t.legendConfig,a=t.data.map(function(e,t){return[].concat(e).map(function(e,a){var o=n.util.deepExtend({},r.elements[t]);return o.name=e,o.color=[].concat(r.elements[t].color)[a],o})}),o=d3.merge(a);o=o.filter(function(e,t){return r.elements[t]&&(r.elements[t].visibleInLegend||"undefined"==typeof r.elements[t].visibleInLegend)}),r.reverseOrder&&(o=o.reverse());var i=r.container;("string"==typeof i||i.nodeName)&&(i=d3.select(i));var l=o.map(function(e){return e.color}),s=r.fontSize,c=null==r.isContinuous?"number"==typeof o[0]:r.isContinuous,u=c?r.height:s*o.length,d=i.classed("legend-group",!0),f=d.selectAll("svg").data([0]),h=f.enter().append("svg").attr({width:300,height:u+s,xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var p=d3.range(o.length),g=d3.scale[c?"linear":"ordinal"]().domain(p).range(l),m=d3.scale[c?"linear":"ordinal"]().domain(p)[c?"range":"rangePoints"]([0,u]),y=function(e,t){var r=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=d3.svg.symbolTypes.indexOf(e)?d3.svg.symbol().type(e).size(r)():d3.svg.symbol().type("square").size(r)()};if(c){var v=f.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);v.enter().append("stop"),v.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e){return e}}),f.append("rect").classed("legend-mark",!0).attr({height:r.height,width:r.colorBandWidth,fill:"url(#grad1)"})}else{var x=f.select(".legend-marks").selectAll("path.legend-mark").data(o);x.enter().append("path").classed("legend-mark",!0),x.attr({transform:function(e,t){return"translate("+[s/2,m(t)+s/2]+")"},d:function(e){var t=e.symbol;return y(t,s)},fill:function(e,t){return g(t)}}),x.exit().remove()}var b=d3.svg.axis().scale(m).orient("right"),w=f.select("g.legend-axis").attr({transform:"translate("+[c?r.colorBandWidth:s,s/2]+")"}).call(b);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:c?r.textColor:"none"}),w.selectAll("text").style({fill:r.textColor,"font-size":r.fontSize}).text(function(e,t){return o[t].name}),e}var t=n.Legend.defaultConfig(),r=d3.dispatch("hover");return e.config=function(e){return arguments.length?(n.util.deepExtend(t,e),this):t},d3.rebind(e,r,"on"),e},n.Legend.defaultConfig=function(){var e={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return e},n.tooltipPanel=function(){var e,t,r,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},o="tooltip-"+n.tooltipPanel.uid++,i=10,l=function(){e=a.container.selectAll("g."+o).data([0]);var n=e.enter().append("g").classed(o,!0).style({"pointer-events":"none",display:"none"});return r=n.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=n.append("text").attr({dx:a.padding+i,dy:.3*+a.fontSize}),l};return l.text=function(n){var o=d3.hsl(a.color).l,s=o>=.5?"#aaa":"white",c=o>=.5?"black":"white",u=n||"";t.style({fill:c,"font-size":a.fontSize+"px"}).text(u);var d=a.padding,f=t.node().getBBox(),h={fill:a.color,stroke:s,"stroke-width":"2px"},p=f.width+2*d+i,g=f.height+2*d;return r.attr({d:"M"+[[i,-g/2],[i,-g/4],[a.hasTick?0:i,0],[i,g/4],[i,g/2],[p,g/2],[p,-g/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[i,-g/2+2*d]+")"}),e.style({display:"block"}),l},l.move=function(t){return e?(e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),l):void 0},l.hide=function(){return e?(e.style({display:"none"}),l):void 0},l.show=function(){return e?(e.style({display:"block"}),l):void 0},l.config=function(e){return n.util.deepExtend(a,e),l},l},n.tooltipPanel.uid=1,n.adapter={},n.adapter.plotly=function(){var e={};return e.convert=function(e,t){var r={};if(e.data&&(r.data=e.data.map(function(e){var r=n.util.deepExtend({},e),a=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return a.forEach(function(e){n.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",r.dotVisible===!0?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var a=n.util.duplicates(r.data.map(function(e){return e.geometry}));r.data.forEach(function(e,t){var n=a.indexOf(e.geometry);-1!=n&&(r.data[t].groupId=n)})}if(e.layout){var o=n.util.deepExtend({},e.layout),i=[[o,["plot_bgcolor"],["backgroundColor"]],[o,["showlegend"],["showLegend"]],[o,["radialaxis"],["radialAxis"]],[o,["angularaxis"],["angularAxis"]],[o.angularaxis,["showline"],["gridLinesVisible"]],[o.angularaxis,["showticklabels"],["labelsVisible"]],[o.angularaxis,["nticks"],["ticksCount"]],[o.angularaxis,["tickorientation"],["tickOrientation"]],[o.angularaxis,["ticksuffix"],["ticksSuffix"]],[o.angularaxis,["range"],["domain"]],[o.angularaxis,["endpadding"],["endPadding"]],[o.radialaxis,["showline"],["gridLinesVisible"]],[o.radialaxis,["tickorientation"],["tickOrientation"]],[o.radialaxis,["ticksuffix"],["ticksSuffix"]],[o.radialaxis,["range"],["domain"]],[o.angularAxis,["showline"],["gridLinesVisible"]],[o.angularAxis,["showticklabels"],["labelsVisible"]],[o.angularAxis,["nticks"],["ticksCount"]],[o.angularAxis,["tickorientation"],["tickOrientation"]],[o.angularAxis,["ticksuffix"],["ticksSuffix"]],[o.angularAxis,["range"],["domain"]],[o.angularAxis,["endpadding"],["endPadding"]],[o.radialAxis,["showline"],["gridLinesVisible"]],[o.radialAxis,["tickorientation"],["tickOrientation"]],[o.radialAxis,["ticksuffix"],["ticksSuffix"]],[o.radialAxis,["range"],["domain"]],[o.font,["outlinecolor"],["outlineColor"]],[o.legend,["traceorder"],["reverseOrder"]],[o,["labeloffset"],["labelOffset"]],[o,["defaultcolorrange"],["defaultColorRange"]]];if(i.forEach(function(e){n.util.translator.apply(null,e.concat(t))}),t?("undefined"!=typeof o.tickLength&&(o.angularaxis.ticklen=o.tickLength,delete o.tickLength),o.tickColor&&(o.angularaxis.tickcolor=o.tickColor,delete o.tickColor)):(o.angularAxis&&"undefined"!=typeof o.angularAxis.ticklen&&(o.tickLength=o.angularAxis.ticklen),o.angularAxis&&"undefined"!=typeof o.angularAxis.tickcolor&&(o.tickColor=o.angularAxis.tickcolor)),o.legend&&"boolean"!=typeof o.legend.reverseOrder&&(o.legend.reverseOrder="normal"!=o.legend.reverseOrder),o.legend&&"boolean"==typeof o.legend.traceorder&&(o.legend.traceorder=o.legend.traceorder?"reversed":"normal",delete o.legend.reverseOrder),o.margin&&"undefined"!=typeof o.margin.t){var l=["t","r","b","l","pad"],s=["top","right","bottom","left","pad"],c={};d3.entries(o.margin).forEach(function(e){c[s[l.indexOf(e.key)]]=e.value}),o.margin=c}t&&(delete o.needsEndSpacing,delete o.minorTickColor,delete o.minorTicks,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksStep,delete o.angularaxis.rewriteTicks,delete o.angularaxis.nticks,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksStep,delete o.radialaxis.rewriteTicks,delete o.radialaxis.nticks),r.layout=o}return r},e}},{"./plotly":48}],45:[function(e,t){"use strict";var r=t.exports={},n=e("./plotly");r.framework=function(e){function t(t,o){return o&&(s=o),d3.select(d3.select(s).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),a=a?n.micropolar.util.deepExtend(a,t):t,i||(i=n.micropolar.Axis()),l=n.micropolar.adapter.plotly().convert(a),i.config(l).render(s),e.data=a.data,e.layout=a.layout,r.fillLayout(e),a}var a,o,i,l,s,c=new n.util.UndoManager;return t.isPolar=!0,t.svg=function(){return i.svg()},t.getConfig=function(){return a},t.getLiveConfig=function(){return n.micropolar.adapter.plotly().convert(i.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},t.setUndoPoint=function(){var e=this,t=n.micropolar.util.cloneJson(a);!function(t,r){c.add({undo:function(){r&&e(r)},redo:function(){e(t)}})}(t,o),o=n.micropolar.util.cloneJson(t)},t.undo=function(){c.undo()},t.redo=function(){c.redo()},t},r.fillLayout=function(e){var t=d3.select(e).selectAll(".plot-container"),r=t.selectAll(".svg-container"),a=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:n.Color.background,_container:t,_paperdiv:r,_paper:a};e._fullLayout=n.micropolar.util.deepExtend(o,e.layout)}},{"./plotly":48}],46:[function(e,t){"use strict";function r(e){if(!(this instanceof r))return new r;var t=this;this._snapshotInProgress=!1,this.graphInfo=e.graphInfo,this.element=document.createElement("div"),this.element.className="hover"===this.graphInfo._context.displayModeBar?"modebar modebar--hover":"modebar",this.buttons=e.buttons,this.buttonElements=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var n=t.config()[e];if(!n)throw new Error(e+" not specfied in modebar configuration");var a=t.createButton(n);t.buttonElements.push(a),r.appendChild(a)}),t.element.appendChild(r)}),this.graphInfo._context.displaylogo&&this.element.appendChild(this.getLogo()),e.container.appendChild(this.element),this.updateActiveButton()}var n=e("./plotly"),a=r.prototype;a.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},a.createButton=function(e){var t=this,r=document.createElement("a");return r.setAttribute("rel","tooltip"),r.className="modebar-btn",void 0!==e.attr&&r.setAttribute("data-attr",e.attr),void 0!==e.val&&r.setAttribute("data-val",e.val),r.setAttribute("data-title",e.title),r.setAttribute("data-gravity",e.gravity||"n"),r.addEventListener("click",function(){e.click.apply(t,arguments)}),r.setAttribute("data-toggle",e.toggle),e.toggle&&r.classList.add("active"),r.appendChild(this.createIcon(n.Icons[e.icon])),r},a.createIcon=function(e){var t=n.Icons,r=t.ascent-t.descent,a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),i=document.createElementNS(a,"path");return o.setAttribute("height","1em"),o.setAttribute("width",e.width/r+"em"),o.setAttribute("viewBox",[0,0,e.width,r].join(" ")),i.setAttribute("d",e.path),i.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),o.appendChild(i),o},a.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var n=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),o="true"===e.getAttribute("data-toggle"),i=d3.select(e);o?a===r&&i.classed("active",!i.classed("active")):i.classed("active",t[a]===n)})},a.hasButtons=function(e){var t=this.buttons;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var n=0;n<e[r].length;n++)if(e[r][n]!==t[r][n])return!1}return!0},a.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title","Produced with Plotly"),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(n.Icons.plotlylogo)),e.appendChild(t),e},a.handleCartesian=function(e){var t=e.currentTarget,r=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=this,i=this.graphInfo,l=this.graphInfo._fullLayout,s={};if("zoom"===r)for(var c,u,d,f="in"===a?.5:2,h=(1+f)/2,p=(1-f)/2,g=n.Axes.list(i,null,!0),m=0;m<g.length;m++)c=g[m],c.fixedrange||(u=c._name,"auto"===a?s[u+".autorange"]=!0:"reset"===a?void 0===c._rangeInitial?s[u+".autorange"]=!0:s[u+".range"]=c._rangeInitial.slice():(d=c.range,s[u+".range"]=[h*d[0]+p*d[1],h*d[1]+p*d[0]]));else"hovermode"!==r||"x"!==a&&"y"!==a||(a=l._isHoriz?"y":"x",t.setAttribute("data-val",a)),s[r]=a;n.relayout(i,s).then(function(){o.updateActiveButton(),"dragmode"===r&&(n.Fx.setCursor(l._paper.select(".nsewdrag"),{pan:"move",zoom:"crosshair"}[a]),n.Fx.supplyLayoutDefaults(i.layout,l,i._fullData))})},a.handleHover3d=function(e){var t,r,a,o,i,l,s,c,u,d=e.currentTarget,f=JSON.parse(d.getAttribute("data-val"))||!1,h=this,p=this.graphInfo,g=p._fullLayout,m=n.Plots.getSubplotIds(g,"gl3d"),y={},v={},x=["xaxis","yaxis","zaxis"],b=["showspikes","spikesides","spikethickness","spikecolor"];if(f)y=f,d.setAttribute("data-val",JSON.stringify(null));else{for(y={"allaxes.showspikes":!1},t=0;t<m.length;t++)for(r=m[t],a=g[r],o=v[r]={},i=0;3>i;i++)for(l=x[i],s=o[l]={},c=0;c<b.length;c++)u=b[c],s[u]=a[l][u];d.setAttribute("data-val",JSON.stringify(v))}n.relayout(p,y).then(function(){h.updateActiveButton(d)})},a.handleDrag3d=function(e){var t=e.currentTarget,r=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=this,i=this.graphInfo,l={};l[r]=a,n.relayout(i,l).then(function(){o.updateActiveButton()})},a.handleCamera3d=function(e){var t,r,a,o,i,l,s=e.currentTarget,c=s.getAttribute("data-attr"),u=this.graphInfo.layout,d=this.graphInfo._fullLayout,f=n.Plots.getSubplotIds(d,"gl3d");for(t=0;t<f.length;t++)r=f[t],a=u[r],o=d[r],i=o._scene,a&&"resetDefault"!==c?"resetLastSave"===c&&(l=a.camera,l?i.setCamera(l):i.setCameraToDefault()):i.setCameraToDefault()},a.handleGeo=function(e){for(var t,r,a,o=e.currentTarget,i=o.getAttribute("data-attr"),l=o.getAttribute("data-val")||!0,s=this.graphInfo._fullLayout,c=n.Plots.getSubplotIds(s,"geo"),u=0;u<c.length;u++)t=s[c[u]]._geo,"zoom"===i?(r=t.projection.scale(),a="in"===l?2*r:.5*r,t.projection.scale(a),t.zoom.scale(a),t.render()):"reset"===i?t.zoomReset():"hovermode"===i&&(t.showHover=!t.showHover);this.updateActiveButton(o)},a.handleHoverPie=function(){var e=this,t=e.graphInfo,r=t._fullLayout.hovermode?!1:"closest";n.relayout(t,"hovermode",r).then(function(){e.updateActiveButton()})},a.cleanup=function(){this.element.innerHTML="";var e=this.element.parentNode;e&&e.removeChild(this.element)},a.toImage=function(){var e="png",t=this;if(n.Lib.isIE())return void n.Lib.notifier("Snapshotting is unavailable in Internet Explorer. Consider exporting your images using the Plotly Cloud","long");if(this._snapshotInProgress)return void n.Lib.notifier("Snapshotting is still in progress - please hold","long");this._snapshotInProgress=!0,n.Lib.notifier("Taking snapshot - this may take a few seconds","long");var r=n.Snapshot.toImage(this.graphInfo,{format:e}),a=this.graphInfo.fn||"newplot";a+="."+e,r.once("success",function(e){t._snapshotInProgress=!1;var n=document.createElement("a");n.href=e,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),r.clean()}),r.once("error",function(a){t._snapshotInProgress=!1,n.Lib.notifier("Sorry there was a problem downloading your "+e,"long"),console.error(a),r.clean()})},a.config=function(){return{zoom2d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"zoombox",click:this.handleCartesian},pan2d:{title:"Pan",attr:"dragmode",val:"pan",icon:"pan",click:this.handleCartesian},zoomIn2d:{title:"Zoom in",attr:"zoom",val:"in",icon:"zoom_plus",click:this.handleCartesian},zoomOut2d:{title:"Zoom out",attr:"zoom",val:"out",icon:"zoom_minus",click:this.handleCartesian},autoScale2d:{title:"Autoscale",attr:"zoom",val:"auto",icon:"autoscale",click:this.handleCartesian},resetScale2d:{title:"Reset axes",attr:"zoom",val:"reset",icon:"home",click:this.handleCartesian},hoverClosest2d:{title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:"tooltip_basic",gravity:"ne",click:this.handleCartesian},hoverCompare2d:{title:"Compare data on hover",attr:"hovermode",val:this.graphInfo._fullLayout._isHoriz?"y":"x",icon:"tooltip_compare",gravity:"ne",click:this.handleCartesian},toImage:{title:"download plot as a png",icon:"camera",click:this.toImage},zoom3d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"zoombox",click:this.handleDrag3d},pan3d:{title:"Pan",attr:"dragmode",val:"pan",icon:"pan",click:this.handleDrag3d},orbitRotation:{title:"orbital rotation",attr:"dragmode",val:"orbit",icon:"3d_rotate",click:this.handleDrag3d},tableRotation:{title:"turntable rotation",attr:"dragmode",val:"turntable",icon:"z-axis",click:this.handleDrag3d},resetCameraDefault3d:{title:"Reset camera to default",attr:"resetDefault",icon:"home",click:this.handleCamera3d},resetCameraLastSave3d:{title:"Reset camera to last save",attr:"resetLastSave",icon:"movie",click:this.handleCamera3d},hoverClosest3d:{title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:"tooltip_basic",gravity:"ne",click:this.handleHover3d},zoomInGeo:{title:"Zoom in",attr:"zoom",val:"in",icon:"zoom_plus",click:this.handleGeo},zoomOutGeo:{title:"Zoom out",attr:"zoom",val:"out",icon:"zoom_minus",click:this.handleGeo},resetGeo:{title:"Reset",attr:"reset",val:null,icon:"autoscale",click:this.handleGeo},hoverClosestGeo:{title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:"tooltip_basic",gravity:"ne",click:this.handleGeo},hoverClosestPie:{title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:"tooltip_basic",gravity:"ne",click:this.handleHoverPie}}},t.exports=r},{"./plotly":48}],47:[function(e,t){"use strict";function r(e){var t=(100*e).toPrecision(3);return-1!==t.indexOf(".")?t.replace(/[.]?0+$/,"")+"%":t+"%"}function n(e){var t=e.toPrecision(10);return-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}function a(e){if(!m){var t=h.Color.defaults;m=t.slice();for(var r=0;r<t.length;r++)m.push(g(t[r]).lighten(20).toHexString());for(r=0;r<h.Color.defaults.length;r++)m.push(g(t[r]).darken(20).toHexString())}return m[e%m.length]}function o(e,t){if(e.v===t.vTotal&&!t.trace.hole)return 1;var r=Math.PI*Math.min(e.v/t.vTotal,.5);return Math.min(1/(1+1/Math.sin(r)),(1-t.trace.hole)/2)}function i(e,t,r){var n=Math.sqrt(e.width*e.width+e.height*e.height),a=e.width/e.height,i=Math.PI*Math.min(t.v/r.vTotal,.5),l=1-r.trace.hole,s=o(t,r),c={scale:s*r.r*2/n,rCenter:1-s,rotate:0};if(c.scale>=1)return c;var u=a+1/(2*Math.tan(i)),d=r.r*Math.min(1/(Math.sqrt(u*u+.5)+u),l/(Math.sqrt(a*a+l/2)+a)),f={scale:2*d/e.height,rCenter:Math.cos(d/r.r)-d*a/r.r,rotate:(180/Math.PI*t.midangle+720)%180-90},h=1/a,p=h+1/(2*Math.tan(i)),g=r.r*Math.min(1/(Math.sqrt(p*p+.5)+p),l/(Math.sqrt(h*h+l/2)+h)),m={scale:2*g/e.width,rCenter:Math.cos(g/r.r)-g/a/r.r,rotate:(180/Math.PI*t.midangle+810)%180-90},y=m.scale>f.scale?m:f;return c.scale<1&&y.scale>c.scale?y:c}function l(e,t){var r=t.pxmid[0],n=t.pxmid[1],a=e.width/2,o=e.height/2;return 0>r&&(a*=-1),0>n&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(o)*(a>0?1:-1)/2,y:o/(1+r*r/(n*n)),outside:!0}}function s(e,t){function r(e,t){return e.pxmid[1]-t.pxmid[1]}function n(e,t){return t.pxmid[1]-e.pxmid[1]}function a(e,r){r||(r={});var n,a,o,l,f,h,g=r.labelExtraY+(i?r.yLabelMax:r.yLabelMin),m=i?e.yLabelMin:e.yLabelMax,y=i?e.yLabelMax:e.yLabelMin,v=e.cyFinal+c(e.px0[1],e.px1[1]),x=g-m;if(x*d>0&&(e.labelExtraY=x),Array.isArray(t.pull))for(a=0;a<p.length;a++)o=p[a],o===e||(t.pull[e.i]||0)>=t.pull[o.i]||((e.pxmid[1]-o.pxmid[1])*d>0?(l=o.cyFinal+c(o.px0[1],o.px1[1]),x=l-m-e.labelExtraY,x*d>0&&(e.labelExtraY+=x)):(y+e.labelExtraY-v)*d>0&&(n=3*u*Math.abs(a-p.indexOf(e)),f=o.cxFinal+s(o.px0[0],o.px1[0]),h=f+n-(e.cxFinal+e.pxmid[0])-e.labelExtraX,h*u>0&&(e.labelExtraX+=h)))}var o,i,l,s,c,u,d,f,h,p,g,m,y;for(i=0;2>i;i++)for(l=i?r:n,c=i?Math.max:Math.min,d=i?1:-1,o=0;2>o;o++){for(s=o?Math.max:Math.min,u=o?1:-1,f=e[i][o],f.sort(l),h=e[1-i][o],p=h.concat(f),m=[],g=0;g<f.length;g++)void 0!==f[g].yLabelMid&&m.push(f[g]);for(y=!1,g=0;i&&g<h.length;g++)if(void 0!==h[g].yLabelMid){y=h[g];break}for(g=0;g<m.length;g++){var v=g&&m[g-1];y&&!g&&(v=y),a(m[g],v)}}}function c(e,t){var r,n,a,o,i,l,s,c,u,f,h=[];for(a=0;a<e.length;a++){if(i=e[a][0],l=i.trace,r=t.w*(l.domain.x[1]-l.domain.x[0]),n=t.h*(l.domain.y[1]-l.domain.y[0]),s=l.tiltaxis*Math.PI/180,c=l.pull,Array.isArray(c))for(c=0,o=0;o<l.pull.length;o++)l.pull[o]>c&&(c=l.pull[o]);i.r=Math.min(r/d(l.tilt,Math.sin(s),l.depth),n/d(l.tilt,Math.cos(s),l.depth))/(2+2*c),i.cx=t.l+t.w*(l.domain.x[1]+l.domain.x[0])/2,i.cy=t.t+t.h*(2-l.domain.y[1]-l.domain.y[0])/2,l.scalegroup&&-1===h.indexOf(l.scalegroup)&&h.push(l.scalegroup)}for(o=0;o<h.length;o++){for(f=1/0,u=h[o],a=0;a<e.length;a++)i=e[a][0],i.trace.scalegroup===u&&(f=Math.min(f,i.r*i.r/i.vTotal));
for(a=0;a<e.length;a++)i=e[a][0],i.trace.scalegroup===u&&(i.r=Math.sqrt(f*i.vTotal))}}function u(e){function t(e){var t=d.r*Math.sin(e),r=-d.r*Math.cos(e);return h?[t*(1-l*n*n)+r*i*l,t*i*l+r*(1-l*a*a),Math.sin(o)*(r*a-t*n)]:[t,r]}var r,n,a,o,i,l,s,c,u,d=e[0],f=d.trace,h=f.tilt,p=f.rotation*Math.PI/180,g=2*Math.PI/d.vTotal,m="px0",y="px1";if("counterclockwise"===f.direction){for(s=0;s<e.length&&e[s].hidden;s++);if(s===e.length)return;p+=g*e[s].v,g*=-1,m="px1",y="px0"}for(h&&(o=h*Math.PI/180,r=f.tiltaxis*Math.PI/180,i=Math.sin(r)*Math.cos(r),l=1-Math.cos(o),n=Math.sin(r),a=Math.cos(r)),u=t(p),s=0;s<e.length;s++)c=e[s],c.hidden||(c[m]=u,p+=g*c.v/2,c.pxmid=t(p),c.midangle=p,p+=g*c.v/2,u=t(p),c[y]=u,c.largeArc=c.v>d.vTotal/2?1:0)}function d(e,t,r){if(!e)return 1;var n=Math.sin(e*Math.PI/180);return Math.max(.01,r*n*Math.abs(t)+2*Math.sqrt(1-n*n*t*t))}var f=t.exports={},h=e("./plotly"),p=e("./isnumeric"),g=e("tinycolor2");h.Plots.register(f,"pie",["pie","showLegend"]),f.attributes={labels:{type:"data_array"},label0:{type:"number",dflt:0},dlabel:{type:"number",dflt:1},values:{type:"data_array"},marker:{colors:{type:"data_array"},line:{color:{type:"color",dflt:h.Color.defaultLine,arrayOk:!0},width:{type:"number",min:0,dflt:0,arrayOk:!0}}},text:{type:"data_array"},scalegroup:{type:"string",dflt:""},textinfo:{type:"flaglist",flags:["label","text","value","percent"],extras:["none"]},hoverinfo:{type:"flaglist",flags:["label","text","value","percent","name"],extras:["all","none"],dflt:"all"},textposition:{type:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0},textfont:{type:"font"},insidetextfont:{type:"font"},outsidetextfont:{type:"font"},domain:{x:[{type:"number",min:0,max:1,dflt:0},{type:"number",min:0,max:1,dflt:1}],y:[{type:"number",min:0,max:1,dflt:0},{type:"number",min:0,max:1,dflt:1}]},hole:{type:"number",min:0,max:1,dflt:0},sort:{type:"boolean",dflt:!0},direction:{type:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise"},rotation:{type:"number",min:-360,max:360,dflt:0},pull:{type:"number",min:0,max:1,dflt:0,arrayOk:!0}},f.supplyDefaults=function(e,t,r,n){function a(r,n){return h.Lib.coerce(e,t,f.attributes,r,n)}var o=a("values");if(!Array.isArray(o)||!o.length)return void(t.visible=!1);var i=a("labels");Array.isArray(i)||(a("label0"),a("dlabel"));var l=a("marker.line.width");l&&a("marker.line.color");var s=a("marker.colors");Array.isArray(s)||(t.marker.colors=[]),a("scalegroup");var c=a("text"),u=a("textinfo",Array.isArray(c)?"text+percent":"percent");if(a("hoverinfo"),u&&"none"!==u){var d=a("textposition"),p=Array.isArray(d)||"auto"===d,g=p||"inside"===d,m=p||"outside"===d;if(g||m){var y=a("textfont",n.font);g&&a("insidetextfont",y),m&&a("outsidetextfont",y)}}a("domain.x[0]"),a("domain.x[1]"),a("domain.y[0]"),a("domain.y[1]"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")},f.layoutAttributes={hiddenlabels:{type:"data_array"}},f.supplyLayoutDefaults=function(e,t){function r(r,n){return h.Lib.coerce(e,t,f.layoutAttributes,r,n)}r("hiddenlabels")},f.calc=function(e,t){var o,i,l,s,c,u,d=t.values,f=t.labels,m=[],y=e._fullLayout,v=y._piecolormap,x={},b=!1,w=0,_=y.hiddenlabels||[];if(t.dlabel)for(f=new Array(d.length),o=0;o<d.length;o++)f[o]=String(t.label0+o*t.dlabel);for(o=0;o<d.length;o++)i=d[o],p(i)&&(i=+i,0>i||(l=f[o],(void 0===l||""===l)&&(l=o),l=String(l),void 0===x[l]&&(x[l]=!0,s=g(t.marker.colors[o]),s.isValid()?(s=h.Color.tinyRGB(s),v[l]||(v[l]=s)):v[l]?s=v[l]:(s=!1,b=!0),c=-1!==_.indexOf(l),c||(w+=i),m.push({v:i,label:l,color:s,i:o,hidden:c}))));if(t.sort&&m.sort(function(e,t){return t.v-e.v}),b)for(o=0;o<m.length;o++)u=m[o],u.color===!1&&(v[u.label]=u.color=a(y._piedefaultcolorcount),y._piedefaultcolorcount++);if(m[0]&&(m[0].vTotal=w),t.textinfo&&"none"!==t.textinfo){var k,A=-1!==t.textinfo.indexOf("label"),M=-1!==t.textinfo.indexOf("text"),L=-1!==t.textinfo.indexOf("value"),z=-1!==t.textinfo.indexOf("percent");for(o=0;o<m.length;o++)u=m[o],k=A?[u.label]:[],M&&t.text[u.i]&&k.push(t.text[u.i]),L&&k.push(n(u.v)),z&&k.push(r(u.v/w)),u.text=k.join("<br>")}return m};var m;f.plot=function(e,t){var a=e._fullLayout;c(t,a._size);var d=a._pielayer.selectAll("g.trace").data(t);d.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),d.exit().remove(),d.order(),d.each(function(t){var c=d3.select(this),d=t[0],f=d.trace,p=0,g=(f.depth||0)*d.r*Math.sin(p)/2,m=f.tiltaxis||0,y=m*Math.PI/180,v=[g*Math.sin(y),g*Math.cos(y)],x=d.r*Math.cos(p),b=c.selectAll("g.part").data(f.tilt?["top","sides"]:["top"]);b.enter().append("g").attr("class",function(e){return e+" part"}),b.exit().remove(),b.order(),u(t),c.selectAll(".top").each(function(){var c=d3.select(this).selectAll("g.slice").data(t);c.enter().append("g").classed("slice",!0),c.exit().remove();var u=[[[],[]],[[],[]]],p=!1;c.each(function(t){function s(){var a=e._fullLayout,i=e._fullData[f.index],l=i.hoverinfo;if("all"===l&&(l="label+text+value+percent+name"),!e._dragging&&a.hovermode!==!1&&"none"!==l&&l){var s=o(t,d),c=y+t.pxmid[0]*(1-s),u=b+t.pxmid[1]*(1-s),p=[];-1!==l.indexOf("label")&&p.push(t.label),i.text&&i.text[t.i]&&-1!==l.indexOf("text")&&p.push(i.text[t.i]),-1!==l.indexOf("value")&&p.push(n(t.v)),-1!==l.indexOf("percent")&&p.push(r(t.v/d.vTotal)),h.Fx.loneHover({x0:c-s*d.r,x1:c+s*d.r,y:u,text:p.join("<br>"),name:-1!==l.indexOf("name")?i.name:void 0,color:t.color,idealAlign:t.pxmid[0]<0?"left":"right"},{container:a._hoverlayer.node(),outerContainer:a._paper.node()}),k=!0}}function c(){k&&(h.Fx.loneUnhover(a._hoverlayer.node()),k=!1)}function g(e,r,n,a){return"a"+a*d.r+","+a*x+" "+m+" "+t.largeArc+(n?" 1 ":" 0 ")+a*(r[0]-e[0])+","+a*(r[1]-e[1])}if(t.hidden)return void d3.select(this).selectAll("path,g").remove();u[t.pxmid[1]<0?0:1][t.pxmid[0]<0?0:1].push(t);var y=d.cx+v[0],b=d.cy+v[1],w=d3.select(this),_=w.selectAll("path.surface").data([t]),k=!1;if(_.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),w.select("path.textline").remove(),w.on("mouseover",s).on("mouseout",c),f.pull){var A=+(Array.isArray(f.pull)?f.pull[t.i]:f.pull)||0;A>0&&(y+=A*t.pxmid[0],b+=A*t.pxmid[1])}t.cxFinal=y,t.cyFinal=b;var M=f.hole;if(t.v===d.vTotal){var L="M"+(y+t.px0[0])+","+(b+t.px0[1])+g(t.px0,t.pxmid,!0,1)+g(t.pxmid,t.px0,!0,1)+"Z";M?_.attr("d","M"+(y+M*t.px0[0])+","+(b+M*t.px0[1])+g(t.px0,t.pxmid,!1,M)+g(t.pxmid,t.px0,!1,M)+"Z"+L):_.attr("d",L)}else{var z=g(t.px0,t.px1,!0,1);if(M){var C=1-M;_.attr("d","M"+(y+M*t.px1[0])+","+(b+M*t.px1[1])+g(t.px1,t.px0,!1,M)+"l"+C*t.px0[0]+","+C*t.px0[1]+z+"Z")}else _.attr("d","M"+y+","+b+"l"+t.px0[0]+","+t.px0[1]+z+"Z")}var S=Array.isArray(f.textposition)?f.textposition[t.i]:f.textposition,P=w.selectAll("g.slicetext").data(t.text&&"none"!==S?[0]:[]);P.enter().append("g").classed("slicetext",!0),P.exit().remove(),P.each(function(){var e=d3.select(this).selectAll("text").data([0]);e.enter().append("text").attr("data-notex",1),e.exit().remove(),e.text(t.text).attr({class:"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(h.Drawing.font,"outside"===S?f.outsidetextfont:f.insidetextfont).call(h.util.convertToTspans),e.selectAll("tspan.line").attr({x:0,y:0});var r,n=h.Drawing.bBox(e.node());"outside"===S?r=l(n,t):(r=i(n,t,d),"auto"===S&&r.scale<1&&(e.call(h.Drawing.font,f.outsidetextfont),(f.outsidetextfont.family!==f.insidetextfont.family||f.outsidetextfont.size!==f.insidetextfont.size)&&(e.attr({"data-bb":""}),n=h.Drawing.bBox(e.node())),r=l(n,t)));var a=y+t.pxmid[0]*r.rCenter+(r.x||0),o=b+t.pxmid[1]*r.rCenter+(r.y||0);r.outside&&(t.yLabelMin=o-n.height/2,t.yLabelMid=o,t.yLabelMax=o+n.height/2,t.labelExtraX=0,t.labelExtraY=0,p=!0),e.attr("transform","translate("+a+","+o+")"+(r.scale<1?"scale("+r.scale+")":"")+(r.rotate?"rotate("+r.rotate+")":"")+"translate("+-(n.left+n.right)/2+","+-(n.top+n.bottom)/2+")")})}),p&&s(u,f),c.each(function(e){if(e.labelExtraX||e.labelExtraY){var t=d3.select(this),r=t.select("g.slicetext text");r.attr("transform","translate("+e.labelExtraX+","+e.labelExtraY+")"+r.attr("transform"));var n=e.cxFinal+e.pxmid[0],a=e.cyFinal+e.pxmid[1],o="M"+n+","+a,i=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var l=e.labelExtraX*e.pxmid[1]/e.pxmid[0],s=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);o+=Math.abs(l)>Math.abs(s)?"l"+s*e.pxmid[0]/e.pxmid[1]+","+s+"H"+(n+e.labelExtraX+i):"l"+e.labelExtraX+","+l+"v"+(s-l)+"h"+i}else o+="V"+(e.yLabelMid+e.labelExtraY)+"h"+i;t.append("path").classed("textline",!0).call(h.Color.stroke,f.outsidetextfont.color).attr({"stroke-width":Math.min(2,f.outsidetextfont.size/8),d:o,fill:"none"})}})})}),setTimeout(function(){d.selectAll("tspan").each(function(){var e=d3.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)},f.style=function(e){e._fullLayout._pielayer.selectAll(".trace").each(function(e){var t=e[0],r=t.trace,n=d3.select(this);n.style({opacity:r.opacity}),n.selectAll(".top path.surface").each(function(e){d3.select(this).call(f.styleOne,e,r)})})},f.styleOne=function(e,t,r){var n=r.marker.line.color;Array.isArray(n)&&(n=n[t.i]||h.Color.defaultLine);var a=r.marker.line.width||0;Array.isArray(a)&&(a=a[t.i]||0),e.style({"stroke-width":a,fill:t.color}).call(h.Color.stroke,n)}},{"./isnumeric":41,"./plotly":48,tinycolor2:8}],48:[function(e,t,r){r.micropolar=e("./micropolar"),r.micropolar.manager=e("./micropolar_manager"),r.Lib=e("./lib"),r.util=e("./plotly_util"),r.Color=e("./color"),r.Colorscale=e("./colorscale"),r.Drawing=e("./drawing"),r.Plots=e("./graph_obj"),r.Axes=e("./axes"),r.Colorbar=e("./colorbar"),r.Fx=e("./graph_interact"),r.Scatter=e("./scatter"),r.Bars=e("./bars"),r.Boxes=e("./boxes"),r.ErrorBars=e("./errorbars"),r.Heatmap=e("./heatmap"),r.Histogram=e("./histogram"),r.Pie=e("./pie"),r.Contour=e("./contour"),r.Annotations=e("./annotations"),r.Shapes=e("./shapes"),r.Legend=e("./legend"),r.ModeBar=e("./modebar"),r.Icons=e("../build/ploticon"),e("../build/plotcss"),r.GeoLayout=e("./geo/defaults/geolayout"),r.GeoAxes=e("./geo/defaults/geoaxes"),r.ScatterGeo=e("./geo/defaults/scattergeo"),r.Choropleth=e("./geo/defaults/choropleth"),r.Geo=e("./geo/geo"),r.getGraphReference=e("./graph_reference"),r.Config=e("./config"),r.Snapshot=e("./snapshot/snapshot"),e("../../../../shelly/static/js/plugins/promise-1.0.0.min.js"),e("../../../../shelly/static/js/plugins/promise-done-1.0.0.js")},{"../../../../shelly/static/js/plugins/promise-1.0.0.min.js":57,"../../../../shelly/static/js/plugins/promise-done-1.0.0.js":58,"../build/plotcss":3,"../build/ploticon":4,"./annotations":10,"./axes":11,"./bars":12,"./boxes":13,"./color":14,"./colorbar":15,"./colorscale":16,"./config":17,"./contour":18,"./drawing":19,"./errorbars":20,"./geo/defaults/choropleth":21,"./geo/defaults/geoaxes":22,"./geo/defaults/geolayout":23,"./geo/defaults/scattergeo":24,"./geo/geo":25,"./graph_interact":36,"./graph_obj":37,"./graph_reference":38,"./heatmap":39,"./histogram":40,"./legend":42,"./lib":43,"./micropolar":44,"./micropolar_manager":45,"./modebar":46,"./pie":47,"./plotly_util":49,"./scatter":50,"./shapes":51,"./snapshot/snapshot":53}],49:[function(e,t){"use strict";function r(e){return e.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}var n=t.exports={},a=e("./plotly");n.scriptLoader=function(e,t){function r(r){function a(t,r,n,a){e.getElementById(t)||setTimeout(function(){o=e.createElement("script"),o.type="text/javascript",o.id=t,o.async=!0,o.src=r,s.parentNode.insertBefore(o,s),a&&a.call(window)},n)}var o,i=n.loadDelay,l=[].concat(r),s=e.getElementsByTagName("script")[0],c=/^http:/.test(e.location)?"http":"https",u="https"===c?"https://ssl":"http://www";if(-1!==l.indexOf("facebook")){var d=document.querySelector("body"),f=d.firstChild,h=document.createElement("div");h.id="fb-root",d.insertBefore(h,f),t.fbAsyncInit=function(){FB.init({appId:PLOTLYENV.FACEBOOK_PAGE_APP_ID,status:!0,cookie:!0,xfbml:!0})};var p=!1;a("facebook-jssdk","//connect.facebook.net/en_US/all"+(p?"/debug":"")+".js",i)}-1!==l.indexOf("googleAnalytics")&&(t._gaq=t._gaq||[],t._gaq.push(["_setAccount",PLOTLYENV.GOOGLEANALYTICS_ACCOUNT]),t._gaq.push(["_setSiteSpeedSampleRate",10]),t._gaq.push(["_trackPageview"]),a("google-analytics",u+".google-analytics.com/ga.js",i)),-1!==l.indexOf("googlePlus")&&a("google-plus","https://apis.google.com/js/plusone.js",i),-1!==l.indexOf("twitter")&&a("twitter-wjs",c+"://platform.twitter.com/widgets.js",i)}var n={loadDelay:0};return r.config=function(e){return n=e,this},r},n.imageExporter=function(){function e(e){function o(){setTimeout(function(){var o;if("jpeg"===a)o=m.toDataURL("image/jpeg");else if("png"===a)o=m.toDataURL("image/png");else if("webp"===a)o=m.toDataURL("image/webp");else{if("svg"!==a)return t({err:"Image format is not jpeg, png, or svg",code:400});o=e}0===s&&(r.remove(),g.remove()),o?n.success(o):t({err:"Image is empty",code:530})},0)}var l,c,f;if("string"==typeof e)l=e,c=i.width,f=i.height;else{if(!e.append&&!e.className)return t("wrong input svg (d3 selection or DOM node)");var h=e.append?e.node():e,p=new XMLSerializer;l=p.serializeToString(h),c=h.offsetWidth,f=h.offsetHeight}r&&r.html(""),r=d3.select("body").append("div").attr({id:d}).style({position:"absolute",top:0,left:0,"z-index":1e3}),2>s&&r.style({visibility:"hidden"});var g=r.append("canvas").attr({id:u,width:c,height:f}),m=g.node(),y=m.getContext("2d"),v=self.URL||self.webkitURL||self,x=new Image,b=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),w=v.createObjectURL(b);x.onload=function(){y.drawImage(x,0,0),v.revokeObjectURL(w),o()},x.onerror=function(){return v.revokeObjectURL(w),t("img didnt load")},x.src=w}function t(e){if(n.error(e),1===s)console.log("Error: "+e);else if(2===s)throw e}var r,n=d3.dispatch("success","error"),a="png",o={width:300,height:150},i={width:300,height:150},l="url",s=0,c="Converted Image",u="canvasEl",d="canvasContainer";return d3.rebind(e,n,"on"),e.imageFormat=function(e){return a=e,this},e.outputType=function(e){return l=e,this},e.debugLevel=function(e){return s=e,this},e.title=function(e){return c=e,this},e.sourceSize=function(e){return i=e,this},e.targetSize=function(e){return o=e,this},e.canvasContainerId=function(e){return d=e,this},e.canvasElId=function(e){return u=e,this},e},d3.selection.prototype.appendSVG=function(e){for(var t='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",r=(new DOMParser).parseFromString(t,"application/xml"),n=r.documentElement.firstChild;n;)this.node().appendChild(this.node().ownerDocument.importNode(n,!0)),n=n.nextSibling;return r.querySelector("parsererror")?(console.log(r.querySelector("parsererror div").textContent),null):d3.select(this.node().lastChild)},n.compileTemplate=function(e,t){return[].concat(t).map(function(t){return e.replace(/{([^}]*)}/g,function(e,r){return t[r]||""})}).join("\n")},n.tmpl=function(e,t){var r={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},n=/\\|'|\r|\n|\u2028|\u2029/g,a={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},o=function(e){return"\\"+a[e]},i=/(.)^/,l=new RegExp([(r.escape||i).source,(r.interpolate||i).source,(r.evaluate||i).source].join("|")+"|$","g"),s=0,c="__p+='";e.replace(l,function(t,r,a,i,l){return c+=e.slice(s,l).replace(n,o),s=l+t.length,r?c+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":a?c+="'+\n((__t=("+a+"))==null?'':__t)+\n'":i&&(c+="';\n"+i+"\n__p+='"),t}),c+="';\n",r.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";var u;try{u=new Function(r.variable||"obj","_",c)}catch(e){throw e.source=c,e}if(t)return u(t);var d=function(e){return u.call(this,e)},f=r.variable||"obj";return d.source="function("+f+"){\n"+c+"}",d},n.getSVGBBoxFromString=function(e,t){var r=d3.select("body").append("div").style({visibility:"none"}),n=r.append("svg").append("text").text(e).style(t),a=n.node().getBBox();return r.remove(),a},n.html_entity_decode=function(e){var t=d3.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":t.html(e).text()});return t.remove(),r},n.xml_entity_encode=function(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},n.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},n.jsHook=function(e){var t=e.className.match(/js-[^ ]+/);return t?t[0]:null},n.wrap=function(e){return function(){function t(){var e=this.node().getBBox().height;this.text("").selectAll("tspan").data(l).enter().append("tspan").attr({x:0,y:function(t,r){return(r+1)*e}}).text(function(e){return e.join(" ")})}function r(e){var t=n.style({visibility:"hidden"}).text(e),r=t.node().getBBox().width;return n.style({visibility:"visible"}).text(a),r}var n=this,a=this.text(),o=this.node().parentNode,i=a.split(" "),l=[[]],s=0;i.forEach(function(t){r(l[s].concat(t).join(" "),o)>=e&&(s++,l[s]=[]),l[s].push(t)}),this.call(t)}},n.getSize=function(e,t){return e.node().getBoundingClientRect()[t]},n.convertToTspans=function(e,t){function r(){c.empty()||(u=i.attr("class")+"-math",c.select("svg."+u).remove()),e.text("").style({visibility:"visible","white-space":"pre"}),s=e.appendSVG(o),s||e.text(n),e.select("a").size()&&e.style("pointer-events","all"),t&&t.call(i)}var n=e.text(),o=a.util.convertToSvg(n),i=e,l=!i.attr("data-notex")&&o.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),s=n,c=d3.select(i.node().parentNode);if(!c.empty()){var u=i.attr("class")?i.attr("class").split(" ")[0]:"text";u+="-math",c.selectAll("svg."+u).remove(),c.selectAll("g."+u+"-group").remove(),e.style({visibility:null});for(var d=e.node();d&&d.removeAttribute;d=d.parentNode)d.removeAttribute("data-bb");if(l){var f=a.Lib.getPlotDiv(i.node());(f&&f._promises||[]).push(new Promise(function(e){i.style({visibility:"hidden"});var n={fontSize:parseInt(i.style("font-size"),10)};a.util.texToSVG(l[2],n,function(n,o,l){c.selectAll("svg."+u).remove(),c.selectAll("g."+u+"-group").remove();var s=n&&n.select("svg");if(!s||!s.node())return r(),void e();var d=c.append("g").classed(u+"-group",!0).attr({"pointer-events":"none"});d.node().appendChild(s.node()),o&&o.node()&&s.node().insertBefore(o.node().cloneNode(!0),s.node().firstChild),s.attr({class:u,height:l.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var f=i.style("fill")||"black";s.select("g").attr({fill:f,stroke:f});var h=a.util.getSize(s,"width"),p=a.util.getSize(s,"height"),g=+i.attr("x")-h*{start:0,middle:.5,end:1}[i.attr("text-anchor")||"start"],m=parseInt(i.style("font-size"),10)||a.util.getSize(i,"height"),y=-m/4;"y"===u[0]?(d.attr({transform:"rotate("+[-90,+i.attr("x"),+i.attr("y")]+") translate("+[-h/2,y-p/2]+")"}),s.attr({x:+i.attr("x"),y:+i.attr("y")})):s.attr("l"===u[0]?{x:i.attr("x"),y:y-p/2}:"a"===u[0]?{x:0,y:y}:{x:g,y:+i.attr("y")+y-p/2}),t&&t.call(i,d),e(d)})}))}else r();return e}},n.texToSVG=function(e,t,n){var o="math-output-"+a.Lib.randstr([],64),i=d3.select("body").append("div").attr({id:o}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(r(e));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var t=d3.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())console.log("There was an error in the tex syntax.",e),n();else{var r=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),t,r)}i.remove()})};var o={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},i=new RegExp("</?("+Object.keys(o).join("|")+")( [^>]*)?/?>","g");n.plainText=function(e){return(e||"").replace(i," ")},n.convertToSvg=function(e){for(var t=a.util.html_entity_decode(e),r=t.split(/(<[^<>]*>)/).map(function(e){var t=e.match(/<(\/?)([^ >]*)\s*(.*)>/i),r=t&&t[2].toLowerCase(),n=o[r];if(void 0!==n){var i=t[1],l=t[3],s=l.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===r)return i?"</a>":"href"!==l.substr(0,4).toLowerCase()?"<a>":'<a xlink:show="new" xlink:href'+l.substr(4)+">";if("br"===r)return"<br>";if(i)return"sup"===r?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===r?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var c="<tspan";return("sup"===r||"sub"===r)&&(c="&#x200b;"+c),s&&(s=s[1].replace(/(^|;)\s*color:/,"$1 fill:"),n=(n?n+";":"")+s),c+(n?' style="'+n+'"':"")+">"}return a.util.xml_entity_encode(e).replace(/</g,"&lt;")}),n=[],i=r.indexOf("<br>");i>0;i=r.indexOf("<br>",i+1))n.push(i);var l=0;n.forEach(function(e){for(var t=e+l,n=r.slice(0,t),a="",o=n.length-1;o>=0;o--){var i=n[o].match(/<(\/?).*>/i);if(i&&"<br>"!==n[o]){i[1]||(a=n[o]);break}}a&&(r.splice(t+1,0,a),r.splice(t,0,"</tspan>"),l+=2)});var s=r.join(""),c=s.split(/<br>/gi);return c.length>1&&(r=c.map(function(e,t){return'<tspan class="line" dy="'+1.3*t+'em">'+e+"</tspan>"})),r.join("")},n.alignSVGWith=function(e,t){return function(){var r=e.node().getBBox(),n="50%",a=n,o="middle",i=0,l=t.horizontalMargin||0;return"under"===t.orientation?i=r.y+r.height:"over"===t.orientation?i=r.y:"inside"===t.orientation&&(i=r.y),t.verticalMargin&&(i+=t.verticalMargin),"center"===t.horizontalAlign?(n="50%",o="middle",l/=4):"right"===t.horizontalAlign?(n="0%",o="start"):"left"===t.horizontalAlign?(n="100%",o="end",l=-l):"number"==typeof t.horizontalAlign&&(n=t.horizontalAlign,o="middle"),"inside"===t.orientation&&(a=0),this.attr({x:a,dx:l,y:i}).style({"text-anchor":o}).selectAll("tspan.line").attr({x:n,dx:l,y:i}),this}},n.alignHTMLWith=function(e,t,r){var n,a,o,i=r.horizontalAlign,l=r.verticalAlign||"top",s=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return a="bottom"===l?function(){return s.bottom-n.height}:"middle"===l?function(){return s.top+(s.height-n.height)/2}:function(){return s.top},o="right"===i?function(){return s.right-n.width}:"center"===i?function(){return s.left+(s.width-n.width)/2}:function(){return s.left},function(){return n=this.node().getBoundingClientRect(),this.style({top:a()-c.top+"px",left:o()-c.left+"px","z-index":1e3}),this}},n.makeEditable=function(e,t,r){function o(){l(),s.style({opacity:0});var e,t=d.attr("class");e=t?"."+t.split(" ")[0]+"-math-group":"[class*=-math-group]",e&&d3.select(s.node().parentNode).select(e).style({opacity:0})}function i(e){var t=e.node(),r=document.createRange();r.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),t.focus()}function l(){var e=d3.select(a.Lib.getPlotDiv(s.node())),t=e.select(".svg-container"),o=t.append("div");o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.style("font-family")||"Arial","font-size":s.style("font-size")||12,color:r.fill||s.style("fill")||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(s.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(r.text||s.attr("data-unformatted")).call(n.alignHTMLWith(s,t,r)).on("blur",function(){s.text(this.textContent).style({opacity:1});var e,t=d3.select(this).attr("class");e=t?"."+t.split(" ")[0]+"-math-group":"[class*=-math-group]",e&&d3.select(s.node().parentNode).select(e).style({opacity:0});var r=this.textContent;d3.select(this).transition().duration(0).remove(),d3.select(document).on("mouseup",null),c.edit.call(s,r)}).on("focus",function(){var e=this;d3.select(document).on("mouseup",function(){return d3.event.target===e?!1:void(document.activeElement===o.node()&&o.node().blur())})}).on("keyup",function(){27===d3.event.which?(s.style({opacity:1}),d3.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),c.cancel.call(s,this.textContent)):(c.input.call(s,this.textContent),d3.select(this).call(n.alignHTMLWith(s,t,r)))}).on("keydown",function(){13===d3.event.which&&this.blur()}).call(i)}r||(r={});var s=this,c=d3.dispatch("edit","input","cancel"),u=d3.select(this.node()).style({"pointer-events":"all"}),d=t||u;return t&&u.style({"pointer-events":"none"}),r.immediate?o():d.on("click",o),d3.rebind(this,c,"on")},n.deepExtend=function(e,t){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(e[r]=e[r]||{},n.deepExtend(e[r],t[r])):e[r]=t[r];return e},n.UndoManager=function(){function e(e,t){return e?(a=!0,e[t](),a=!1,this):this}var t,r=[],n=-1,a=!1;return{add:function(e){return a?this:(r.splice(n+1,r.length-n),r.push(e),n=r.length-1,this)},setCallback:function(e){t=e},undo:function(){var a=r[n];return a?(e(a,"undo"),n-=1,t&&t(a.undo),this):this},redo:function(){var a=r[n+1];return a?(e(a,"redo"),n+=1,t&&t(a.redo),this):this},clear:function(){r=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<r.length-1},getCommands:function(){return r},getPreviousCommand:function(){return r[n-1]},getIndex:function(){return n}}}},{"./plotly":48}],50:[function(e,t){"use strict";function r(e,t,r){var n=r("line.shape");"spline"===n&&r("line.smoothing")}function n(e,t){var r,n;if("lines"===e.mode)return r=e.line.color,r&&o.Color.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,i=t.mlcc||((e.marker||{}).line||{}).color;return n=a&&o.Color.opacity(a)?a:i&&o.Color.opacity(i)&&(t.mlw||((e.marker||{}).line||{}).width)?i:"",n?o.Color.opacity(n)<.3?o.Color.addOpacity(n,.3):n:(r=(e.line||{}).color,r&&o.Color.opacity(r)&&o.Scatter.hasLines(e)&&e.line.width?r:e.fillcolor)}var a=t.exports={},o=e("./plotly"),i=e("./isnumeric");o.Plots.register(a,"scatter",["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"]),a.PTS_LINESONLY=20,a.attributes={x:{type:"data_array"},x0:{type:"any",dflt:0},dx:{type:"number",dflt:1},y:{type:"data_array"},y0:{type:"any",dflt:0},dy:{type:"number",dflt:1},text:{type:"string",dflt:"",arrayOk:!0},mode:{type:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:{type:"color"},width:{type:"number",min:0,dflt:2},shape:{type:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{type:"number",min:0,max:1.3,dflt:1},dash:{type:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"}},connectgaps:{type:"boolean",dflt:!1},fill:{type:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx"],dflt:"none"},fillcolor:{type:"color"},marker:{symbol:{type:"enumerated",values:o.Drawing.symbolList,dflt:"circle",arrayOk:!0},opacity:{type:"number",min:0,max:1,arrayOk:!0},size:{type:"number",min:0,dflt:6,arrayOk:!0},color:{type:"color",arrayOk:!0},maxdisplayed:{type:"number",min:0,dflt:0},sizeref:{type:"number",dflt:1},sizemin:{type:"number",min:0,dflt:0},sizemode:{type:"enumerated",values:["diameter","area"],dflt:"diameter"},colorscale:{type:"colorscale"},cauto:{type:"boolean",dflt:!0},cmax:{type:"number",dflt:null},cmin:{type:"number",dflt:null},autocolorscale:{type:"boolean",dflt:!0},reversescale:{type:"boolean",dflt:!1},showscale:{type:"boolean",dflt:!1},line:{color:{type:"color",arrayOk:!0},width:{type:"number",min:0,arrayOk:!0},colorscale:{type:"colorscale"},cauto:{type:"boolean",dflt:!0},cmax:{type:"number",dflt:null},cmin:{type:"number",dflt:null},autocolorscale:{type:"boolean",dflt:!0},reversescale:{type:"boolean",dflt:!1}}},textposition:{type:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{type:"font",arrayOk:!0},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"}},a.handleXYDefaults=function(e,t,r){var n,a=r("x"),o=r("y");if(a)o?(n=Math.min(a.length,o.length),n<a.length&&(t.x=a.slice(0,n)),n<o.length&&(t.y=o.slice(0,n))):(n=a.length,r("y0"),r("dy"));else{if(!o)return 0;n=t.y.length,r("x0"),r("dx")}return n},a.supplyDefaults=function(e,t,n,i){function l(r,n){return o.Lib.coerce(e,t,a.attributes,r,n)}var s=a.handleXYDefaults(e,t,l),c=s<a.PTS_LINESONLY?"lines+markers":"lines";if(!s)return void(t.visible=!1);if(l("text"),l("mode",c),a.hasLines(t)&&(a.lineDefaults(e,t,n,l),r(e,t,l),l("connectgaps")),a.hasMarkers(t)&&a.markerDefaults(e,t,n,i,l),a.hasText(t)&&a.textDefaults(e,t,i,l),(a.hasMarkers(t)||a.hasText(t))&&l("marker.maxdisplayed"),l("fill"),"none"!==t.fill){var u=!1;if(t.marker){var d=t.marker.color,f=(t.marker.line||{}).color;d&&!Array.isArray(d)?u=d:f&&!Array.isArray(f)&&(u=f)}l("fillcolor",o.Color.addOpacity((t.line||{}).color||u||n,.5)),a.hasLines(t)||r(e,t,l)}o.ErrorBars&&(o.ErrorBars.supplyDefaults(e,t,n,{axis:"y"}),o.ErrorBars.supplyDefaults(e,t,n,{axis:"x",inherit:"y"}))},a.lineDefaults=function(e,t,r,n){var a=(e.marker||{}).color;n("line.color",(Array.isArray(a)?!1:a)||r),n("line.width"),n("line.dash")},a.markerDefaults=function(e,t,r,n,i){var l,s=a.isBubble(e),c=(e.line||{}).color;c&&(r=c),i("marker.symbol"),i("marker.opacity",s?.7:1),i("marker.size"),i("marker.color",r),o.Colorscale.hasColorscale(e,"marker")&&o.Colorscale.handleDefaults(e,t,n,i,{prefix:"marker.",cLetter:"c"}),l=c&&t.marker.color!==c?c:s?o.Color.background:o.Color.defaultLine,i("marker.line.color",l),o.Colorscale.hasColorscale(e,"marker.line")&&o.Colorscale.handleDefaults(e,t,n,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",s?1:0),s&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode"))},a.textDefaults=function(e,t,r,n){n("textposition"),n("textfont",r.font)},a.cleanData=function(e){var t,r,n,a,o;for(t=0;t<e.length;t++)if(r=e[t],n=r.fill,"none"!==n&&"scatter"===r.type&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(a=t-1;a>=0;a--)if(o=e[a],"scatter"===o.type&&o.xaxis===r.xaxis&&o.yaxis===r.yaxis){o.opacity=void 0;break}},a.hasLines=function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},a.hasMarkers=function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("markers")},a.hasText=function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},a.isBubble=function(e){return"object"==typeof e.marker&&Array.isArray(e.marker.size)},a.colorbar=function(e,t){var r=t[0].trace,n=r.marker,a="cb"+r.uid;if(e._fullLayout._infolayer.selectAll("."+a).remove(),void 0===n||!n.showscale)return void o.Plots.autoMargin(e,a);var l=o.Colorscale.getScale(n.colorscale),s=n.color,c=n.cmin,u=n.cmax;i(c)||(c=o.Lib.aggNums(Math.min,null,s)),i(u)||(u=o.Lib.aggNums(Math.max,null,s));var d=t[0].t.cb=o.Colorbar(e,a);d.fillcolor(d3.scale.linear().domain(l.map(function(e){return c+e[0]*(u-c)})).range(l.map(function(e){return e[1]}))).filllevels({start:c,end:u,size:(u-c)/254}).options(n.colorbar)(),o.Lib.markTime("done colorbar")},a.getBubbleSizeFn=function(e){var t=e.marker,r=t.sizeref||1,n=t.sizemin||0,a="area"===t.sizemode?function(e){return Math.sqrt(e/r)}:function(e){return e/r};return function(e){var t=a(e/2);return i(t)&&t>0?Math.max(t,n):0}},a.calc=function(e,t){var r=o.Axes.getFromId(e,t.xaxis||"x"),n=o.Axes.getFromId(e,t.yaxis||"y");o.Lib.markTime("in Scatter.calc");var l=r.makeCalcdata(t,"x");o.Lib.markTime("finished convert x");var s=n.makeCalcdata(t,"y");o.Lib.markTime("finished convert y");var c,u,d,f=Math.min(l.length,s.length);r._minDtick=0,n._minDtick=0,l.length>f&&l.splice(f,l.length-f),s.length>f&&s.splice(f,s.length-f);var h={padded:!0},p={padded:!0};if(a.hasMarkers(t)){if(c=t.marker,u=c.size,Array.isArray(u)){var g={type:"linear"};o.Axes.setConvert(g),u=g.makeCalcdata(t.marker,"size"),u.length>f&&u.splice(f,u.length-f)}var m,y=1.6*(t.marker.sizeref||1);m="area"===t.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/y),3)}:function(e){return Math.max((e||0)/y,3)},h.ppad=p.ppad=Array.isArray(u)?u.map(m):m(u)}a.calcMarkerColorscales(t),!("tozerox"===t.fill||"tonextx"===t.fill&&e.firstscatter)||l[0]===l[f-1]&&s[0]===s[f-1]?void 0!==o.ErrorBars&&t.error_y.visible||-1===["tonexty","tozeroy"].indexOf(t.fill)&&(a.hasMarkers(t)||a.hasText(t))||(h.padded=!1,h.ppad=0):h.tozero=!0,!("tozeroy"===t.fill||"tonexty"===t.fill&&e.firstscatter)||l[0]===l[f-1]&&s[0]===s[f-1]?-1!==["tonextx","tozerox"].indexOf(t.fill)&&(p.padded=!1):p.tozero=!0,o.Lib.markTime("ready for Axes.expand"),o.Axes.expand(r,l,h),o.Lib.markTime("done expand x"),o.Axes.expand(n,s,p),o.Lib.markTime("done expand y");
var v=new Array(f);for(d=0;f>d;d++)v[d]=i(l[d])&&i(s[d])?{x:l[d],y:s[d]}:{x:!1,y:!1};return void 0!==typeof u&&o.Lib.mergeArray(u,v,"ms"),e.firstscatter=!1,v},a.calcMarkerColorscales=function(e){if(a.hasMarkers(e)){var t=e.marker;o.Colorscale.hasColorscale(e,"marker")&&o.Colorscale.calc(e,t.color,"marker","c"),o.Colorscale.hasColorscale(e,"marker.line")&&o.Colorscale.calc(e,t.line.color,"marker.line","c")}},a.selectMarkers=function(e,t,r){var n=t.x(),o=t.y(),i=d3.extent(n.range.map(n.l2c)),l=d3.extent(o.range.map(o.l2c));r.forEach(function(e,t){var n=e[0].trace;if(a.hasMarkers(n)){var o=n.marker.maxdisplayed;if(0!==o){var s=e.filter(function(e){return e.x>=i[0]&&e.x<=i[1]&&e.y>=l[0]&&e.y<=l[1]}),c=Math.ceil(s.length/o),u=0;r.forEach(function(e,r){var n=e[0].trace;a.hasMarkers(n)&&n.marker.maxdisplayed>0&&t>r&&u++});var d=Math.round(u*c/3+Math.floor(u/3)*c/7.1);e.forEach(function(e){delete e.vis}),s.forEach(function(e,t){0===Math.round((t+d)%c)&&(e.vis=!0)})}}})},a.arraysToCalcdata=function(e){var t=e[0].trace,r=t.marker;if(o.Lib.mergeArray(t.text,e,"tx"),o.Lib.mergeArray(t.textposition,e,"tp"),t.textfont&&(o.Lib.mergeArray(t.textfont.size,e,"ts"),o.Lib.mergeArray(t.textfont.color,e,"tc"),o.Lib.mergeArray(t.textfont.family,e,"tf")),r&&r.line){var n=r.line;o.Lib.mergeArray(r.opacity,e,"mo"),o.Lib.mergeArray(r.symbol,e,"mx"),o.Lib.mergeArray(r.color,e,"mc"),o.Lib.mergeArray(n.color,e,"mlc"),o.Lib.mergeArray(n.width,e,"mlw")}},a.plot=function(e,t,r){function n(e){return e.filter(function(e){return e.vis})}a.selectMarkers(e,t,r);var i=t.x(),l=t.y(),s=t.plot.select(".scatterlayer").selectAll("g.trace.scatter").data(r);s.enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2);var c,u,d,f="";s.each(function(e){var t=e[0].trace,r=t.line;if(t.visible===!0&&(a.arraysToCalcdata(e),a.hasLines(t)||"none"!==t.fill)){var n,s,h,p,g=d3.select(this),m="",y="";c="tozero"===t.fill.substr(0,6)||"to"===t.fill.substr(0,2)&&!f?g.append("path").classed("js-fill",!0):null,d&&(u=d.datum(e)),d=g.append("path").classed("js-fill",!0),-1!==["hv","vh","hvh","vhv"].indexOf(r.shape)?(s=o.Drawing.steps(r.shape),h=o.Drawing.steps(r.shape.split("").reverse().join(""))):s=h="spline"===r.shape?function(e){return o.Drawing.smoothopen(e,r.smoothing)}:function(e){return"M"+e.join("L")},p=function(e){return"L"+h(e.reverse()).substr(1)};var v=a.linePoints(e,{xaxis:i,yaxis:l,connectGaps:t.connectgaps,baseTolerance:Math.max(r.width||1,3)/4,linear:"linear"===r.shape});if(v.length){for(var x=v[0][0],b=v[v.length-1],w=b[b.length-1],_=0;_<v.length;_++){var k=v[_];n=s(k),m+=m?"L"+n.substr(1):n,y=p(k)+y,a.hasLines(t)&&k.length>1&&g.append("path").classed("js-line",!0).attr("d",n)}c?x&&w&&("y"===t.fill.charAt(t.fill.length-1)?x[1]=w[1]=l.c2p(0,!0):x[0]=w[0]=i.c2p(0,!0),c.attr("d",m+"L"+w+"L"+x+"Z")):"tonext"===t.fill.substr(0,6)&&m&&f&&u.attr("d",m+f+"Z"),f=y}}}),s.selectAll("path:not([d])").remove(),s.append("g").attr("class","points").each(function(e){var t=e[0].trace,r=d3.select(this),s=a.hasMarkers(t),c=a.hasText(t);!s&&!c||t.visible!==!0?r.remove():(s&&r.selectAll("path.point").data(t.marker.maxdisplayed?n:o.Lib.identity).enter().append("path").classed("point",!0).call(o.Drawing.translatePoints,i,l),c&&r.selectAll("g").data(t.marker.maxdisplayed?n:o.Lib.identity).enter().append("g").append("text").call(o.Drawing.translatePoints,i,l))})},a.linePoints=function(e,t){function r(t){var r=_.c2p(e[t].x),n=k.c2p(e[t].y);return r===C||n===C?!1:[r,n]}function n(e){var t=e[0]/_._length,r=e[1]/k._length;return(1+10*Math.max(0,-t,t-1,-r,r-1))*M}function a(e,t){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}var i,l,s,c,u,d,f,h,p,g,m,y,v,x,b,w,_=t.xaxis,k=t.yaxis,A=t.connectGaps,M=t.baseTolerance,L=t.linear,z=[],C=o.Axes.BADNUM,S=.2,P=new Array(e.length),O=0;for(i=0;i<e.length;i++)if(l=r(i)){for(O=0,P[O++]=l,i++;i<e.length;i++){if(c=r(i),!c){if(A)continue;break}if(L){if(f=a(c,l),!(f<n(c)*S)){for(p=[(c[0]-l[0])/f,(c[1]-l[1])/f],u=l,m=f,y=x=b=0,h=!1,s=c,i++;i<e.length;i++){if(d=r(i),!d){if(A)continue;break}if(g=[d[0]-l[0],d[1]-l[1]],w=g[0]*p[1]-g[1]*p[0],x=Math.min(x,w),b=Math.max(b,w),b-x>n(d))break;s=d,v=g[0]*p[0]+g[1]*p[1],v>m?(m=v,c=d,h=!1):y>v&&(y=v,u=d,h=!0)}if(h?(P[O++]=c,s!==u&&(P[O++]=u)):(u!==l&&(P[O++]=u),s!==c&&(P[O++]=c)),P[O++]=s,i>=e.length||!d)break;P[O++]=d,l=d}}else P[O++]=c}z.push(P.slice(0,O))}return z},a.style=function(e){var t=d3.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(e){d3.select(this).selectAll("path.point").call(o.Drawing.pointStyle,e.trace||e[0].trace),d3.select(this).selectAll("text").call(o.Drawing.textPointStyle,e.trace||e[0].trace)}),t.selectAll("g.trace path.js-line").call(o.Drawing.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(o.Drawing.fillGroupStyle)},a.hoverPoints=function(e,t,r,a){var i=e.cd,l=i[0].trace,s=e.xa,c=e.ya,u=function(e){var r=Math.max(3,e.mrc||0);return Math.max(Math.abs(s.c2p(e.x)-s.c2p(t))-r,1-3/r)},d=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(c.c2p(e.y)-c.c2p(r))-t,1-3/t)},f=function(e){var n=Math.max(3,e.mrc||0),a=Math.abs(s.c2p(e.x)-s.c2p(t)),o=Math.abs(c.c2p(e.y)-c.c2p(r));return Math.max(Math.sqrt(a*a+o*o)-n,1-3/n)},h=o.Fx.getDistanceFunction(a,u,d,f);if(o.Fx.getClosest(i,h,e),e.index!==!1){var p=i[e.index],g=s.c2p(p.x,!0),m=c.c2p(p.y,!0),y=p.mrc||1;return e.color=n(l,p),e.x0=g-y,e.x1=g+y,e.xLabelVal=p.x,e.y0=m-y,e.y1=m+y,e.yLabelVal=p.y,p.tx&&(e.text=p.tx),o.ErrorBars&&o.ErrorBars.hoverInfo(p,l,e),[e]}}},{"./isnumeric":41,"./plotly":48}],51:[function(e,t){"use strict";function r(e,t){function r(t,r){return c.Lib.coerce(e,n,s.layoutAttributes,t,r)}var n={};r("opacity"),r("fillcolor"),r("line.color"),r("line.width"),r("line.dash");for(var o=e.path?"path":"rect",i=r("type",o),l=["x","y"],u=0;2>u;u++){var d=l[u],f={_fullLayout:t},h=c.Axes.coerceRef(e,n,f,d);if("path"!==i){var p=.25,g=.75;if("paper"!==h){var m=c.Axes.getFromId(f,h),y=a(m);p=y(m.range[0]+p*(m.range[1]-m.range[0])),g=y(m.range[0]+g*(m.range[1]-m.range[0]))}r(d+"0",p),r(d+"1",g)}}return"path"===i?r("path"):c.Lib.noneOrAll(e,n,["x0","x1","y0","y1"]),n}function n(e){return"category"===e.type?e.c2l:e.d2l}function a(e){return"category"===e.type?e.l2c:e.l2d}function o(e){return function(t){return e(t.replace("_"," "))}}function i(e,t){var r,a,i,l,u=t.type,d=c.Axes.getFromId(e,t.xref),f=c.Axes.getFromId(e,t.yref),h=e._fullLayout._size;if(d?(r=n(d),a=function(e){return d._offset+d.l2p(r(e,!0))}):a=function(e){return h.l+h.w*e},f?(i=n(f),l=function(e){return f._offset+f.l2p(i(e,!0))}):l=function(e){return h.t+h.h*(1-e)},"path"===u)return d&&"date"===d.type&&(a=o(a)),f&&"date"===f.type&&(l=o(l)),s.convertPath(t.path,a,l);var p=a(t.x0),g=a(t.x1),m=l(t.y0),y=l(t.y1);if("line"===u)return"M"+p+","+m+"L"+g+","+y;if("rect"===u)return"M"+p+","+m+"H"+g+"V"+y+"H"+p+"Z";var v=(p+g)/2,x=(m+y)/2,b=Math.abs(v-p),w=Math.abs(x-m),_="A"+b+","+w,k=v+b+","+x,A=v+","+(x-w);return"M"+k+_+" 0 1,1 "+A+_+" 0 0,1 "+k+"Z"}function l(e,t,r,n,a){var i="category"===e.type?Number:e.d2c;if(void 0!==t)return[i(t),i(r)];if(n){var l,s,c,u,d,p=1/0,g=-1/0,m=n.match(f);for("date"===e.type&&(i=o(i)),l=0;l<m.length;l++)s=m[l],c=a[s.charAt(0)].drawn,void 0!==c&&(u=m[l].substr(1).match(h),!u||u.length<c||(d=i(u[c]),p>d&&(p=d),d>g&&(g=d)));return g>=p?[p,g]:void 0}}var s=t.exports={},c=e("./plotly"),u=e("./isnumeric"),d=c.Scatter.attributes.line;s.layoutAttributes={_isLinkedToArray:!0,opacity:{type:"number",min:0,max:1,dflt:1},line:{color:d.color,width:d.width,dash:d.dash},fillcolor:{type:"color",dflt:"rgba(0,0,0,0)"},type:{type:"enumerated",values:["circle","rect","path","line"]},xref:{type:"enumerated"},x0:{type:"any"},x1:{type:"any"},yref:{type:"enumerated"},y0:{type:"any"},y1:{type:"any"},path:{type:"string",dflt:""}},s.supplyLayoutDefaults=function(e,t){for(var n=e.shapes||[],a=t.shapes=[],o=0;o<n.length;o++)a.push(r(n[o]||{},t))},s.drawAll=function(e){var t=e._fullLayout;t._shapelayer.selectAll("path").remove();for(var r=0;r<t.shapes.length;r++)s.draw(e,r)},s.add=function(e){var t=e._fullLayout.shapes.length;c.relayout(e,"shapes["+t+"]","add")},s.draw=function(e,t,o,l){var d,f=e.layout,h=e._fullLayout;if(!u(t)||-1===t){if(!t&&Array.isArray(l))return f.shapes=l,s.supplyLayoutDefaults(f,h),void s.drawAll(e);if("remove"===l)return delete f.shapes,h.shapes=[],void s.drawAll(e);if(o&&"add"!==l){for(d=0;d<h.shapes.length;d++)s.draw(e,d,o,l);return}t=h.shapes.length,h.shapes.push({})}if(!o&&l){if("remove"===l){for(h._shapelayer.selectAll('[data-index="'+t+'"]').remove(),h.shapes.splice(t,1),f.shapes.splice(t,1),d=t;d<h.shapes.length;d++)h._shapelayer.selectAll('[data-index="'+(d+1)+'"]').attr("data-index",String(d)),s.draw(e,d);return}if("add"===l||$.isPlainObject(l)){h.shapes.splice(t,0,{});var p=$.isPlainObject(l)?$.extend({},l):{text:"New text"};for(f.shapes?f.shapes.splice(t,0,p):f.shapes=[p],d=h.shapes.length-1;d>t;d--)h._shapelayer.selectAll('[data-index="'+(d-1)+'"]').attr("data-index",String(d)),s.draw(e,d)}}h._shapelayer.selectAll('[data-index="'+t+'"]').remove();var g=f.shapes[t];if(g){var m={xref:g.xref,yref:g.yref},y={};"string"==typeof o&&o?y[o]=l:$.isPlainObject(o)&&(y=o);var v=Object.keys(y);for(d=0;d<y.length;d++){var x=v[d];c.Lib.nestedProperty(g,x).set(y[x])}var b=["x0","x1","y0","y1"];for(d=0;4>d;d++){var w=b[d];if(void 0===y[w]&&void 0!==g[w]){var _,k=w.charAt(0),A=c.Axes.getFromId(e,c.Axes.coerceRef(m,{},e,k)),M=c.Axes.getFromId(e,c.Axes.coerceRef(g,{},e,k)),L=g[w];void 0!==y[k+"ref"]&&(A?(_=n(A)(L),L=(_-A.range[0])/(A.range[1]-A.range[0])):L=(L-M.domain[0])/(M.domain[1]-M.domain[0]),M?(_=M.range[0]+L*(M.range[1]-M.range[0]),L=a(M)(_)):L=A.domain[0]+L*(A.domain[1]-A.domain[0])),g[w]=L}}var z=r(g,h);h.shapes[t]=z;var C={"data-index":String(t),"fill-rule":"evenodd",d:i(e,z)},S=(z.xref+z.yref).replace(/paper/g,""),P=z.line.width?z.line.color:"rgba(0,0,0,0)",O=h._shapelayer.append("path").attr(C).style("opacity",z.opacity).call(c.Color.stroke,P).call(c.Color.fill,z.fillcolor).call(c.Drawing.dashLine,z.line.dash,z.line.width);S&&O.call(c.Drawing.setClipUrl,"clip"+h._uid+S)}};var f=/[MLHVQCTSZ][^MLHVQCTSZ]*/g,h=/[^\s,]+/g,p={M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},g={M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},m={M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0};s.convertPath=function(e,t,r){return e.replace(f,function(e){var n=0,a=e.charAt(0),o=p[a],i=g[a],l=m[a],s=e.substr(1).replace(h,function(e){return o[n]?e=t(e):i[n]&&(e=r(e)),n++,n>l&&(e="X"),e});return n>l&&(s=s.replace(/[\s,]*X.*/,""),console.log("ignoring extra params in segment "+e)),a+s})},s.calcAutorange=function(e){var t,r,n,a,o,i=e._fullLayout,s=i.shapes;if(s.length&&e._fullData.length)for(t=0;t<s.length;t++)r=s[t],n=r.line.width/2,"paper"!==r.xref&&(a=c.Axes.getFromId(e,r.xref),o=l(a,r.x0,r.x1,r.path,p),o&&c.Axes.expand(a,o,{ppad:n})),"paper"!==r.yref&&(a=c.Axes.getFromId(e,r.yref),o=l(a,r.y0,r.y1,r.path,g),o&&c.Axes.expand(a,o,{ppad:n}))}},{"./isnumeric":41,"./plotly":48}],52:[function(e,t){"use strict";function r(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function n(e){var t=["xaxis","yaxis","zaxis"];return t.indexOf(e.slice(0,5))>-1}var a=e("extend"),o=e("../plotly");t.exports=function(e,t){e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var i,l=e.data,s=e.layout,c=a(!0,[],l),u=a(!0,{},s,r(t.tileClass));if(t.width&&(u.width=t.width),t.height&&(u.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){u.annotations=[];var d=Object.keys(u);for(i=0;i<d.length;i++)n(d[i])&&(u[d[i]].title="");for(i=0;i<c.length;i++){var f=c[i];f.showscale=!1,f.marker&&(f.marker.showscale=!1),"pie"===f.type&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)u.annotations.push(t.annotations[i]);var h=o.Plots.getSubplotIds(u,"gl3d");if(h.length){var p={};for("thumbnail"===t.tileClass&&(p={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<h.length;i++){var g=h[i];u[g].xaxis=a(u[g].xaxis,p),u[g].yaxis=a(u[g].yaxis,p),u[g].zaxis=a(u[g].zaxis,p),u[g]._scene=null}u.glopts={preserveDrawingBuffer:!0}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var y={td:m,layout:u,data:c,config:{staticPlot:void 0===t.staticPlot?!0:t.staticPlot,plot3dPixelRatio:void 0===t.plot3dPixelRatio?2:t.plot3dPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.td.defaultLayout=r(t.tileClass),y}},{"../plotly":48,extend:5}],53:[function(e,t){var r={clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage")};t.exports=r},{"./cloneplot":52,"./svgtoimg":54,"./toimage":55,"./tosvg":56}],54:[function(e,t){"use strict";function r(e){var t=e.emitter?e.emitter:new n,r=window.Image,a=window.Blob,o=e.svg,i=e.format||"png",l=e.canvas,s=l.getContext("2d"),c=new r,u=window.URL||window.webkitURL,d=new a([o],{type:"image/svg+xml;charset=utf-8"}),f=u.createObjectURL(d);return l.height=e.height||150,l.width=e.width||300,c.onload=function(){var e;switch(u.revokeObjectURL(f),s.drawImage(c,0,0),i){case"jpeg":e=l.toDataURL("image/jpeg");break;case"png":e=l.toDataURL("image/png");break;case"webp":e=l.toDataURL("image/webp");break;case"svg":e=o;break;default:return t.emit("error","Image format is not jpeg, png or svg")}t.emit("success",e)},c.onerror=function(e){return u.revokeObjectURL(f),t.emit("error",e)},c.src=f,t}var n=e("events").EventEmitter;t.exports=r},{events:1}],55:[function(e,t){"use strict";function r(e,t){function r(){var e=s._fullLayout._hasGL3D,r=e?500:0;setTimeout(function(){var e=a.Snapshot.toSVG(s),r=window.document.createElement("div"),n=window.document.createElement("canvas");r.appendChild(n),r.id=a.Lib.randstr(),n.id=a.Lib.randstr(),i=a.Snapshot.svgToImg({format:t.format,width:s._fullLayout.width,height:s._fullLayout.height,canvas:n,emitter:i,svg:e}),i.clean=function(){s&&s.remove()}},r)}var o=a.Snapshot,i=new n,l=o.clone(e,{format:"png"}),s=l.td;return s.style.position="absolute",s.style.left="-5000px",document.body.appendChild(s),a.plot(s,l.data,l.layout,l.config).then(function(){s._fullLayout._hasGL3D||s.data&&s.data[0]&&s.data[0].r||(a.Annotations.drawAll(s),a.Legend.draw(s,s._fullLayout.showlegend),(s.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}))}).then(r).catch(function(e){i.emit("error",e)}),i}var n=e("events").EventEmitter,a=e("../plotly");t.exports=r},{"../plotly":48,events:1}],56:[function(e,t){"use strict";var r=e("../plotly");t.exports=function(e,t){var n,a,o=e._fullLayout,i=o._paper,l=o._size;i.insert("rect",":first-child").call(r.Drawing.setRect,0,0,o.width,o.height).call(r.Color.fill,o.paper_bgcolor);var s,c,u=r.Plots.getSubplotIds(o,"gl3d");for(a=0;a<u.length;a++)s=o[u[a]],c=s._scene.toImage("png"),n=s.domain,o._glimages.append("svg:image").attr({xmlns:"http://www.w3.org/2000/svg","xlink:xlink:href":c,height:l.h*(n.y[1]-n.y[0]),width:l.w*(n.x[1]-n.x[0]),x:l.l+l.w*n.x[0],y:l.t+l.h*(1-n.y[1]),preserveAspectRatio:"none"}),s._scene.destroy();var d,f,h=r.Plots.getSubplotIds(o,"geo");for(a=0;a<h.length;a++)d=o[h[a]],n=d.domain,f=d._geo.framework,f.attr("style",null),f.attr({x:l.l+l.w*n.x[0]+d._marginX,y:l.t+l.h*(1-n.y[1])+d._marginY,width:d._width,height:d._height}),o._geoimages.node().appendChild(f.node());if(o._toppaper){var p,g=o._toppaper.node().childNodes;for(a=0;a<g.length;a++)p=g[a],p.childNodes.length&&i.node().appendChild(p)}i.node().style.background="",i.selectAll("text").attr({"data-unformatted":null}).each(function(){var e=window.d3.select(this);if("hidden"===e.style("visibility"))return void e.remove();var t=e.style("font-family");t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(/"/g,'"'))}),("pdf"===t||"eps"===t)&&i.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),i.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");var m=(new window.XMLSerializer).serializeToString(i.node());return m=r.util.html_entity_decode(m),m=r.util.xml_entity_encode(m)}},{"../plotly":48}],57:[function(e){(function(e,t){!function(){var r,n,a,o;!function(){var e={},t={};r=function(t,r,n){e[t]={deps:r,callback:n}},o=a=n=function(r){function a(e){if("."!==e.charAt(0))return e;for(var t=e.split("/"),n=r.split("/").slice(0,-1),a=0,o=t.length;o>a;a++){var i=t[a];if(".."===i)n.pop();else{if("."===i)continue;n.push(i)}}return n.join("/")}if(o._eak_seen=e,t[r])return t[r];if(t[r]={},!e[r])throw new Error("Could not find module "+r);for(var i,l=e[r],s=l.deps,c=l.callback,u=[],d=0,f=s.length;f>d;d++)u.push("exports"===s[d]?i={}:n(a(s[d])));var h=c.apply(this,u);return t[r]=i||h}}(),r("promise/all",["./utils","exports"],function(e,t){"use strict";function r(e){var t=this;if(!n(e))throw new TypeError("You must pass an array to all.");return new t(function(t,r){function n(e){return function(t){o(e,t)}}function o(e,r){l[e]=r,0===--s&&t(l)}var i,l=[],s=e.length;0===s&&t([]);for(var c=0;c<e.length;c++)i=e[c],i&&a(i.then)?i.then(n(c),r):o(c,i)})}var n=e.isArray,a=e.isFunction;t.all=r}),r("promise/asap",["exports"],function(r){"use strict";function n(){return function(){e.nextTick(i)}}function a(){var e=0,t=new u(i),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function o(){return function(){d.setTimeout(i,1)}}function i(){for(var e=0;e<f.length;e++){var t=f[e],r=t[0],n=t[1];r(n)}f=[]}function l(e,t){var r=f.push([e,t]);1===r&&s()}var s,c="undefined"!=typeof window?window:{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"!=typeof t?t:void 0===this?window:this,f=[];s="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?n():u?a():o(),r.asap=l}),r("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?r[e]:void(r[e]=t)}var r={instrument:!1};e.config=r,e.configure=t}),r("promise/polyfill",["./promise","./utils","exports"],function(e,r,n){"use strict";function a(){var e;e="undefined"!=typeof t?t:"undefined"!=typeof window&&window.document?window:self;var r="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),i(t)}();r||(e.Promise=o)}var o=e.Promise,i=r.isFunction;n.polyfill=a}),r("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,r,n,a,o,i,l){"use strict";function s(e){if(!w(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(e,this)}function c(e,t){function r(e){p(t,e)}function n(e){m(t,e)}try{e(r,n)}catch(e){n(e)}}function u(e,t,r,n){var a,o,i,l,s=w(r);if(s)try{a=r(n),i=!0}catch(e){l=!0,o=e}else a=n,i=!0;h(t,a)||(s&&i?p(t,a):l?m(t,o):e===S?p(t,a):e===P&&m(t,a))}function d(e,t,r,n){var a=e._subscribers,o=a.length;a[o]=t,a[o+S]=r,a[o+P]=n}function f(e,t){for(var r,n,a=e._subscribers,o=e._detail,i=0;i<a.length;i+=3)r=a[i],n=a[i+t],u(t,r,n,o);e._subscribers=null}function h(e,t){var r,n=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(b(t)&&(n=t.then,w(n)))return n.call(t,function(n){return r?!0:(r=!0,void(t!==n?p(e,n):g(e,n)))},function(t){return r?!0:(r=!0,void m(e,t))}),!0}catch(t){return r?!0:(m(e,t),!0)}return!1}function p(e,t){e===t?g(e,t):h(e,t)||g(e,t)}function g(e,t){e._state===z&&(e._state=C,e._detail=t,x.async(y,e))}function m(e,t){e._state===z&&(e._state=C,e._detail=t,x.async(v,e))}function y(e){f(e,e._state=S)}function v(e){f(e,e._state=P)}var x=e.config,b=(e.configure,t.objectOrFunction),w=t.isFunction,_=(t.now,r.all),k=n.race,A=a.resolve,M=o.reject,L=i.asap;x.async=L;var z=void 0,C=0,S=1,P=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var r=this,n=new this.constructor(function(){});if(this._state){var a=arguments;x.async(function(){u(r._state,n,a[r._state-1],r._detail)})}else d(this,n,e,t);return n},catch:function(e){return this.then(null,e)}},s.all=_,s.race=k,s.resolve=A,s.reject=M,l.Promise=s}),r("promise/race",["./utils","exports"],function(e,t){"use strict";function r(e){var t=this;if(!n(e))throw new TypeError("You must pass an array to race.");return new t(function(t,r){for(var n,a=0;a<e.length;a++)n=e[a],n&&"function"==typeof n.then?n.then(t,r):t(n)})}var n=e.isArray;t.race=r}),r("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,r){r(e)})}e.reject=t}),r("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),r("promise/utils",["exports"],function(e){"use strict";function t(e){return r(e)||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}var a=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=r,e.isArray=n,e.now=a}),n("promise/polyfill").polyfill()}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],58:[function(){Promise.prototype.done||(Promise.prototype.done=function(e,t){this.then(e,t).then(null,function(e){setTimeout(function(){throw e},0)})})},{}]},{},[48])(48)});
Plotly.BUILD="20150819a_advanced";